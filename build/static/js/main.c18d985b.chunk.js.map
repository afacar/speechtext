{"version":3,"sources":["assets/logo-en.png","assets/logo-tr.png","assets/default-file-image.png","assets/mastercard-visa-logo.png","utils/action-types.js","utils/language-codes.js","utils/localization.js","utils/firebase.js","utils/index.js","reducers/app-reducer.js","reducers/auth-reducer.js","reducers/file-reducer.js","reducers/editor-reducer.js","reducers/user.js","reducers/index.js","actions/auth-actions.js","actions/user-actions.js","actions/app-actions.js","actions/file-actions.js","actions/evaluation-actions.js","actions/editor-actions.js","containers/dashboard/user-box.js","components/logo-container.js","containers/dashboard-header.js","components/export-popup.js","components/file.js","components/approvement-popup.js","components/upload-popup.js","containers/dashboard/file-list.js","containers/dashboard/dashboard.js","containers/user/profile.js","components/payment-details.js","components/billing-details.js","components/check-out-info.js","containers/user/checkout-page.js","containers/user/selling-contract.js","containers/user/refund-contract.js","containers/user/payment.js","containers/user/transaction-history.js","containers/user/user.js","components/editor/video-player.js","utils/transcription/updateBlock.js","utils/transcription/transcript-entities.js","components/speaker-box.js","components/transcription/transcript-editor-block.js","components/transcription/transcript-editor.js","components/transcription/transcript-editor-word.js","components/transcription/transcript-editor-space.js","utils/transcription/convertFromTranscript.js","utils/transcription/convertToTranscript.js","utils/transcription/convertToJSON.js","components/transcription/transcript-editor-span-unplayed.js","components/transcription/transcript-editor-span-played.js","utils/transcription/decorators.js","components/transcription/index.js","components/editor/editor-view.js","components/editor-export.js","containers/dashboard/transcription-result.js","components/evaluation-popup.js","components/auth.js","components/splash.js","containers/app.js","index.js"],"names":["module","exports","SET_LANGUAGE","SET_SUPPORTED_LANGUAGES","LOGIN","LOGOUT","GET_PLANS","GET_TRANSACTIONS","GET_ERROR_DEFINITIONS","GET_FILE_LIST","UPDATE_FILE","UPDATE_FILE_IN_STATE","SET_SELECTED_FILE","ADD_TO_UPLOADING_FILES","REMOVE_FROM_UPLOADING_FILES","SET_UPLOADING_FILE_PROGRESS","HANDLE_TIME_CHANGE","IS_PLAYING","EDITOR_FOCUS","CURRENT_SPEAKER_BOX","SET_TRIMMED_FILE_INFO","LanguageCodes","key","value","code","Intl","PluralRules","require","messages","messages_tr","messages_en","currentLanguage","navigator","language","_","has","supportedLanguages","LanguagageCodes","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","addZeroes","val","length","ActionTypes","Localization","initGoogleAnalytics","ReactGA","initialize","pageview","window","location","pathname","search","initSentry","Sentry","dsn","getNameSurname","displayName","fullName","trim","index","lastIndexOf","slice","formatSizeByteToMB","size","toFixed","formatDateSimpleFormat","expireDate","date","Date","seconds","day","getDate","month","getMonth","year","getFullYear","formatTime","time","Math","floor","minutes","hours","logError","logData","functions","httpsCallable","DEFAULT_SUPPORTED_LANGUAGES","state","action","type","Utils","payload","fileId","isEmpty","newState","remove","file","id","auth","setLanguage","AppReducer","setSupportedLanguages","plans","errorDefinitions","trimmedFileInfo","combineReducers","user","AuthReducer","userFiles","found","forEach","elem","push","clone","data","merge","selectedFile","uploadingFiles","fileObj","progress","map","handleTimeChange","playerStatus","editorFocus","transactions","selectedSpeakerBox","firestore","db","login","dispatch","getState","a","uid","doc","onSnapshot","snapshot","userData","emailVerified","update","isNewUser","ip","publicIp","v4","console","log","fncCreateUser","res","currentUser","sendEmailVerification","error","logout","updateProfile","email","country","address","collection","getTransactions","orderBy","docs","transcriptionData","price","request","currency","status","result","dateStr","requestDate","toDate","toLocaleDateString","transaction","basketId","amount","parseFloat","languages","getPlans","get","then","catch","submitContactForm","form","Promise","resolve","reject","counterDoc","counter","createdAt","contactUs","nameSurname","opinions","text","getErrorDefinitions","lang","split","Object","keys","setTrimmedFileInfo","minutesToBePaid","clearTrimmedFileInfo","getFileList","deletedFiles","find","getFile","addFile","set","updateFile","updateFileState","updateFileInState","setSelectedFile","addToUploadingFiles","removeFromUploadingFiles","setUploadingFileProgress","saveEvaluation","evaluation","userId","transcriptionRating","editorRating","thoughts","setEditorFocus","activeIndex","activeWordIndex","caretPosition","editorData","currentTime","isPlaying","setCurrentSpeakerBox","UserBox","signOut","props","delete_cookie","history","renderTitle","className","values","remainingMinutes","currentPlan","this","loginInfo","read_cookie","Nav","NavDropdown","title","alignRight","alignLeft","to","Divider","Item","eventKey","onClick","Component","connect","withRouter","LogoContainer","alt","src","LogoTr","LogoEn","DashboardHeader","Navbar","variant","expand","bg","Brand","Toggle","Collapse","ExportPopup","getTranscriptionData","storageRef","storage","ref","transcribedFile","filePath","getDownloadURL","downloadUrl","Axios","downloadAsTxt","that","setState","showSpinner","getTxtFile","fileName","name","replace","substr","newMetadata","contentDisposition","updateMetadata","metadata","element","document","createElement","href","click","closeModal","err","downloadAsDocx","getDocxFile","downloadAsSrt","getSrtFile","downloadFile","exportType","handleExportTypeChange","e","target","formatMessage","intl","Modal","show","onHide","centered","dialogClassName","Header","closeButton","Body","Container","Form","Control","as","defaultValue","required","onChange","Feedback","Footer","Button","Spinner","animation","role","aria-hidden","injectIntl","File","initUploadIfNecessary","uploadFile","paused","fileExtension","uploadTask","put","on","round","bytesTransferred","totalBytes","TaskState","PAUSED","RUNNING","downloadURL","originalFile","location_","path_","url","omit","selectedFileOptions","options","getErrorMessage","getFileStatus","getFileStatusClassName","deleteFile","preventDefault","stopPropagation","openInEditor","exportClicked","showExportPopup","closeExportModal","fileSelected","onSelected","undefined","fileSrc","FileLogo","thumbnail","config","downloadThumbnail","duration","createDate","originalDuration","isSelected","icon","faDatabase","faClock","faCalendar","readOnly","checked","faFileDownload","style","color","ApprovementPopup","headerText","bodyText","bodySubText","successButtonVariant","successButton","handleSuccess","cancelButtonVariant","cancelButton","handleCancel","hideCancelButton","ModalPageNames","UploadPopup","openFileDialog","fileInputRef","current","outerHTML","Alert","onFileAdded","evt","context","files","activeWindow","fileValidationErrorTitleId","fileValidationErrorId","validateFileDuration","media","startsWith","onloadedmetadata","fileDurationInSeconds","parseInt","ceil","URL","createObjectURL","handleFileNameChange","event","saveFileName","SAlert","editFileName","handleOptionsChange","renderFileName","Group","Label","onBlur","i","ReactDOM","findDOMNode","focus","faCheck","submitForm","currentTarget","checkValidity","autoTranscribe","approveFileUpload","validated","cancelClicked","cancelFileUpload","closePopup","closeFileUploadPopup","renderWindows","renderInfoWindow","renderUploadUptions","renderError","renderSuccess","selectedLanguage","onSubmit","Card","disabled","min","max","speakerCount","tags","addOnBlur","React","createRef","textRef","setTextRef","initUploadPopup","accept","FileList","fileDurationInMinutes","selectedFileDuration","showApprovement","showUploadPopup","onFileValidated","goToPayment","uploadClicked","durationInNanoSeconds","fileToUpload","assign","onFileSelected","selectedFiles","includes","splice","indexOf","filterFiles","filter","toLowerCase","filterValue","deleteFiles","filesToDelete","showDeleteApprovement","deleteFilesAfterApproval","cancelFileDeletion","getSelectedFileToExport","showTranscriptionEmptyMessage","open","each","faCloudUploadAlt","faEdit","faCloudDownloadAlt","faTrash","placeholder","Dashboard","beforeUnload","message","returnValue","clearUploadingFiles","setTimeout","resendVerificationEmail","isSent","blockNavigation","removeEventListener","addEventListener","Fragment","when","Profile","initializeValues","handlePhoneChange","phoneNumber","intlPhoneNumber","handleValueChange","stateName","handleSubmit","info","noValidate","countryList","getCodeList","PaymentDetails","cardNumber","expiry","cvc","width","borderColor","cardNumberInputProps","handleCardNumberChange","cardExpiryInputProps","handleCardExpiryChange","cardCVCInputProps","handleCardCVCChange","onError","toggleSubmit","containerStyle","border","fieldClassName","BillingDetails","displayNameIsValid","countryIsValid","addressIsValid","isInvalid","CheckOutInfo","calculatedPrice","unitPrice","durationType","substring","Row","Col","lg","md","sm","xs","align","CheckOutPage","validationErrorMessage","inputField","previousState","cardNumberEvent","expiryEvent","cvcEvent","validateBillingDetails","startPayment","validateInput","paymentObj","showError","renderCheckOutPage","errorMessage","toUpperCase","faCheckCircle","faTimesCircle","marginTop","MasterVisaLogo","SellingContract","calculateAmount","quota","formattedDate","getName","handleVisibility","planName","RefundContract","Payment","initializePage","checkoutForm","spinnerText","sellingContractAccepted","refundContractAccepted","showCheckOutForm","showContactForm","durationChanged","userPlan","calculatePrice","durationTypeChanged","durationInMinutes","pricePerHour","calculateStandardPrice","calculateCustomPrice","continueFileEdit","errorKey","errorDef","sellingContractClicked","showSellingContract","refundContractClicked","showRefundContract","handleSellingContractVisibility","handleRefundContractVisibility","renderContract","fontSize","textDecorationLine","cursor","showCheckoutForm","showForm","closeCheckOutForm","closeContactForm","minAmountToPay","obj","card","cardHolderName","expireMonth","expireYear","fncAddBasket","locale","flag","renderTerms","hash","selectedPlanType","planId","standard","standarddard","hourPrice","height","handleBuy","Transaction","sizeTmp","setArraySize","activePage","Table","responsive","striped","bordered","hover","renderTransaction","actions","User","calculateHashValue","hashValue","hashSplit","queryParam","changeTab","tabName","activeTabKey","onSelectTab","changeTransactionPage","items","number","Pagination","active","arraySize","pageItems","transactionHistory","nextProps","Tab","activeKey","onSelect","Link","Content","Pane","VideoPlayer","player","subscribeToStateChange","handleStateChange","bind","prevState","onTimeUpdate","interval","setInterval","updateTime","clearInterval","video","c","controls","position","order","vertical","rates","PosterImage","propTypes","poster","PropTypes","string","defaultProps","updateBlock","contentBlock","contentState","characterList","reduce","character","previousCharacter","last","entity","getEntity","CharacterMetadata","applyEntity","previousEntity","mergeEntityData","end","Immutable","List","SpeakerBox","speakers","speakerTag","useState","addNew","addButton","addNewSpeaker","editLocalSpeaker","item","checkSubmit","editSpeaker","setSpeaker","blockIndex","speakerIndex","speakerList","openedIndex","speaker","toJS","speakerName","refButton","Overlay","placement","rootClose","Popover","Title","contentEditable","onKeyDown","ListGroup","TranscriptEditorBlock","openedEditable","block","getCharacterList","start","first","blockProps","TranscriptEditor","handleBeforeInput","handleReturn","blockRenderer","handleKeyboardEvent","editorState","previousEditorState","lastChangeType","getLastChangeType","selectionState","getSelection","previousSelectionState","getCurrentContent","onSelectionChange","sendSelectionChange","startKey","getStartKey","previousStartKey","blockMap","getBlockMap","newBlockMap","_newBlockMap","blockKey","newContentBlock","startOffset","getStartOffset","insert","create","createEntity","getLastCreatedEntityKey","shift","pop","OrderedMap","EditorState","chars","entityKeyBefore","getBlockForKey","getEntityAt","getDefaultKeyBinding","onKeyboardEvent","component","showSpeakers","editor","isBackward","focusKey","anchorKey","focusOffset","anchorOffset","endKey","endOffset","startEntityKey","endEntityKey","startEntity","endEntity","startTime","startWordID","startBlockKey","startCharacterOffset","endTime","endID","endBlockKey","endCharacterOffset","selectedBlock","entityKeyAfter","keyBindingFn","handlePastedText","blockRendererFn","createEmpty","TranscriptEditorWord","entityKey","children","titleString","data-start","data-end","TranscriptEditorSpace","convertFromTranscript","transcript","ContentState","contentBlocks","segment","segmentIndex","ContentBlock","toString","word","interpose","flatten","w","join","Map","SelectionState","getKey","BlockMapBuilder","createFromArray","selectionBefore","selectionAfter","createWithContent","convertToTranscript","segments","toArray","words","findEntityRanges","getType","getText","TranscriptWord","TranscriptSegment","Transcript","convertToJSON","newJson","alternatives","newWords","ind","nanos","TranscriptEditorSpanUnplayed","TranscriptEditorSpanPlayed","TimeDecorator","CompositeDecorator","strategy","callback","components","Array","fill","findIndex","withTime","decorator","EditorView","handleChange","onTextChange","decorators","editorStateToBeDecorated","Export","savingState","showDownloadSpinner","DropdownButton","Dropdown","onSave","faSave","TranscriptionResult","componentWillUnmount","updateTranscribedFile","intervalHolder","updateInterval","componentWillReceiveProps","getTranscriptionResult","formatDataForEditor","removeEmptySpeakers","trimmed","minutesToShow","prevEditorData","resizedFile","transcriptJson2","fromJson","isSaved","lastEdit","blob","Blob","JSON","stringify","toJSON","clearSavingState","speakerTagChanged","handleTimeUpdate","newSpeaker","speakersJSON","fromJS","contentStateJSON","convertToRaw","blocks","convertFromRaw","reduceCredits","showReduceCreditsSpinner","fncReduceCredits","minutesToReduce","numOfWords","filtered","unshift","amountToBePaid","fileType","EvaluationPopup","transcriptionRatingClicked","editorRatingClicked","handleThoughtsChange","evaluationSaved","fileInfo","match","params","emptySymbol","fullSymbol","fractions","initialRating","rows","uiConfig","signInFlow","signInSuccessUrl","credentialHelper","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","EmailAuthProvider","tosUrl","privacyPolicyUrl","Auth","unsubscribe","onAuthStateChanged","Splash","checkUser","lastSignInTime","creationTime","bake_cookie","App","exact","path","Evaluate","stack","limit","timeout","html","effect","composeEnhancers","compose","store","createStore","reducers","applyMiddleware","thunk","render","getElementById"],"mappings":"mHAAAA,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,qC,4w0BCA3CD,EAAOC,QAAU,IAA0B,gD,kBCA3CD,EAAOC,QAAU,8xK,mkFCAJC,EAAe,eACfC,EAA0B,0BAC1BC,EAAQ,QACRC,EAAS,SACTC,EAAY,YACZC,EAAmB,mBACnBC,EAAwB,wBACxBC,EAAgB,gBAChBC,EAAc,cACdC,EAAuB,uBACvBC,EAAoB,oBACpBC,EAAyB,yBACzBC,EAA8B,8BAC9BC,EAA8B,8BAE9BC,EAAqB,qBACrBC,EAAa,aACbC,EAAe,eACfC,EAAsB,sBAEtBC,EAAwB,wB,kCCgdtBC,EApeO,CAClB,CACIC,IAAK,QACLC,MAAO,gBAEX,CACID,IAAK,QACLC,MAAO,2BAEX,CACID,IAAK,QACLC,MAAO,2BAEX,CACID,IAAK,QACLC,MAAO,2BAEX,CACID,IAAK,KACLC,MAAO,4DACPC,KAAM,IAEV,CACIF,IAAK,QACLC,MAAO,yEAEX,CACID,IAAK,QACLC,MAAO,qCAEX,CACID,IAAK,QACLC,MAAO,gCAEX,CACID,IAAK,QACLC,MAAO,4BAEX,CACID,IAAK,QACLC,MAAO,qFAEX,CACID,IAAK,QACLC,MAAO,6DAEX,CACID,IAAK,QACLC,MAAO,uBAEX,CACID,IAAK,QACLC,MAAO,+CAEX,CACID,IAAK,QACLC,MAAO,mBAEX,CACID,IAAK,QACLC,MAAO,yBAEX,CACID,IAAK,QACLC,MAAO,uBAEX,CACID,IAAK,QACLC,MAAO,oBAEX,CACID,IAAK,QACLC,MAAO,mBAEX,CACID,IAAK,QACLC,MAAO,mBAEX,CACID,IAAK,QACLC,MAAO,qBAEX,CACID,IAAK,QACLC,MAAO,mBAEX,CACID,IAAK,QACLC,MAAO,yBAEX,CACID,IAAK,QACLC,MAAO,qBAEX,CACID,IAAK,QACLC,MAAO,yBAEX,CACID,IAAK,QACLC,MAAO,uBAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,sBAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,wBAEX,CACID,IAAK,QACLC,MAAO,sBAEX,CACID,IAAK,QACLC,MAAO,yBAEX,CACID,IAAK,QACLC,MAAO,2BAEX,CACID,IAAK,QACLC,MAAO,wBAEX,CACID,IAAK,QACLC,MAAO,4BAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,+BAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,yBAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,yBAEX,CACID,IAAK,QACLC,MAAO,wBAEX,CACID,IAAK,QACLC,MAAO,4BAEX,CACID,IAAK,QACLC,MAAO,wCAEX,CACID,IAAK,QACLC,MAAO,wBAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,sBAEX,CACID,IAAK,SACLC,MAAO,wBAEX,CACID,IAAK,QACLC,MAAO,wBAEX,CACID,IAAK,QACLC,MAAO,wBAEX,CACID,IAAK,QACLC,MAAO,sBAEX,CACID,IAAK,QACLC,MAAO,6GAEX,CACID,IAAK,QACLC,MAAO,yEAEX,CACID,IAAK,QACLC,MAAO,uBAEX,CACID,IAAK,QACLC,MAAO,8BAEX,CACID,IAAK,QACLC,MAAO,2BAEX,CACID,IAAK,QACLC,MAAO,qBAEX,CACID,IAAK,QACLC,MAAO,oBAEX,CACID,IAAK,QACLC,MAAO,6DAEX,CACID,IAAK,QACLC,MAAO,uGAEX,CACID,IAAK,QACLC,MAAO,2CAEX,CACID,IAAK,QACLC,MAAO,iCAEX,CACID,IAAK,QACLC,MAAO,2BAEX,CACID,IAAK,QACLC,MAAO,4BAEX,CACID,IAAK,QACLC,MAAO,+EAEX,CACID,IAAK,QACLC,MAAO,6DAEX,CACID,IAAK,QACLC,MAAO,0BAEX,CACID,IAAK,QACLC,MAAO,yEAEX,CACID,IAAK,QACLC,MAAO,2BAEX,CACID,IAAK,QACLC,MAAO,mBAEX,CACID,IAAK,QACLC,MAAO,yBAEX,CACID,IAAK,QACLC,MAAO,2BAEX,CACID,IAAK,QACLC,MAAO,+BAEX,CACID,IAAK,QACLC,MAAO,4FAEX,CACID,IAAK,QACLC,MAAO,+BAEX,CACID,IAAK,QACLC,MAAO,qCAEX,CACID,IAAK,QACLC,MAAO,qBAEX,CACID,IAAK,QACLC,MAAO,sBAEX,CACID,IAAK,QACLC,MAAO,mBAEX,CACID,IAAK,QACLC,MAAO,iBAEX,CACID,IAAK,QACLC,MAAO,qBAEX,CACID,IAAK,QACLC,MAAO,+EAEX,CACID,IAAK,QACLC,MAAO,uGAEX,CACID,IAAK,QACLC,MAAO,yEAEX,CACID,IAAK,QACLC,MAAO,+EAEX,CACID,IAAK,QACLC,MAAO,2FAEX,CACID,IAAK,QACLC,MAAO,wCAEX,CACID,IAAK,QACLC,MAAO,yEAEX,CACID,IAAK,QACLC,MAAO,6DAEX,CACID,IAAK,QACLC,MAAO,2FAEX,CACID,IAAK,QACLC,MAAO,6GAEX,CACID,IAAK,QACLC,MAAO,qFAEX,CACID,IAAK,QACLC,MAAO,+EAEX,CACID,IAAK,QACLC,MAAO,6GAEX,CACID,IAAK,QACLC,MAAO,mEAEX,CACID,IAAK,QACLC,MAAO,2FAEX,CACID,IAAK,QACLC,MAAO,qFAEX,CACID,IAAK,QACLC,MAAO,iGAEX,CACID,IAAK,QACLC,MAAO,2FAEX,CACID,IAAK,QACLC,MAAO,2FAEX,CACID,IAAK,QACLC,MAAO,iGAEX,CACID,IAAK,QACLC,MAAO,qFAEX,CACID,IAAK,QACLC,MAAO,qFAEX,CACID,IAAK,QACLC,MAAO,qFAEX,CACID,IAAK,QACLC,MAAO,yEAEX,CACID,IAAK,QACLC,MAAO,+EAEX,CACID,IAAK,QACLC,MAAO,qFAEX,CACID,IAAK,QACLC,MAAO,mEAEX,CACID,IAAK,QACLC,MAAO,+EAEX,CACID,IAAK,QACLC,MAAO,mEAEX,CACID,IAAK,QACLC,MAAO,mEAEX,CACID,IAAK,QACLC,MAAO,mEAEX,CACID,IAAK,QACLC,MAAO,+EAEX,CACID,IAAK,QACLC,MAAO,iDAEX,CACID,IAAK,QACLC,MAAO,+BAEX,CACID,IAAK,cACLC,MAAO,qCAEX,CACID,IAAK,QACLC,MAAO,8CAEX,CACID,IAAK,QACLC,MAAO,qCAEX,CACID,IAAK,KACLC,MAAO,kDC1dVE,KAAKC,aACNC,EAAQ,KAQZ,IAAMC,EAAW,CACb,QAASC,EACT,QAASC,GAETC,EAAyC,OAAvBC,UAAUC,SAAoB,QAAUD,UAAUC,SAEpEC,IAAEC,IAAIP,EAAUG,KAChBA,EAAkB,SAGP,OACXK,mBAAoBC,EACpBN,kBACAH,Y,kBCNJU,IAASC,cApBc,CACnBC,OAAQC,0CACRC,WAAYD,gCACZE,YAAaF,uCACbG,UAAWH,gBACXI,cAAeJ,kCACfK,kBAAmBL,eACnBM,MAAON,8CAeIH,QAAf,E,SCjBMU,EAAY,SAACC,GACf,OAAsB,IAAfA,EAAIC,OAAe,IAAMD,EAAMA,GAyD3B,GACXE,cACAC,eACAC,oBAxCwB,WACxBC,IAAQC,WAAW,kBACnBD,IAAQE,SAASC,OAAOC,SAASC,SAAWF,OAAOC,SAASE,SAuC5DC,WA7Ce,WACfC,IAAY,CAAEC,IAAK,gEA6CnBzB,WACAU,YACAgB,eA7DmB,SAACC,GACpB,IAAIC,EAAWD,EAAYE,OACvBC,EAAQF,EAASG,YAAY,KACjC,OAAID,EAAQ,EAAU,CAACF,EAAUA,GAG1B,CAFIE,EAAQ,EAAIF,EAASI,MAAM,EAAGF,GAAS,GACpCA,EAAQ,EAAIF,EAASI,MAAMF,EAAQ,GAAK,KAyDtDG,mBArDuB,SAACC,GACxB,OAAQA,EAAO,KAASC,QAAQ,IAqDhCC,uBAzC2B,SAACC,EAAY1C,GACxC,IAAK0C,EAAY,OAAO,KACxB,IAAIC,EAAO,IAAIC,KAA0B,IAArBF,EAAWG,SAC3BC,EAAM/B,EAAU4B,EAAKI,WACrBC,EAAQjC,EAAU4B,EAAKM,WAAa,GACpCC,EAAOP,EAAKQ,cAChB,MAAiB,UAAbnD,EACO8C,EAAM,IAAME,EAAQ,IAAME,EAE9BF,EAAQ,IAAMF,EAAM,IAAMI,GAiCjCE,WA9Be,SAACC,GAChB,IAAIR,EAAUS,KAAKC,MAAMF,EAAO,IAC5BG,EAAUF,KAAKC,MAAMF,EAAO,IAC5BI,EAAQH,KAAKC,MAAMC,EAAU,IAUjC,OATIC,EAAQ,IACRD,EAAUF,KAAKC,MAAMC,EAAU,KAE/BC,EAAQ,KAAIA,EAAK,WAAOA,IACxBD,EAAU,KAAIA,EAAO,WAAOA,IAC5BX,EAAU,KAAIA,EAAO,WAAOA,IAC3BY,IAAOA,EAAQ,MACfD,IAASA,EAAU,MACnBX,IAASA,EAAU,MAClB,GAAN,OAAUY,EAAV,YAAmBD,EAAnB,YAA8BX,IAkB9Ba,SAfa,SAACC,GACdtD,EAASuD,YAAYC,cAAc,cAAnCxD,CAAkDsD,KClDhDG,EAA8B,CAChC,CACIzE,IAAK,QACLC,MAAO,gBAEX,CACID,IAAK,QACLC,MAAO,YA+CA,EA/DK,WAA8B,IAA7ByE,EAA4B,uDAApB,QAASC,EAAW,uCAC7C,OAAQA,EAAOC,MACX,KAAKC,EAAMhD,YAAYjD,aACnB,OAAO+F,EAAOG,SAAW,QAC7B,QACI,OAAOJ,IA0DJ,EA3Ce,WAAkD,IAAjDA,EAAgD,uDAAxCD,EAA6BE,EAAW,uCAC3E,OAAQA,EAAOC,MACX,KAAKC,EAAMhD,YAAYhD,wBACnB,OAAO8F,EAAOG,QAClB,QACI,OAAOJ,IAsCJ,EAlCE,WAAyB,IAAxBA,EAAuB,uDAAf,GAAIC,EAAW,uCACrC,OAAQA,EAAOC,MACX,KAAKC,EAAMhD,YAAY7C,UACnB,OAAO2F,EAAOG,QAClB,QACI,OAAOJ,IA6BJ,EAzBa,WAAyB,IAAxBA,EAAuB,uDAAf,GAAIC,EAAW,uCAChD,OAAQA,EAAOC,MACX,KAAKC,EAAMhD,YAAY3C,sBACnB,OAAOyF,EAAOG,QAClB,QACI,OAAOJ,IAoBJ,EAhBY,WAAyB,IAAxBA,EAAuB,uDAAf,GAAIC,EAAW,yCAC5BA,EAAOG,SAAW,GAA7BC,EADuC,EACvCA,OACR,OAAQJ,EAAOC,MACX,KAAKC,EAAMhD,YAAY/B,sBACnB,IAAKc,IAAEoE,QAAQN,GAAQ,CACnB,IAAIO,EAAWrE,IAAEsE,OAAOR,GAAO,SAACS,GAC5B,OAAOJ,IAAWI,EAAKC,MAE3B,OAAOH,EAEX,OAAON,EAAOG,QAClB,QACI,OAAOJ,ICjDJW,EAXF,WAAyB,IAAxBX,EAAuB,uDAAf,GAAIC,EAAW,uCACjC,OAAQA,EAAOC,MACX,KAAKC,EAAMhD,YAAY/C,MAEvB,KAAK+F,EAAMhD,YAAY9C,OACnB,OAAO4F,EAAOG,QAClB,QACI,OAAOJ,I,kBCPX7C,GAAgBgD,EAAhBhD,YCDAA,GAAgBgD,EAAhBhD,YCAAA,GAAgBgD,EAAhBhD,YCMAyD,GAAiFC,EAApEC,GAAoED,EAA7CE,GAA6CF,EAAtCG,GAAsCH,EAApBI,GAAoBJ,EAC1EK,6BAAgB,CAC3BjF,SAAU2E,GACVxE,mBAAoB0E,GACpBK,KAAMC,EACNL,SACAC,oBACAK,UHVuB,WAAyB,IAAxBrB,EAAuB,uDAAf,GAAIC,EAAW,uCAC3CqB,GAAQ,EACRf,EAAW,GACf,OAAON,EAAOC,MACV,KAAK/C,GAAY1C,cACb,OAAOwF,EAAOG,QAClB,KAAKjD,GAAYzC,YACb,IAAM+F,EAAOR,EAAOG,QAUpB,OATAJ,EAAMuB,SAAQ,SAAAC,GACPA,EAAKd,KAAOD,EAAKC,IAChBH,EAASkB,KAAKvF,IAAEwF,MAAMjB,IACtBa,GAAQ,GAERf,EAASkB,KAAKD,MAGlBF,GAAOf,EAASkB,KAAKhB,GAClBF,EACX,KAAKpD,GAAYxC,qBAAjB,MAC6BsF,EAAOG,QAAxBC,EADZ,EACYA,OAAQsB,EADpB,EACoBA,KAUhB,OATA3B,EAAMuB,SAAQ,SAAAC,GACV,GAAGA,EAAKd,KAAOL,EAAQ,CACnB,IAAII,EAAOvE,IAAE0F,MAAMJ,EAAMG,GACzBpB,EAASkB,KAAKhB,GACda,GAAQ,OAERf,EAASkB,KAAKD,MAGfjB,EACX,QACI,OAAOP,IGpBf6B,aHwB2B,WAAyB,IAAxB7B,EAAuB,uDAAf,GAAIC,EAAW,uCACnD,OAAOA,EAAOC,MACV,KAAK/C,GAAYvC,kBACb,OAAOqF,EAAOG,QAClB,QACI,OAAOJ,IG5Bf8B,eHgC6B,WAAyB,IAAxB9B,EAAuB,uDAAf,GAAIC,EAAW,yCAClCA,EAAOG,SAAW,GAA7BC,EAD6C,EAC7CA,OACR,OAAOJ,EAAOC,MACV,KAAK/C,GAAYtC,uBAAjB,IACYkH,EAAY9B,EAAOG,QAAnB2B,QACR,MAAM,GAAN,oBAAW/B,GAAX,CAAkB,CAAEU,GAAIL,EAAQI,KAAMsB,EAASC,SAAU,KAC7D,KAAK7E,GAAYrC,4BACb,IAAIyF,EAAWrE,IAAEsE,OAAOR,GAAO,SAACS,GAC5B,OAAOJ,IAAWI,EAAKC,MAE3B,OAAOH,EACX,KAAKpD,GAAYpC,4BAAjB,IACYiH,EAAa/B,EAAOG,QAApB4B,SACR,OAAOhC,EAAMiC,KAAI,SAAAxB,GACb,OAAGA,EAAKC,KAAOL,EACJ,gBAAII,EAAX,CAAiBuB,aAEd,gBAAIvB,MAEnB,QACI,OAAOT,IGnDfkC,iBFL4B,WAAyB,IAAxBlC,EAAuB,uDAAf,GAAIC,EAAW,uCACpD,OAAQA,EAAOC,MACX,KAAK/C,GAAYnC,mBACb,OAAOiF,EAAOG,QAClB,QACI,OAAOJ,IECfmC,aFG2B,WAAyB,IAAxBnC,EAAuB,uDAAf,GAAIC,EAAW,uCACnD,OAAQA,EAAOC,MACX,KAAK/C,GAAYlC,WACb,OAAOgF,EAAOG,QAClB,QACI,OAAOJ,IEPfoC,YFhB0B,WAAyB,IAAxBpC,EAAuB,uDAAf,GAAIC,EAAW,uCAClD,OAAQA,EAAOC,MACX,KAAK/C,GAAYjC,aACb,OAAO+E,EAAOG,QAClB,QACI,OAAOJ,IEYfqC,aDjB2B,WAAyB,IAAxBrC,EAAuB,uDAAf,GAAIC,EAAW,uCACnD,OAAOA,EAAOC,MACV,KAAK/C,GAAY5C,iBACb,OAAO0F,EAAOG,QAElB,QACI,OAAOJ,ICYfsC,mBFSgC,WAAyB,IAAxBtC,EAAuB,uDAAf,GAAIC,EAAW,uCACxD,OAAQA,EAAOC,MACX,KAAK/C,GAAYhC,oBACb,OAAO8E,EAAOG,QAClB,QACI,OAAOJ,IEbfiB,qB,qICpBmCd,EAAM7D,SAArCiG,G,GAAAA,UAAW5B,G,GAAAA,KAAMd,G,GAAAA,UAEnB2C,GAAKD,KAEEE,GAAQ,SAACd,GAClB,gDAAO,WAAOe,EAAUC,GAAjB,gBAAAC,EAAA,sDACKC,EAAQlB,EAARkB,IACRL,GAAGM,IAAH,gBAAgBD,IAAOE,WAAvB,yCAAkC,WAAOC,GAAP,0BAAAJ,EAAA,yDAC1BK,EAAWtB,IACXqB,GAAYA,EAASrB,MAAQqB,EAASrB,QAFZ,kBAGAqB,EAASrB,OAA3BuB,EAHkB,EAGlBA,cACRD,EAAWD,EAASrB,QACE,IAAlBuB,IAAkD,IAAvBvB,EAAKuB,gBAChCV,GAAGM,IAAH,gBAAgBD,IAAOM,OAAO,CAAED,eAAe,IAC/CD,EAASC,eAAgB,GAPH,2BASnBvB,EAAKyB,UATc,wBAUtBC,EAAK,GAViB,mBAYXC,KAASC,KAZE,QAYtBF,EAZsB,yDActBG,QAAQC,IAAI,6BAdU,sBAiB1BR,EAAQ,gBAAQtB,EAAR,CAAc0B,QACND,UAlBU,UAoBtBI,QAAQC,IAAI,iCAAkCR,GAC1CS,EAAgB7D,KAAYC,cAAc,iBArBxB,UAsBN4D,EAAcT,GAAUtB,KAtBlB,QAsBlBgC,EAtBkB,QAuBrBhC,EAAKuB,eAAiBvC,KAAOiD,YAAYC,wBAC1CL,QAAQC,IAAI,4BAA6BE,GAxBnB,mDA0BtBH,QAAQC,IAAI,+BAAZ,MA1BsB,QA6B9Bf,EAAS,CACLxC,KAAMC,EAAMhD,YAAY/C,MACxBgG,QAAS6C,IA/BiB,kEAAlC,uDAiCG,SAACa,GAEAN,QAAQC,IAAIK,MArCb,2CAAP,qDAAM,IA2CGC,GAAS,WAClB,MAAO,CACH7D,KAAMC,EAAMhD,YAAY9C,OACxB+F,QAAS,K,GCnDWD,EAAM7D,SAA1BiG,G,GAAAA,UAAW5B,G,GAAAA,KAENqD,GAAgB,SAACrC,GAE1B,OADA6B,QAAQC,IAAI,6BAA8B9B,GAC1C,yCAAO,WAAOe,EAAUC,GAAjB,4BAAAC,EAAA,6DACKC,EAAQF,IAAWxB,KAAnB0B,IACA5E,EAAyC0D,EAAzC1D,YAAagG,EAA4BtC,EAA5BsC,MAAOC,EAAqBvC,EAArBuC,QAASC,EAAYxC,EAAZwC,QACjClB,EAAW,CAAEhF,cAAagG,QAAOC,UAASC,WAC1ChD,EAAOR,KAAOiD,YAJf,SAOCJ,QAAQC,IAAI,uBAAwBxF,GAPrC,SAQOkD,EAAK6C,cAAc,CAAE/F,gBAR5B,cAYCuF,QAAQC,IAAI,mBAAoBR,GAZjC,UAaOV,KAAY6B,WAAW,SAAStB,IAAID,GAAKM,OAAOF,GAbvD,0DAgBCO,QAAQC,IAAR,MAhBD,0DAAP,qDAAM,IAsBGY,GAAkB,SAAClD,GAC5B,OAAO,SAACuB,EAAUC,GACda,QAAQC,IAAI,OAAQtC,GACpBoB,KAAY6B,WAAW,YAAYtB,IAAI3B,EAAK0B,KAAKuB,WAAW,cAAcE,QAAQ,cAAe,QAC5FvB,YAAW,SAACC,GACT,GAAIA,GAAYA,EAASuB,KAAM,CAC3B,IAAIlC,EAAe,GACnBW,EAASuB,KAAKhD,SAAQ,SAAAuB,GAClB,IAAI0B,EAAoB1B,EAAInB,OACxB8C,EAAQD,EAAkBE,QAAQD,MAClCE,EAAWH,EAAkBE,QAAQC,SAErCA,EADa,QAAbA,EACW,IAEA,SACf,IAAIC,EAAS,GACTJ,EAAkBV,MAClBc,EAAS,OACJJ,EAAkBK,SAEnBD,EADoC,YAApCJ,EAAkBK,OAAOD,OAChB,UAEA,QAEjB,IACIE,EADON,EAAkBO,YAAYC,SACtBC,qBAEfC,EAAc,CACdC,SAAUX,EAAkBE,QAAQS,SACpCvG,KAAMkG,EACNM,OAAQZ,EAAkB/E,QAC1BgF,MAAOY,WAAWZ,GAAOhG,QAAQ,GACjCkG,WACAC,UAEJvC,EAAaZ,KAAKyD,MAEtB7C,EAAenG,IAAEoI,QAAQjC,EAAc,OAAQ,QAC/CK,EAAS,CACLxC,KAAMC,EAAMhD,YAAY5C,iBACxB6F,QAASiC,QAGlB,SAACyB,GAEAN,QAAQC,IAAIK,Q,GCtEK3D,EAAM7D,SAA/BiG,G,GAAAA,UAAW1C,G,GAAAA,UAENe,GAAc,SAAC3E,GACxB,MAAO,CACHiE,KAAMC,EAAMhD,YAAYjD,aACxBkG,QAASnE,IAIJ6E,GAAwB,SAACwE,GAClC,MAAO,CACHpF,KAAMC,EAAMhD,YAAYhD,wBACxBiG,QAASkF,IAIJC,GAAW,WACpB,OAAO,SAAA7C,GACHH,KAAY6B,WAAW,SAAStB,IAAI,YAC/B0C,MACAC,MAAK,SAAAzC,GACEA,GAGAN,EAAS,CACLxC,KAAMC,EAAMhD,YAAY7C,UACxB8F,QAAS4C,EAASrB,YAI7B+D,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,QAKf6B,GAAoB,SAACC,GAC9B,gDAAO,WAAOlD,GAAP,gBAAAE,EAAA,6DACCS,EAAK,GADN,kBAGYC,KAASC,KAHrB,OAGCF,EAHD,uDAKCG,QAAQC,IAAI,6BALb,eAOHD,QAAQC,IAAI,gBAAiBJ,GAP1B,kBAQI,IAAIwC,QAAJ,yCAAY,WAAOC,EAASC,GAAhB,wBAAAnD,EAAA,6DACVS,GACD0C,EAAO,6BAFI,SAIQxD,KAAYO,IAAZ,6BAAsCO,IAAMmC,MAJpD,UAIXQ,EAJW,UAKMA,GAAcA,EAAWrE,QAAUqE,EAAWrE,OAAOsE,SAErD,IAPN,yCAQJF,EAAO,sCARH,OAUfH,EAAKM,UAAY,IAAIrH,KACjBsH,EAAYtG,KAAYC,cAAc,aAClCsG,EAAiCR,EAAjCQ,YAAanC,EAAoB2B,EAApB3B,MAAOoC,EAAaT,EAAbS,SAE5BF,EAAU,CAAEC,cAAanC,QAAOqC,KADrBD,IAENZ,MAAK,SAAA9B,GACFH,QAAQC,IAAI,0BACZqC,EAAQ,0DAEXJ,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,GACZiC,EAAO,wCAtBA,4CAAZ,0DARJ,yDAAP,mDAAM,IAqCGQ,GAAsB,SAACtK,GAChC,IAAMuK,EAAOvK,EAASwK,MAAM,KAAK,GACjC,OAAO,SAAA/D,GACHH,KAAY6B,WAAW,qBAAqBtB,IAAI0D,GAC3ChB,MACAC,MAAK,SAAAzC,GACF,GAAIA,EAAU,CACV,IAAIhC,EAAmB,GACnBW,EAAOqB,EAASrB,OACpB+E,OAAOC,KAAKhF,GAAMJ,SAAQ,SAAAjG,GACtB0F,EAAiBS,KAAK,CAClBnG,MACAC,MAAOoG,EAAKrG,QAGpBoH,EAAS,CACLxC,KAAMC,EAAMhD,YAAY3C,sBACxB4F,QAASY,QAIpB0E,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,QAKf8C,GAAqB,SAACvG,EAAQwG,GACvC,MAAO,CACH3G,KAAMC,EAAMhD,YAAY/B,sBACxBgF,QAAS,CACLC,SAAQwG,qBAKPC,GAAuB,SAACzG,GACjC,MAAO,CACHH,KAAMC,EAAMhD,YAAY/B,sBACxBgF,QAAS,CACLC,YCrHJkC,GAAcpC,EAAM7D,SAApBiG,UAEKwE,GAAc,WACvB,OAAO,SAACrE,EAAUC,GAAc,IACpBxB,EAASwB,IAATxB,KACRoB,KAAY6B,WAAW,aAAatB,IAAI3B,EAAK0B,KAAKuB,WAAW,SACxDrB,YAAW,SAACC,GACT,GAAIA,GAAYA,EAASuB,KAAM,CAAC,IACpB1C,EAAiBc,IAAjBd,aACJR,EAAY,GACZ2F,EAAe,GAcnB,GAbAhE,EAASuB,KAAKhD,SAAQ,SAAAuB,GAEE,YADTA,EAAInB,OACNiD,OACLoC,EAAavF,KAAb,cAAoBf,GAAIoC,EAAIpC,IAAOoC,EAAInB,SAEvCN,EAAUI,KAAV,cAAiBf,GAAIoC,EAAIpC,IAAOoC,EAAInB,YAG5CN,EAAYnF,IAAEoI,QAAQjD,EAAW,0BAA2B,QAC5DqB,EAAS,CACLxC,KAAMC,EAAMhD,YAAY1C,cACxB2F,QAASiB,KAERnF,IAAEoE,QAAQuB,GAAe,CAC1B,IAAIpB,EAAOvE,IAAE+K,KAAK5F,EAAW,CAAEX,GAAImB,EAAanB,KAC5CD,EACAiC,EAAS,CACLxC,KAAMC,EAAMhD,YAAYvC,kBACxBwF,QAASK,KAGbA,EAAOvE,IAAE+K,KAAKD,EAAc,CAAEtG,GAAImB,EAAanB,OAE3CgC,EAAS,CACLxC,KAAMC,EAAMhD,YAAYvC,kBACxBwF,QAAS,UAM9B,SAAC0D,GAEAN,QAAQC,IAAIK,QAKfoD,GAAU,SAAC7G,GACpB,gDAAO,WAAOqC,EAAUC,GAAjB,oBAAAC,EAAA,+DACcD,IAATxB,EADL,EACKA,KADL,SAIcoB,KAAY6B,WAAW,aAAatB,IAAI3B,EAAK0B,KAAKuB,WAAW,SAAStB,IAAIzC,GAAQmF,MAJhG,OAIC/E,EAJD,OAKHiC,EAAS,CACLxC,KAAMC,EAAMhD,YAAYvC,kBACxBwF,QAASK,EAAKkB,QAAU,KAPzB,2CAAP,qDAAM,IAYGwF,GAAU,SAAC1G,GACpB,gDAAO,WAAOiC,EAAUC,GAAjB,gBAAAC,EAAA,6DACKC,EAAQF,IAAWxB,KAAnB0B,IADL,SAGGN,KAAY6B,WAAW,aAAatB,IAAID,GAAKuB,WAAW,SAAStB,IAAIrC,EAAKC,IAC3E0G,IAAI3G,GACJiF,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,MAPjB,uBAUGvB,KAAY6B,WAAW,aAAatB,IAAID,GAAKuB,WAAW,SAAStB,IAAIrC,EAAKC,IAAI0D,WAAW,YAAYtB,IAAI,UAC1GsE,IAAI,CACDpH,MAAOS,EAAKmE,SAEfc,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,MAhBjB,2CAAP,qDAAM,IAqBGuD,GAAa,SAAC5G,EAAMkB,GAC7B,gDAAO,WAAOe,EAAUC,GAAjB,gBAAAC,EAAA,6DACKC,EAAQF,IAAWxB,KAAnB0B,IADL,SAEGN,KAAY6B,WAAW,aAAatB,IAAID,GAAKuB,WAAW,SAAStB,IAAIrC,EAAKC,IAC3EyC,OAAOxB,GACP+D,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,MANjB,OAQHpB,EAAS,CACLxC,KAAMC,EAAMhD,YAAYzC,YACxB0F,QAASK,IAVV,2CAAP,qDAAM,IAeG6G,GAAkB,SAACjH,EAAQE,GACpC,gDAAO,WAAOmC,EAAUC,GAAjB,gBAAAC,EAAA,6DACKC,EAAQF,IAAWxB,KAAnB0B,IADL,SAEGN,KAAY6B,WAAW,aAAatB,IAAID,GAAKuB,WAAW,SAAStB,IAAIzC,GAAQ+D,WAAW,YAAYtB,IAAI,UACzGK,OAAO,CAAEnD,MAAOO,IAChBmF,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,MANjB,uBAQGvB,KAAY6B,WAAW,aAAatB,IAAID,GAAKuB,WAAW,SAAStB,IAAIzC,GACtE8C,OAAO,CAAEyB,OAAQrE,IACjBmF,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,MAZjB,2CAAP,qDAAM,IAiBGyD,GAAoB,SAAClH,EAAQsB,GACtC,MAAO,CACHzB,KAAMC,EAAMhD,YAAYxC,qBACxByF,QAAS,CACLC,SACAsB,UAKC6F,GAAkB,SAAC/G,GAC5B,MAAO,CACHP,KAAMC,EAAMhD,YAAYvC,kBACxBwF,QAASK,IAIJgH,GAAsB,SAACpH,EAAQ0B,GACxC,MAAO,CACH7B,KAAMC,EAAMhD,YAAYtC,uBACxBuF,QAAS,CAAEC,SAAQ0B,aAId2F,GAA2B,SAACrH,GACrC,MAAO,CACHH,KAAMC,EAAMhD,YAAYrC,4BACxBsF,QAAS,CAAEC,YAINsH,GAA2B,SAACtH,EAAQ2B,GAC7C,MAAO,CACH9B,KAAMC,EAAMhD,YAAYpC,4BACxBqF,QAAS,CAAEC,SAAQ2B,cCvJnBO,GAAcpC,EAAM7D,SAApBiG,UAEKqF,GAAiB,SAACC,GAC3B,mBAAM,CAAN,WAAO,uCAAAjF,EAAA,6DACKkF,EAAgED,EAAhEC,OAAQzH,EAAwDwH,EAAxDxH,OAAQ0H,EAAgDF,EAAhDE,oBAAqBC,EAA2BH,EAA3BG,aAAcC,EAAaJ,EAAbI,SACvD5E,EAAK,GAFN,kBAIYC,KAASC,KAJrB,OAICF,EAJD,uDAMCG,QAAQC,IAAI,6BANb,QAQHlB,KAAY6B,WAAW,cAActB,IAAIgF,GAAQ1D,WAAW,SAAStB,IAAIzC,GACpE+G,IAAI,CACDW,sBACAC,eACAC,WACA5E,OAbL,0DCJE6E,GAAiB,SAACC,EAAaC,EAAiBC,GAEzD,OADA7E,QAAQC,IAAR,qCAA0C0E,EAA1C,4BAAyEC,EAAzE,0BAA0GC,IACnG,SAAC3F,EAAUC,GAEdD,EAAS,CACLxC,KAAMC,EAAMhD,YAAYjC,aACxBkF,QAAS,CAAE+H,cAAaC,kBAAiBC,qBAKxCnG,GAAmB,SAACoG,EAAYC,KAqChCC,GAAY,SAACA,GAEtB,OAAO,SAAC9F,EAAUC,GACdD,EAAS,CACLxC,KAAMC,EAAMhD,YAAYlC,WACxBmF,QAAS,CAAEoI,iBAKVC,GAAuB,SAACrK,GACjC,OAAO,SAACsE,GACJA,EAAS,CACLxC,KAAMC,EAAMhD,YAAYhC,oBACxBiF,QAAS,CAAEhC,a,kDCpDjBsK,G,8MACF3E,OAAS,WACLzH,EAASqE,OAAOgI,UACXlD,MAAK,eAEHC,OAAM,SAAC5B,GAENN,QAAQC,IAAIK,MAEpB,EAAK8E,MAAM7E,SACX8E,yBAAcpM,oBACd,EAAKmM,MAAME,QAAQrH,KAAK,M,EAc5BsH,YAAc,WAAO,IACT5H,EAAS,EAAKyH,MAAdzH,KAER,OACI,8BACMA,EAAKlD,YACP,6BACA,0BAAM+K,UAAU,sBACZ,kBAAC,KAAD,CAAkBtI,GAAG,2BAA2BuI,OAAS,CAAEC,iBAAkB/H,EAAKgI,YAAchI,EAAKgI,YAAYD,iBAAmB,Q,qFAlBhJ,GAAGhN,IAAEoE,QAAQ8I,KAAKR,MAAMzH,MAAO,CAC3B,IAAMkI,EAAYC,uBAAY7M,oBAC1BP,IAAEoE,QAAQ+I,GAGVD,KAAKR,MAAME,QAAQrH,KAAK,KAFxB2H,KAAKR,MAAMnG,MAAM4G,M,+BAsBzB,OACI,kBAACE,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAaC,MAAQL,KAAKL,cAAgBrI,GAAG,eAAegJ,YAAaN,KAAKR,MAAMe,UAA2BX,UAAU,oBACrH,kBAAC,KAAD,CAAMY,GAAG,aAAaZ,UAAU,iBAC5B,kBAAC,KAAD,CAAkBtI,GAAG,uBAEzB,kBAAC,KAAD,CAAMkJ,GAAG,gBAAgBZ,UAAU,iBAC/B,kBAAC,KAAD,CAAkBtI,GAAG,qBAEzB,kBAAC,KAAD,CAAMkJ,GAAG,gBAAgBZ,UAAU,iBAC/B,kBAAC,KAAD,CAAkBtI,GAAG,qBAEzB,kBAAC,KAAD,CAAMkJ,GAAG,oBAAoBZ,UAAU,iBACnC,kBAAC,KAAD,CAAkBtI,GAAG,0BAEzB,kBAAC8I,GAAA,EAAYK,QAAb,MACA,kBAACL,GAAA,EAAYM,KAAb,CAAkBC,SAAS,IAAIC,QAAUZ,KAAKrF,QAA9C,gB,GAxDEkG,aAqEPC,gBANS,SAAC,GACrB,MAAO,CACH/I,KAF8B,EAAXA,QAMa,CAAEsB,SAAOsB,WAAlCmG,CAA4CC,aAAWzB,K,0CC3EhE0B,G,sLACQ,IACEnO,EAAamN,KAAKR,MAAlB3M,SACR,OACI,yBAAK+M,UAAU,kBACX,yBAAKqB,IAAI,uCAAuCC,IAAkB,UAAbrO,EAAuBsO,KAASC,KAASxB,UAAU,oB,GAL5FiB,aAebC,gBAJS,SAAC,GACrB,MAAO,CAAEjO,SAD6B,EAAfA,YAIZiO,CAAyBE,ICVlCK,I,oMAGE,OACI,kBAAClB,GAAA,EAAD,KACI,kBAACmB,GAAA,EAAD,CAAQC,QAAQ,QAAQC,OAAO,KAAKC,GAAG,QAAQ7B,UAAU,wCACrD,kBAAC,KAAD,CAAMY,GAAG,KACL,kBAACc,GAAA,EAAOI,MAAR,KACI,kBAAC,GAAD,QAGR,kBAACJ,GAAA,EAAOK,OAAR,MACA,kBAACL,GAAA,EAAOM,SAAR,KACI,kBAACzB,GAAA,EAAD,CAAKP,UAAU,WACX,kBAACO,GAAA,EAAIO,KAAL,KACI,kBAAC,GAAD,e,GAfFG,cAyBfE,gBAAWM,I,0HC3BpBQ,G,YACF,WAAYrC,GAAQ,IAAD,+BACf,8CAAMA,KAOVsC,qBARmB,wBAQI,qCAAAtI,EAAA,6DACXnC,EAAS,EAAKmI,MAAdnI,KADW,SAGX0K,EAAa7O,EAAS8O,UAAUC,IAAI5K,EAAK6K,gBAAgBC,UAH9C,SAISJ,EAAWK,iBAJpB,cAIXC,EAJW,gBAKMC,KAAMlG,IAAIiG,GALhB,uBAKT9J,EALS,EAKTA,KALS,kBAMRA,GANQ,kCAQf6B,QAAQC,IAAI,4BAAZ,MARe,0DARJ,EAoBnBkI,cApBmB,wBAoBH,+BAAA/I,EAAA,sDACRgJ,EADQ,gBAENnL,EAAS,EAAKmI,MAAdnI,KACN,EAAKoL,SAAS,CAAEC,aAAa,IAEZxP,EAASuD,YAAYC,cAAc,aACpDiM,CAAW,CACP1L,OAAQI,EAAKC,KACd+E,MAAK,YAAe,IAAZ9D,EAAW,EAAXA,KACHwJ,EAAa7O,EAAS8O,UAAUC,IAAI1J,EAAK4J,UACzCS,EAAWvL,EAAKwL,KAAKC,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,KAAM,KAC3EF,EAAWA,EAASG,OAAO,EAAGH,EAAS3N,YAAY,MAAQ,OAC3D,IAAI+N,EAAc,CACdC,mBAAmB,uBAAD,OAAyBL,IAE/Cb,EAAWmB,eAAeF,GACrB3G,MAAK,SAAC8G,GACHpB,EAAWK,iBAAiB/F,MAAK,SAACgG,GAC9B,IAAMe,EAAUC,SAASC,cAAc,KACvCF,EAAQG,KAAOlB,EACfe,EAAQI,QACRhB,EAAKhD,MAAMiE,aACX,EAAKhB,SAAS,CAAEC,aAAa,aAG1CpG,OAAM,SAACoH,GAENtJ,QAAQC,IAAIqJ,MA3BJ,2CApBG,EAmDnBC,eAnDmB,wBAmDF,+BAAAnK,EAAA,sDACTgJ,EADS,gBAEPnL,EAAS,EAAKmI,MAAdnI,KACN,EAAKoL,SAAS,CAAEC,aAAa,IAEXxP,EAASuD,YAAYC,cAAc,cACrDkN,CAAY,CACR3M,OAAQI,EAAKC,KACd+E,MAAK,YAAe,IAAZ9D,EAAW,EAAXA,KACHwJ,EAAa7O,EAAS8O,UAAUC,IAAI1J,EAAK4J,UACzCS,EAAWvL,EAAKwL,KAAKC,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,KAAM,KAC3EF,EAAWA,EAASG,OAAO,EAAGH,EAAS3N,YAAY,MAAQ,QAC3D,IAAI+N,EAAc,CACdC,mBAAmB,uBAAD,OAAyBL,IAE/Cb,EAAWmB,eAAeF,GACrB3G,MAAK,WACF0F,EAAWK,iBAAiB/F,MAAK,SAACgG,GAC9B,IAAMe,EAAUC,SAASC,cAAc,KACvCF,EAAQG,KAAOlB,EACfe,EAAQI,QACRhB,EAAKhD,MAAMiE,aACX,EAAKhB,SAAS,CAAEC,aAAa,aAG1CpG,OAAM,SAACoH,GAENtJ,QAAQC,IAAIqJ,MA3BH,2CAnDE,EAkFnBG,cAlFmB,wBAkFH,+BAAArK,EAAA,sDACRgJ,EADQ,gBAENnL,EAAS,EAAKmI,MAAdnI,KACN,EAAKoL,SAAS,CAAEC,aAAa,IAEZxP,EAASuD,YAAYC,cAAc,aACpDoN,CAAW,CACP7M,OAAQI,EAAKC,KACd+E,MAAK,YAAe,IAAZ9D,EAAW,EAAXA,KACHwJ,EAAa7O,EAAS8O,UAAUC,IAAI1J,EAAK4J,UACzCS,EAAWvL,EAAKwL,KAAKC,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,KAAM,KAC3EF,EAAWA,EAASG,OAAO,EAAGH,EAAS3N,YAAY,MAAQ,OAC3D,IAAI+N,EAAc,CACdC,mBAAmB,uBAAD,OAAyBL,IAE/Cb,EAAWmB,eAAeF,GACrB3G,MAAK,SAAC8G,GACHpB,EAAWK,iBAAiB/F,MAAK,SAACgG,GAC9B,IAAMe,EAAUC,SAASC,cAAc,KACvCF,EAAQG,KAAOlB,EACfe,EAAQI,QACRhB,EAAKhD,MAAMiE,aACX,EAAKhB,SAAS,CAAEC,aAAa,aAG1CpG,OAAM,SAACoH,GAENtJ,QAAQC,IAAIqJ,MA3BJ,2CAlFG,EAiHnBK,aAAe,WAEX,OADuB,EAAKnN,MAApBoN,YAEJ,IAAK,MACD,EAAKH,gBACL,MACJ,IAAK,MACD,EAAKtB,gBACL,MACJ,IAAK,OACD,EAAKoB,mBA3HE,EAkInBM,uBAAyB,SAACC,GACtB,EAAKzB,SAAS,CACVuB,WAAYE,EAAEC,OAAOhS,SAjIzB,EAAKyE,MAAQ,CACToN,WAAY,OAJD,E,wEAwIT,IACEI,EAAkBpE,KAAKR,MAAM6E,KAA7BD,cACR,OACI,kBAACE,GAAA,EAAD,CAAOC,KAAMvE,KAAKR,MAAM+E,KAAMC,OAAQxE,KAAKR,MAAMiE,WAAYrO,KAAK,KAAKwK,UAAU,eAAe6E,UAAQ,EAACC,gBAAgB,gBACrH,6BACI,kBAACJ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GACrB,yBAAKhF,UAAU,2BAAf,uCAIJ,kBAAC0E,GAAA,EAAMO,KAAP,KACI,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAACA,GAAA,EAAKC,QAAN,CACIC,GAAG,SACHC,aAAa,MACbC,UAAQ,EACRC,SAAUpF,KAAKiE,wBAEf,iCACA,4BAAQ/R,IAAI,MAAMC,MAAM,OACnBiS,EAAc,CAAE9M,GAAI,oCAEzB,4BAAQpF,IAAI,OAAOC,MAAM,QACpBiS,EAAc,CAAE9M,GAAI,oCAEzB,4BAAQpF,IAAI,MAAMC,MAAM,OACnBiS,EAAc,CAAE9M,GAAI,qCAG7B,kBAACyN,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,4CAKrC,kBAACgN,GAAA,EAAMgB,OAAP,CAAc1F,UAAU,eACpB,kBAAC2F,GAAA,EAAD,CAAQhE,QAAQ,SAASX,QAASZ,KAAKR,MAAMiE,YACzC,kBAAC,KAAD,CAAkBnM,GAAG,8BAEzB,kBAACiO,GAAA,EAAD,CAAQzO,KAAK,SAASyK,QAAQ,UAAUX,QAASZ,KAAK+D,cAE9C/D,KAAKpJ,MAAM8L,aACX,kBAAC8C,GAAA,EAAD,CACIP,GAAG,OACHQ,UAAU,SACVrQ,KAAK,KACLsQ,KAAK,SACLC,cAAY,UAGf3F,KAAKpJ,MAAM8L,aACZ,+C,GA7LN7B,aAuMX+E,gBAAW/D,I,qBClMpBgE,G,YACF,WAAYrG,GAAQ,IAAD,+BACf,8CAAMA,KAkDVsG,sBAAwB,SAACzO,EAAMqB,GAC3B,IAAIC,EAAU7F,IAAE+K,KAAKnF,EAAgB,CAAEpB,GAAID,EAAKC,KAC5B,YAAhBD,EAAKmE,QAAyB1I,IAAEoE,QAAQyB,KACxCtB,EAAKA,KAAOsB,EAAQtB,KACpB,EAAK0O,WAAW1O,GAChB,EAAKoL,SAAS,CACV7J,SAAU,EACVoN,QAAQ,KAGhB,IAAIpN,EAAW,EAAKhC,MAAMgC,SACN,eAAhBvB,EAAKmE,SACL5C,EAAWvB,EAAK6K,gBAAkB7K,EAAK6K,gBAAgBtJ,SAAW,GAEtE,EAAK6J,SAAS,CACVpL,OACAuB,cAnEW,EAuEnBmN,WAAa,SAAC1O,GACV,IAAImL,EAAI,gBACAzK,EAAS,EAAKyH,MAAdzH,KACFkO,EAAgB5O,EAAKwL,KAAKE,OAAO1L,EAAKwL,KAAK5N,YAAY,KAAO,GAChE8M,EAAa7O,EAAS8O,UAAUC,IAAnB,oBAAoClK,EAAK0B,IAAzC,YAAgDpC,EAAKC,GAArD,yBAAwED,EAAKC,GAA7E,YAAmF2O,IAEpG,EAAKxD,SAAS,CAAE7J,SAAU,IAE1B,IAAIsN,EAAanE,EAAWoE,IAAI9O,EAAKA,MAGrCA,EAAKmE,OAAS,YACd,EAAKgE,MAAMrB,kBAAkB9G,GAC7B6O,EAAWE,GAAG,iBAAiB,SAACxM,GAC5B,IAAIhB,EAAWzC,KAAKkQ,MAAOzM,EAAS0M,iBAAmB1M,EAAS2M,WAAc,KAM9E,OALA,EAAK/G,MAAMjB,yBAAyBlH,EAAKC,GAAIsB,GACzCA,EAAW,KACX4J,EAAKC,SAAS,CAAE7J,aAGZgB,EAAShD,OACb,KAAK1D,EAAS8O,QAAQwE,UAAUC,OAEhC,KAAKvT,EAAS8O,QAAQwE,UAAUE,aAKrC,SAAChM,GAIA8H,EAAKC,SAAS,CAAE/H,aACjB,WACCwL,EAAWtM,SAASqI,IAAIG,iBAAiB/F,KAAzC,yCAA8C,WAAOsK,GAAP,UAAAnN,EAAA,2DACtCgJ,EAAK5L,MAAMgC,SAAW,KADgB,wBAEtC4J,EAAKC,SAAS,CAAE7J,SAAU,MAC1BvB,EAAKuP,aAAazE,SAAW+D,EAAWW,UAAUC,MAClDzP,EAAKuP,aAAaG,IAAMJ,GACxBtP,EAAOvE,IAAEkU,KAAK3P,EAAM,SACfmE,OAAS,WAET1I,IAAEoE,QAAQ,EAAKsI,MAAMyH,uBACtB5P,EAAK6P,QAAU,EAAK1H,MAAMyH,qBATQ,SAYhC,EAAKzH,MAAMvB,WAAW5G,EAAM,CAAEuP,aAAcvP,EAAKuP,eAZjB,wBAahC,EAAKpH,MAAMtB,gBAAgB7G,EAAKC,GAAI,YAbJ,QActC,EAAKkI,MAAMlB,yBAAyBjH,EAAKC,IAdH,4CAA9C,0DAkBJ,EAAKmL,SAAS,CACVyD,gBA5HW,EA4JnBiB,gBAAkB,SAAC9P,GAAU,IACjBO,EAAqB,EAAK4H,MAA1B5H,iBACR,GAAoB,UAAhBP,EAAKmE,OAAoB,MAAO,GACpC,GAAI1I,IAAEoE,QAAQU,IAAqB9E,IAAEoE,QAAQG,EAAKqD,OAAQ,MAAO,yCACjE,IAAIA,EAAQ5H,IAAE+K,KAAKjG,EAAkB,CAAE1F,IAAKmF,EAAKqD,MAAMxI,MACvD,OAAKY,IAAEoE,QAAQwD,GAGR,GAFIA,EAAMvI,OAlKF,EAuKnBiV,cAAgB,SAAC5L,GAAY,IACjB5C,EAAa,EAAKhC,MAAlBgC,SACR,OAAQ4C,GACJ,IAAK,QACD,MAAO,QACX,IAAK,YACD,MAAM,cAAN,OAAqB5C,EAArB,MACJ,IAAK,QACL,IAAK,WACL,IAAK,aACL,IAAK,aACL,IAAK,eACD,MAAO,gBACX,IAAK,OACD,MAAO,qBACX,QACI,MAAO,KAvLA,EA2LnByO,uBAAyB,SAAC7L,GACtB,OAAQA,GACJ,IAAK,QACD,MAAO,QACX,IAAK,WACL,IAAK,QACL,IAAK,aACL,IAAK,aACL,IAAK,eACD,MAAO,aACX,IAAK,OACD,MAAO,cACX,QACI,MAAO,KAxMA,EA4MnB8L,WAAa,SAACpD,GACVA,EAAEqD,iBACFrD,EAAEsD,kBAGF,EAAKhI,MAAM8H,WAAW,EAAK9H,MAAMnI,KAAKC,KAjNvB,EAoNnBmQ,aAAe,SAACvD,GACZA,EAAEqD,iBACFrD,EAAEsD,kBAEkB,SADH,EAAKhI,MAAdnI,KACCmE,QACL,EAAKgE,MAAMiI,aAAa,EAAKjI,MAAMnI,KAAKC,KAzN7B,EA6NnBoQ,cAAgB,SAACxD,GACbA,EAAEqD,iBACFrD,EAAEsD,kBAEF,EAAK/E,SAAS,CAAEkF,iBAAiB,KAjOlB,EAoOnBC,iBAAmB,SAAC1D,GAChB,EAAKzB,SAAS,CAAEkF,iBAAiB,KArOlB,EAwOnBE,aAAe,SAAC3D,GACZ9J,QAAQC,IAAI,gBACZ,EAAKmF,MAAMsI,WAAW,EAAKlR,MAAMS,OAvOjC,EAAKT,MAAQ,CACTS,KAAMmI,EAAMnI,KACZuB,cAAUmP,EACV/B,QAAQ,EACRgC,QAASC,MAPE,E,mFAWE,IAAD,OACR5Q,EAAS2I,KAAKpJ,MAAdS,KAEHA,GAASA,EAAK6Q,WAEThV,EAAS8O,UAAUC,IAAI5K,EAAK6Q,UAAU/F,UAC5CC,iBAAiB/F,MAAK,SAACgG,GACvBC,KAAMlG,IAAIiG,GACLhG,MAAK,SAAC0K,GACH,EAAKtE,SAAS,CACVuF,QAASjB,EAAIoB,OAAOpB,YAI/BzK,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,Q,0CAKpBsF,KAAKoI,oBACLpI,KAAK8F,sBAAsB9F,KAAKR,MAAMnI,Q,6CAGK,IAAzBA,EAAwB,EAAxBA,KAAMqB,EAAkB,EAAlBA,eACpBC,EAAU7F,IAAE+K,KAAKnF,EAAgB,CAAEpB,GAAID,EAAKC,KAChD,QAAoB,cAAhBD,EAAKmE,SAA2B1I,IAAEoE,QAAQyB,M,mDASG,IAAzBtB,EAAwB,EAAxBA,KAAMqB,EAAkB,EAAlBA,eAC9BsH,KAAK8F,sBAAsBzO,EAAMqB,K,+BA6L3B,IAAD,EAC+BsH,KAAKpJ,MAAjCS,EADH,EACGA,KAAgB2Q,GADnB,EACSpP,SADT,EACmBoP,SAEpBK,EAAW,GACXjT,EAAO,GACPkT,EAAa,GACjB,GAAIjR,GAAQA,EAAKuP,aAAc,CAAC,IACpBA,EAAiBvP,EAAjBuP,aACJA,EAAa2B,mBACbF,EAAWtR,EAAMd,WAAW2Q,EAAa2B,mBAEzC3B,EAAaxR,OACbA,EAAO2B,EAAM5B,mBAAmByR,EAAaxR,MAAQ,OAErDwR,EAAa0B,aACbA,EAAavR,EAAMzB,uBAAuBsR,EAAa0B,aAG/D,OACI,yBAAK1I,UAAS,yBAAoC,SAAhBvI,EAAKmE,OAAoB,aAAe,IAA5D,OAAiEwE,KAAKR,MAAMgJ,WAAa,SAAW,MAEzGxI,KAAKpJ,MAAM8L,aAAe1C,KAAKR,MAAMkD,cACtC,0BAAM9C,UAAU,gBACZ,kBAAC4F,GAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAStQ,KAAK,KAAKmM,QAAQ,YAGpE,yBAAKX,QAASZ,KAAKyH,aAAc7H,UAAU,wBACvC,yBAAKsB,IAAK8G,EAAS/G,IAAK5J,EAAKwL,KAAO,gBAExC,yBAAKjD,UAAU,uBACX,yBAAKA,UAAU,eACVvI,EAAKwL,MAEV,yBAAKjD,UAAU,aACX,6BACI,kBAAC,KAAD,CACI6I,KAAMC,KACNrI,MAAM,YACNT,UAAU,oBAEbxK,GAEL,6BACI,kBAAC,KAAD,CACIqT,KAAME,KACNtI,MAAM,gBACNT,UAAU,oBAEbyI,GAEL,6BACI,kBAAC,KAAD,CACII,KAAMG,KACNvI,MAAM,YACNT,UAAU,oBAEb0I,IAGT,yBAAK1I,UAAS,eACV,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,cAActI,GAAG,SAASsJ,QAASZ,KAAK6H,cACnD,yBAAKjI,UAAU,kCACX,2BAAOiJ,UAAQ,EAAC/R,KAAK,WAAWgS,QAAS9I,KAAKR,MAAMgJ,cAExD,yCAEJ,yBAAK5I,UAAU,cAActI,GAAG,SAASsJ,QAASZ,KAAK0H,eACnD,6BACI,kBAAC,KAAD,CACIe,KAAMM,KACN1I,MAAM,SACNT,UAAU,kBACVoJ,MAAO,CAAEC,MAAO,oBAGxB,0CAGR,yBAAKrJ,UAAS,sBAAiBI,KAAKqH,uBAAuBhQ,EAAKmE,UAExDwE,KAAKoH,cAAc/P,EAAKmE,WAKxC,kBAAC,GAAD,CACI+I,KAAMvE,KAAKpJ,MAAM+Q,gBACjBtQ,KAAM2I,KAAKR,MAAMnI,KACjBoM,WAAYzD,KAAK4H,wB,GAvUlB/G,aAwVJC,gBAVS,SAAC,GACrB,MAAO,CACH/I,KAFmG,EAAhFA,KAGnBU,aAHmG,EAA1EA,aAIzBwO,oBAJmG,EAA5DA,oBAKvCvO,eALmG,EAAvCA,eAM5Dd,iBANmG,EAAvBA,oBAU5C,CAAEmG,WAASE,cAAYC,mBAAiBC,qBAAmBG,4BAA0BC,6BAA9GuC,CAA0I+E,I,UC7T1IqD,GArCU,SAAC1J,GAAW,IAE7B+E,EAGsE/E,EAHtE+E,KAAMnP,EAGgEoK,EAHhEpK,KACN+T,EAEsE3J,EAFtE2J,WAAYC,EAE0D5J,EAF1D4J,SAAUC,EAEgD7J,EAFhD6J,YACtBC,EACsE9J,EADtE8J,qBAAsBC,EACgD/J,EADhD+J,cAAeC,EACiChK,EADjCgK,cACrCC,EAAsEjK,EAAtEiK,oBAAqBC,EAAiDlK,EAAjDkK,aAAcC,EAAmCnK,EAAnCmK,aAAcC,EAAqBpK,EAArBoK,iBACrD,OACI,6BACI,kBAACtF,GAAA,EAAD,CAAOC,KAAMA,EAAMnP,KAAMA,GAAc,MACnC,kBAACkP,GAAA,EAAMK,OAAP,KACI,2BACKwE,EAAW7R,GAAK,kBAAC,KAAD,CAAsBA,GAAI6R,EAAW7R,GAAIuI,OAAQsJ,EAAWtJ,QAAU,KAASsJ,IAGxG,kBAAC7E,GAAA,EAAMO,KAAP,KACKuE,EAAS9R,GAAK,kBAAC,KAAD,CAAsBA,GAAI8R,EAAS9R,GAAIuI,OAAQuJ,EAASvJ,QAAU,KAASuJ,EAC1F,6BACA,2BACKC,EAAeA,EAAY/R,GAAK,kBAAC,KAAD,CAAsBA,GAAI+R,EAAY/R,GAAIuI,OAAQwJ,EAAYxJ,QAAU,KAASwJ,EAAe,KAGzI,kBAAC/E,GAAA,EAAMgB,OAAP,KACI,kBAACC,GAAA,EAAD,CAAQhE,QAAS+H,GAAwB,UAAW1I,QAAS4I,GACxDD,EAAiBA,EAAcjS,GAAK,kBAAC,KAAD,CAAsBA,GAAIiS,EAAcjS,GAAIuI,OAAQ0J,EAAc1J,QAAU,KAAS0J,EAAiB,YAG1IK,GACD,kBAACrE,GAAA,EAAD,CAAQhE,QAASkI,GAAuB,SAAU7I,QAAS+I,GACtDD,EAAgBA,EAAapS,GAAK,kBAAC,KAAD,CAAsBA,GAAIoS,EAAapS,GAAIuI,OAAQ6J,EAAa7J,QAAU,KAAS6J,EAAgB,c,yCCnB5JG,I,OAAyB,GAAzBA,GAAoC,EAApCA,GAA8C,EAA9CA,GAA0D,EAE1DC,G,YACF,WAAYtK,GAAQ,IAAD,wBACf,8CAAMA,KAkCVuK,eAAiB,WAAO,IAAD,EACI,EAAKvK,MAApBzH,EADW,EACXA,KAAMV,EADK,EACLA,KAEdN,EAAMR,SAAS,CACXkD,IAAK1B,EAAK0B,IACVxC,OAAQI,EAAOA,EAAKC,GAAK,KACzB4F,KAAM,2BANS,IAQXmH,EAAS,EAAK7E,MAAd6E,KACHvR,IAAEoE,QAAQ,EAAKsI,MAAM9G,iBAQ1B3B,EAAMR,SAAS,CACXkD,IAAK1B,EAAK0B,IACVxC,OAAQI,EAAOA,EAAKC,GAAK,KACzB4F,KAAM,4BAA8B,EAAK8M,aAAaC,QAAU,EAAKD,aAAaC,QAAQC,UAAY,QAE1G,EAAKF,aAAaC,QAAQ9X,MAAQ,GAClC,EAAK6X,aAAaC,QAAQzG,SAbtB2G,KAAMzP,MACF2J,EAAKD,cAAc,CACf9M,GAAI,iCA/CD,EA6DnB8S,YAAc,SAACC,GAEX,EAAK5H,SAAS,CACVyE,QAFa,CAAEoD,QAAS,MAI5B,IAAMC,EAAQF,EAAIlG,OAAOoG,MACzB,GAAI,EAAK/K,MAAM4K,cAAgBtX,IAAEoE,QAAQqT,GAAQ,CAC7C,IAAMlT,EAAOkT,EAAM,GAEFxT,EAAM5B,mBAAmBkC,EAAKjC,MAChC,KACX,EAAKqN,SAAS,CACV+H,aAAcX,GACdY,2BAA4B,gCAC5BC,sBAAuB,6BAG3B,EAAKC,qBAAqBtT,KA9EnB,EAmFnBsT,qBAAuB,SAACtT,GACpB,IAAIuT,EAAQvH,SAASC,cAAcjM,EAAKP,KAAK+T,WAAW,SAAW,QAAU,SAC7ED,EAAME,iBAAmB,WACrB,IAAIC,EAAwBC,SAASJ,EAAMvC,UACflS,KAAK8U,KAAKF,EAAwB,IAElC,IACxB,EAAKtI,SAAS,CACV+H,aAAcX,GACdY,2BAA4B,oCAC5BC,sBAAuB,kCAG3B,EAAKlL,MAAM4K,YAAY/S,GACvB,EAAKoL,SAAS,CACV+H,aAAcX,OAI1Be,EAAM1J,IAAMgK,IAAIC,gBAAgB9T,IAtGjB,EAyGnB+T,qBAAuB,SAACC,GACpB,EAAK5I,SAAS,CACVG,SAAUyI,EAAMlH,OAAOhS,SA3GZ,EA+GnBmZ,aAAe,WAAO,IACVlH,EAAkB,EAAK5E,MAAM6E,KAA7BD,cADS,EAEa,EAAKxN,MAA3BgM,EAFS,EAETA,SAAUsE,EAFD,EAECA,QACdpU,IAAEoE,QAAQ0L,GACV2I,KAAO7Q,MAAM0J,EAAc,CAAE9M,GAAI,sCAGrC4P,EAAQtE,SAAWA,EACnB,EAAKH,SAAS,CACV+I,cAAc,EACdtE,cAzHW,EA6HnBuE,oBAAsB,SAAC5I,EAAM1Q,GAAW,IAC9B+U,EAAY,EAAKtQ,MAAjBsQ,QACFrT,EAAM1B,EACG,iBAAT0Q,GAA2B1Q,EAAQ,IACnC0B,EAAM,GAEVqT,EAAQrE,GAAQhP,EAChB,EAAK4O,SAAS,CACVyE,aArIW,EAyInBsE,aAAe,WACX,EAAK/I,SAAS,CAAE+I,cAAc,KA1If,EA6InBE,eAAiB,WAAO,IACZ9I,EAAa,EAAKhM,MAAlBgM,SACR,OAAI,EAAKhM,MAAM4U,aAEP,6BACI,kBAACzG,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,gCAEzB,yBAAKsI,UAAU,UACX,kBAACmF,GAAA,EAAKC,QAAN,CACIlO,KAAK,OACL3E,MAAOyQ,GAAY,GACnBwC,SAAU,EAAKgG,qBACfS,OAAQ,EAAKP,aACbrJ,IAAK,SAAC6J,GAAD,OAAQA,EAAIC,IAASC,YAAYF,GAAGG,QAAU,IACnDrM,UAAU,mBAEd,kBAAC2F,GAAA,EAAD,CAAQhE,QAAQ,UAAU3B,UAAU,mBAAmBgB,QAAS,kBAAM,EAAK6B,SAAS,CAAE+I,cAAc,MAChG,kBAAC,KAAD,CAAiB/C,KAAMyD,KAAStL,QAAS,EAAK0K,mBAQ9D,6BACI,kBAACvG,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,gCAEzB,6BACA,kBAACyN,GAAA,EAAK6G,MAAN,CAAYhL,QAAS,EAAK4K,aAAc5L,UAAU,QAC7CgD,MA/KN,EAuLnBuJ,WAAa,SAACd,GACV,IAAM7O,EAAO6O,EAAMe,cAGnB,GAFAf,EAAM9D,iBACN8D,EAAM7D,mBACuB,IAAzBhL,EAAK6P,gBAA0B,CAAC,IACxBhV,EAAS,EAAKmI,MAAdnI,KACF6P,EAAY,EAAKtQ,MAAjBsQ,QACNA,EAAQoF,gBAAiB,EACzBjV,EAAK6P,QAAUpU,IAAE0F,MAAMnB,EAAK6P,QAASA,GAErC,EAAK1H,MAAM+M,kBAAkBlV,EAAK6P,SAClC,EAAKzE,SAAS,CACV+J,WAAW,EACXhC,aAAcX,UAGlB,EAAKpH,SAAS,CACV+J,WAAW,KAxMJ,EA6MnBC,cAAgB,WACZ,EAAKhK,SACD,CACI+H,aAAcX,KAElB,WACI,EAAKrK,MAAMkN,uBAnNJ,EAwNnBC,WAAa,WACT,EAAKlK,SACD,CACI+H,aAAcX,KAElB,WACI,EAAKrK,MAAMoN,2BA9NJ,EAmOnBC,cAAgB,WAAO,IACXrC,EAAiB,EAAK5T,MAAtB4T,aAER,OAAIA,IAAiBX,GACV,EAAKiD,mBACLtC,IAAiBX,GACjB,EAAKkD,sBACLvC,IAAiBX,GACjB,EAAKmD,cACLxC,IAAiBX,GACjB,EAAKoD,qBADT,GA5OQ,EAiPnBH,iBAAmB,WACf,OACI,6BACI,kBAACxI,GAAA,EAAMK,OAAP,KACI,yBAAK/E,UAAU,2BACX,kBAAC,KAAD,CAAkBtI,GAAG,mCAG7B,kBAACgN,GAAA,EAAMO,KAAP,KACI,kBAACC,GAAA,EAAD,KACI,wBAAIlF,UAAU,SACV,4BACI,0BAAMA,UAAU,SACZ,uBAAGA,UAAU,uBAEjB,+BACI,kBAAC,KAAD,CAAkBtI,GAAG,mCAG7B,4BACI,0BAAMsI,UAAU,SACZ,uBAAGA,UAAU,uBAEjB,+BACI,kBAAC,KAAD,CAAkBtI,GAAG,mCAG7B,4BACI,0BAAMsI,UAAU,SACZ,uBAAGA,UAAU,uBAEjB,+BACI,kBAAC,KAAD,CAAkBtI,GAAG,sCAMzC,kBAACgN,GAAA,EAAMgB,OAAP,CAAc1F,UAAU,eACpB,kBAAC2F,GAAA,EAAD,CAAQhE,QAAQ,SAASX,QAAS,EAAK6L,eACnC,kBAAC,KAAD,CAAkBnV,GAAG,8BAEzB,kBAACiO,GAAA,EAAD,CAAQhE,QAAQ,UAAUX,QAAS,EAAKmJ,gBACpC,kBAAC,KAAD,CAAkBzS,GAAG,kCACrB,8BACI,uBAAGsI,UAAU,2BA9RlB,EAsSnBmN,oBAAsB,WAAO,IAAD,EACa,EAAKvN,MAAlCxM,EADgB,EAChBA,mBAAoBqR,EADJ,EACIA,KACpB6C,EAAY,EAAKtQ,MAAjBsQ,QAEJgG,EAAmBhG,EAAQrU,SAG/B,OACI,6BACI,kBAACyR,GAAA,EAAMK,OAAP,KACI,2BACI,kBAAC,KAAD,CAAkBrN,GAAG,yBAG7B,kBAACyN,GAAA,EAAD,CAAMnF,UAAU,eAAe4M,UAAW,EAAK5V,MAAM4V,UAAWW,SAAU,EAAKhB,YAC3E,kBAAC7H,GAAA,EAAMO,KAAP,KACI,kBAACC,GAAA,EAAD,CAAWlF,UAAU,yBAAyB,EAAK8L,kBACnD,kBAAC0B,GAAA,EAAD,KACI,kBAACA,GAAA,EAAKvI,KAAN,KACI,kBAACE,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,sCAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACIC,GAAG,SACHC,aAAcgI,EACdG,UAvBf,EAwBelI,UAAQ,EACRC,SAAU,SAAClB,GAAD,OAAO,EAAKuH,oBAAoB,WAAYvH,EAAEC,OAAOhS,SAE/D,4BAAQD,IAAI,GAAGC,MAAM,KACpBa,EAAmB6F,KAAI,SAACuE,GACrB,OACI,4BAAQlL,IAAKkL,EAAKlL,IAAKC,MAAOiL,EAAKlL,IAAK0N,UAAWxC,EAAKlL,IAAI2Y,WAAW,OAAS,gBAAkB,IAC7FzN,EAAKjL,WAKtB,kBAAC4S,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,0CAG7B,6BACA,kBAACyN,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,wCAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACIlO,KAAK,SACLqO,UAAQ,EACRkI,UAhDf,EAiDeC,IAAK,EACLC,IAAK,GACLpb,MAAO+U,EAAQsG,aACfpI,SAAU,SAAClB,GAAD,OAAO,EAAKuH,oBAAoB,eAAgBvH,EAAEC,OAAOhS,UAEvE,kBAAC4S,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,4CAG7B,6BACA,kBAACyN,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,+BAEzB,kBAAC,KAAD,CACInF,MAAO+U,EAAQoD,QACf+C,UAjEf,EAkEezN,UAAS,0BAA6C,IACtDwF,SAAU,SAACqI,GAAD,OAAU,EAAKhC,oBAAoB,UAAWgC,IACxDC,WAAW,KAGnB,6BACA,kBAAC3I,GAAA,EAAK4G,MAAN,KACI,kBAACxB,GAAA,EAAD,CAAO5I,QAAQ,WAAW8C,EAAKD,cAAc,CAAE9M,GAAI,8BAKnE,kBAACgN,GAAA,EAAMgB,OAAP,CAAc1F,UAAU,eACpB,kBAAC2F,GAAA,EAAD,CAAQhE,QAAQ,SAASX,QAAS,EAAK6L,eACnC,kBAAC,KAAD,CAAkBnV,GAAG,8BAEzB,kBAACiO,GAAA,EAAD,CAAQzO,KAAK,SAASyK,QAAQ,WAC1B,kBAAC,KAAD,CAAkBjK,GAAG,kCA5X1B,EAoYnB0V,YAAc,WAAO,IAAD,EAC4C,EAAKpW,MAA3D6T,EADU,EACVA,2BAA4BC,EADlB,EACkBA,sBAIlC,OAHKD,IAA4BA,EAA6B,iCACzDC,IAAuBA,EAAwB,4BAGhD,6BACI,kBAACpG,GAAA,EAAMK,OAAP,KACI,2BACI,kBAAC,KAAD,CAAkBrN,GAAImT,MAG9B,kBAACnG,GAAA,EAAMO,KAAP,KACI,kBAACC,GAAA,EAAD,KACI,2BACI,kBAAC,KAAD,CAAkBxN,GAAIoT,OAIlC,kBAACpG,GAAA,EAAMgB,OAAP,CAAc1F,UAAU,eACpB,kBAAC2F,GAAA,EAAD,CAAQhE,QAAQ,SAASX,QAAS,EAAK6L,eACnC,kBAAC,KAAD,CAAkBnV,GAAG,8BAEzB,kBAACiO,GAAA,EAAD,CAAQ3E,QAAS,EAAKmJ,gBAClB,kBAAC,KAAD,CAAkBzS,GAAG,gCA5ZtB,EAmanB2V,cAAgB,WACZ,OACI,6BACI,kBAAC3I,GAAA,EAAMK,OAAP,KACI,2BACI,kBAAC,KAAD,CAAkBrN,GAAG,8BAG7B,kBAACgN,GAAA,EAAMO,KAAP,KACI,kBAACC,GAAA,EAAD,KACI,2BACI,kBAAC,KAAD,CAAsBxN,GAAG,iCAIrC,kBAACgN,GAAA,EAAMgB,OAAP,CAAc1F,UAAU,eACpB,kBAAC2F,GAAA,EAAD,CAAQhE,QAAQ,UAAUX,QAAS,EAAK+L,YACpC,kBAAC,KAAD,CAAkBrV,GAAG,gCAlbrC,EAAK0S,aAAe2D,IAAMC,YAE1B,IAAI1G,EAAWpU,IAAEoE,QAAQsI,EAAMnI,MAA6B,GAArBmI,EAAMnI,KAAK6P,QAJnC,OAKVA,EAAQoD,UAASpD,EAAQoD,QAAU,IACxC,EAAK1T,MAAQ,CACT4U,cAAc,EACdtE,UACAtE,SAAUpD,EAAMnI,KAAOmI,EAAMnI,KAAKwL,KAAO,GACzC2H,aAAcX,IAGlB,EAAKgE,QAAU,KACf,EAAKC,WAAa,SAAC1K,GACf,EAAKyK,QAAUzK,GAfJ,E,4FAmBmC,IAA1B/L,EAAyB,EAAzBA,KAMxB,GANiD,EAAnB0W,iBAE1B/N,KAAKyC,SAAS,CACV+H,aAAcX,MAGlB/W,IAAEoE,QAAQG,GAAd,CACA,IAAI6P,EAAU7P,EAAK6P,SAAW,GAC9BA,EAAQoD,QAAUpD,EAAQoD,SAAW,GACrCtK,KAAKyC,SAAS,CACVyE,UACAtE,SAAUvL,EAAKwL,KACf2I,cAAc,O,+BA6ZlB,OACI,kBAAClH,GAAA,EAAD,CACIC,KAAMvE,KAAKR,MAAM+E,KACjBC,OAAQ,aACRpP,KAAK,KACLwK,UAAWI,KAAKpJ,MAAM4T,eAAiBX,GAAuB,GAAK,eACnEpF,UAAQ,GAEPzE,KAAK6M,gBACN,2BAAO5K,IAAKjC,KAAKgK,aAAcpK,UAAU,aAAa9I,KAAK,OAAOsO,SAAUpF,KAAKoK,YAAa4D,OAAO,0B,GAtc3FnN,aA4cX+E,gBAAWkE,ICvcpBmE,G,YACF,WAAYzO,GAAQ,IAAD,+BACf,8CAAMA,KA0BV4K,YA3BmB,yCA2BL,WAAO/S,GAAP,kBAAAmC,EAAA,yDACL,EAAKgG,MAAM1F,cADN,uBAENM,QAAQC,IAAI,sDAFN,0BAKNmI,EALM,iBAMNoI,EAAQvH,SAASC,cAAcjM,EAAKP,KAAK+T,WAAW,SAAW,QAAU,UACvEC,iBAAmB,WAAO,IACpB/K,EAAgB,EAAKP,MAAMzH,KAA3BgI,YACJgL,EAAwBC,SAASJ,EAAMvC,UACvC6F,EAAwB/X,KAAK8U,KAAKF,EAAwB,IAE1DhL,EAAYD,kBAAoB,EAChC0C,EAAKC,SAAS,CACV0L,qBAAsBD,EACtBE,iBAAiB,EACjBC,iBAAiB,EACjBN,iBAAiB,IAGrB,EAAKO,gBAAgBjX,EAAM6W,EAAuBtD,EAAMvC,WAGhEuC,EAAM1J,IAAMgK,IAAIC,gBAAgB9T,GAvBtB,2CA3BK,wDAqDnBkX,YAAc,WACV,EAAK9L,SAAS,CACV0L,qBAAsB,GACtBC,iBAAiB,IAErB,EAAK5O,MAAME,QAAQrH,KAAK,kBA1DT,EA6DnBmW,cAAgB,WACP1b,IAAEoE,QAAQ,EAAKsI,MAAM9G,gBAQ1B,EAAK+J,SAAS,CACV4L,iBAAiB,IARjBlE,KAAMzP,MACF,EAAK8E,MAAM6E,KAAKD,cAAc,CAC1B9M,GAAI,mCAjED,EA2EnBoV,iBAAmB,WACf,EAAKjK,SAAS,CACV0L,qBAAsB,GACtBC,iBAAiB,EACjBC,iBAAiB,EACjBN,iBAAiB,KAhFN,EAoFnBnB,qBAAuB,WACnB,EAAKnK,SAAS,CACV0L,qBAAsB,GACtBE,iBAAiB,KAvFN,EA2FnBC,gBA3FmB,yCA2FD,WAAOjX,EAAM6W,EAAuBO,GAApC,0BAAAjV,EAAA,6DACRqJ,EAAqBxL,EAArBwL,KAAMzN,EAAeiC,EAAfjC,KAAM0B,EAASO,EAATP,KACd6B,EAAU,CACViO,aAAc,CACV/D,OACAzN,OACAiT,SAAU6F,EACV3F,iBAAkBkG,EAClBnG,WAAY,IAAI7S,MAEpByR,QAAS,CACLpQ,QAEJ+L,OACArH,OAAQ,WAdE,SAiBOtI,EAASiG,YAAY6B,WAAW,aAAatB,IAAI,EAAK8F,MAAMzH,KAAK0B,KAAKuB,WAAW,SAAStB,MAjBjG,gBAiBNpC,EAjBM,EAiBNA,GACRqB,EAAQrB,GAAKA,EACb,EAAKmL,SAAS,CACV4L,iBAAiB,EACjBN,iBAAiB,EACjBW,aAAc/V,EACdF,aAAcpB,IAvBJ,2CA3FC,4DAsHnBkV,kBAAoB,SAACrF,GAAa,IAAD,EACQ,EAAKtQ,MAApC8X,EADuB,EACvBA,aAAcjW,EADS,EACTA,aAChBiW,GAAgBjW,IAChBiW,EAAaxH,QAAU5J,OAAOqR,OAAO,GAAID,EAAaxH,QAASA,GAC3DA,EAAQtE,WACR8L,EAAa7L,KAAOqE,EAAQtE,UAGhC,EAAKpD,MAAMzB,QAAQ2Q,GAEnBA,EAAarX,KAAOoB,EACpB,EAAK+G,MAAMnB,oBAAoBqQ,EAAapX,GAAImB,GAChD,EAAK+G,MAAMpB,gBAAgBsQ,GAC3B,EAAKjM,SAAS,CACViM,kBAAc3G,EACdtP,kBAAcsP,MArIP,EA0InB6G,eAAiB,SAACvX,GAAU,IAChBwX,EAAkB,EAAKjY,MAAvBiY,cACHA,EAAcC,SAASzX,EAAKC,IAG7BuX,EAAcE,OAAOF,EAAcG,QAAQ3X,EAAKC,IAAK,GAFrDuX,EAAcxW,KAAKhB,EAAKC,IAI5B,EAAKmL,SAAS,CACVoM,mBAlJW,EAoKnBI,YAAc,SAAC/K,GACX,IAAI/R,EAAQ+R,EAAEC,OAAOhS,MACfoY,EAAU,EAAK3T,MAAf2T,MAEFA,EADAzX,IAAEoE,QAAQ/E,GACF,EAAKqN,MAAM+K,MAEXzX,IAAEoc,OAAO3E,GAAO,SAAUlT,GAC9B,OAAOA,EAAKwL,KAAKsM,cAAcH,QAAQ7c,EAAMgd,gBAAkB,KAGvE,EAAK1M,SAAS,CACV8H,QACA6E,YAAajd,KAhLF,EAoLnBkd,YAAc,SAACpY,GACX,IAAMqY,EAAgB,GACdT,EAAkB,EAAKjY,MAAvBiY,cAEH/b,IAAEoE,QAAQD,GAEHnE,IAAEoE,QAAQ2X,IAClBA,EAAc1W,SAAQ,SAAClB,GACnBqY,EAAcjX,KAAKpB,MAHvBqY,EAAcjX,KAAKpB,GAOvB,EAAKwL,SAAS,CACV6M,gBACAC,uBAAuB,KAlMZ,EAsMnBC,yBAA2B,WAAO,IACtBF,EAAkB,EAAK1Y,MAAvB0Y,cACHxc,IAAEoE,QAAQoY,IACXA,EAAcnX,SAAQ,SAAClB,GACnB,EAAKuI,MAAMtB,gBAAgBjH,EAAQ,WACnC,EAAKuI,MAAMlB,yBAAyBrH,MAG5C,EAAKwL,SAAS,CACV6M,cAAe,GACfC,uBAAuB,KAhNZ,EAoNnBE,mBAAqB,WACjB,EAAKhN,SAAS,CACV6M,cAAe,GACfC,uBAAuB,KAvNZ,EA2NnBG,wBAA0B,SAACzY,GAAY,IAAD,EACD,EAAKL,MAA9B2T,EAD0B,EAC1BA,MAAOsE,EADmB,EACnBA,cACf,OAAO/b,IAAE+K,KAAK0M,EAAO,CAAEjT,GAAIL,GAAkB4X,EAAc,MA7N5C,EAgOnBpH,aAAe,SAACxQ,GAAY,IAChB4X,EAAkB,EAAKjY,MAAvBiY,cAMR,GALI/b,IAAEoE,QAAQD,KACLnE,IAAEoE,QAAQ2X,IAA2C,IAAzBA,EAAc/a,SAC3CmD,EAAS4X,EAAc,MAG1B/b,IAAEoE,QAAQD,GAAS,CACpB,IAAIwB,EAAe,EAAKiX,wBAAwBzY,GAC5CwB,GAAgBA,EAAayJ,iBAAmBpP,IAAEoE,QAAQuB,EAAayJ,gBAAgBC,UAEvF,EAAKM,SAAS,CACVkN,+BAA+B,IAGnCtb,OAAOub,KAAP,gBAAqB3Y,GAAU,YA5OvC,EAAKL,MAAQ,CACT2T,MAAO,GACPsE,cAAe,IALJ,E,4FASmC,IAAD,OAAzBtE,EAAyB,EAAzBA,MAAO7R,EAAkB,EAAlBA,eAC1B5F,IAAEoE,QAAQqT,IACXzX,IAAE+c,KAAKtF,GAAO,SAAClT,GACS,YAAhBA,EAAKmE,SAAyB1I,IAAEoE,QAAQwB,IAAmB5F,IAAEoE,QAAQpE,IAAE+K,KAAKnF,EAAgB,CAAEpB,GAAID,EAAKC,QACvG,EAAKkI,MAAMtB,gBAAgB7G,EAAKC,GAAI,cAI3CxE,IAAEoE,QAAQ8I,KAAKpJ,MAAMwY,eACtB7E,EAAQzX,IAAEoc,OAAO3E,GAAO,SAAClT,GACrB,OAAOA,EAAKwL,KAAKsM,cAAcH,QAAQ,EAAKpY,MAAMwY,YAAYD,gBAAkB,MAGxFnP,KAAKyC,SAAS,CACV8H,Y,+BA6NE,IAAD,OAECxK,EADSC,KAAKR,MAAdzH,KACmBgI,aAAe,GAChC8O,EAAkB7O,KAAKpJ,MAAvBiY,cACR,OACI,yBAAKjP,UAAU,uFACX,yBAAKA,UAAU,0BACX,yBAAKA,UAAU,wBACX,kBAAC2F,GAAA,EAAD,CAAQ3E,QAASZ,KAAKwO,cAAe5O,UAAU,WAC3C,kBAAC,KAAD,CAAiB6I,KAAMqH,OAD3B,qBAIA,kBAACvK,GAAA,EAAD,CAAQ8H,SAAmC,IAAzBwB,EAAc/a,OAAc8L,UAAU,YAAYgB,QAAS,kBAAM,EAAK6G,iBACpF,kBAAC,KAAD,CAAiBgB,KAAMsH,OAD3B,kBAIA,kBAACxK,GAAA,EAAD,CACI8H,SAAmC,IAAzBwB,EAAc/a,OACxB8L,UAAU,YACVgB,QAAS,WACL,EAAK6B,SAAS,CAAEkF,iBAAiB,MAGrC,kBAAC,KAAD,CAAiBc,KAAMuH,OAP3B,UAUA,kBAACzK,GAAA,EAAD,CAAQ8H,SAAmC,IAAzBwB,EAAc/a,OAAc8L,UAAU,YAAYgB,QAAS,kBAAM,EAAKyO,gBACpF,kBAAC,KAAD,CAAiB5G,KAAMwH,OAD3B,WAKJ,yBAAKrQ,UAAU,uBACX,2BAAO9I,KAAK,OAAOoZ,YAAY,iBAAiB9K,SAAUpF,KAAKiP,gBAGvE,yBAAKrP,UAAU,uBACVI,KAAKpJ,MAAM2T,MAAM1R,KAAI,SAACxB,EAAMrC,GAEzB,OACI,kBAAC,GAAD,CACI9C,IAAKmF,EAAKC,GACVD,KAAMA,EACNrC,MAAOA,EACP8S,WAAY,EAAK8G,eACjBpG,WAAYqG,EAAcC,SAASzX,EAAKC,IACxCgQ,WAAY,EAAK+H,YACjB5H,aAAc,EAAKA,mBAKnC,kBAAC,GAAD,CACIlD,KAAMvE,KAAKpJ,MAAMwX,gBACjBjF,WAAY,CACR7R,GAAI,8BAER8R,SAAU,CACN9R,GAAI,6BAER+R,YAAa,CACT/R,GAAI,mCACJuI,OAAQ,CACJC,iBAAkBC,EAAYD,iBAC9BqO,qBAAsBnO,KAAKpJ,MAAMuX,uBAGzC3E,cAAexJ,KAAKuO,YACpBjF,qBAAqB,UACrBC,cAAe,CACXjS,GAAI,oCAERoS,aAAc,CACVpS,GAAI,+BAERqS,aAAc3J,KAAK0M,mBAEvB,kBAAC,GAAD,CACInI,KAAMvE,KAAKpJ,MAAMyX,gBACjBhX,KAAM2I,KAAKpJ,MAAM8X,aACjB3W,KAAMiI,KAAKR,MAAMzH,KACjBlF,SAAUmN,KAAKR,MAAM3M,SACrBG,mBAAoBgN,KAAKR,MAAMxM,mBAC/BuZ,kBAAmBvM,KAAKuM,kBACxBG,iBAAkB1M,KAAK0M,iBACvBE,qBAAsB5M,KAAK4M,qBAC3BxC,YAAapK,KAAKoK,YAClB2D,gBAAiB/N,KAAKpJ,MAAMmX,kBAEhC,kBAAC,GAAD,CACIxJ,KAAMvE,KAAKpJ,MAAM+Q,gBACjBtQ,KAAM2I,KAAK0P,0BACXjM,WAAY,kBAAM,EAAKhB,SAAS,CAAEkF,iBAAiB,OAEvD,kBAAC,GAAD,CACIpD,KAAMvE,KAAKpJ,MAAM2Y,sBACjBpG,WAAY,CACR7R,GAAI,8BAER8R,SAAU,CACN9R,GAAI,6BAERkS,cAAexJ,KAAKwP,yBACpB7F,aAAc3J,KAAKyP,qBAEvB,kBAAC,GAAD,CACIlL,KAAMvE,KAAKpJ,MAAM+Y,8BACjBva,KAAK,KACL+T,WAAY,CACR7R,GAAI,uCAER8R,SAAU,CACN9R,GAAI,sCAERiS,cAAe,CAAEjS,GAAI,wCACrBgS,qBAAqB,UACrBE,cAAe,kBAAM,EAAK/G,SAAS,CAAEkN,+BAA+B,KACpE/F,kBAAkB,S,GAzWf/I,aA2XRC,gBAXS,SAAC,GAAqF,IAAnF/I,EAAkF,EAAlFA,KAAME,EAA4E,EAA5EA,UAAWQ,EAAiE,EAAjEA,aACxC,MAAO,CACHV,OACAlF,SAHqG,EAAnDA,SAIlDG,mBAJqG,EAAzCA,mBAK5DuX,MAAOtS,EACPQ,eACAC,eAPqG,EAArBA,kBAWhD,CAAEiF,eAAaI,WAASK,mBAAiBC,uBAAqBH,mBAAiBI,6BAAxGwC,CACXC,aAAW6E,aAAWqI,MCrYlB1W,GAASR,EAAM7D,SAAfqE,KAGF4Y,G,YACF,WAAY3Q,GAAQ,IAAD,+BACf,8CAAMA,KAsCV4Q,aAAe,SAAAlM,GACXA,EAAEqD,iBACF,IAAI8I,EAAU,kDAEd,OADAnM,EAAEoM,YAAcD,EACTA,GA3CQ,EA8CnBE,oBAAsB,SAACrM,GACnBsM,YAAW,cAAW,KACjB1d,IAAEoE,QAAQ,EAAKsI,MAAM9G,kBAClBwL,GAAGA,EAAEqD,iBACTzU,IAAE+c,KAAK,EAAKrQ,MAAM9G,gBAAgB,SAAArB,GAC9B,EAAKmI,MAAMtB,gBAAgB7G,EAAKC,GAAI,WACpC,EAAKkI,MAAMlB,yBAAyBjH,EAAKC,SApDlC,EAiEnBmZ,wBAjEmB,wBAiEO,+BAAAjX,EAAA,+DACAjC,KAAhBiD,EADgB,EAChBA,YADgB,SAEhBA,EAAYC,wBACb4B,MAAK,WACF,EAAKoG,SAAS,CAAEiO,QAAQ,OAE3BpU,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,MARE,2CA9DtB,EAAK9D,MAAQ,CACTkD,eAAe,EACf4W,QAAQ,EACRC,iBAAiB,GANN,E,sFAWf3Q,KAAKuQ,wB,0CAIAzd,IAAEoE,QAAQ8I,KAAKR,MAAMzH,OAAOiI,KAAKR,MAAM7B,gB,mDAGX,IAAT5F,EAAQ,EAARA,KACpBjF,IAAEoE,QAAQ8I,KAAKR,MAAMzH,QAAUjF,IAAEoE,QAAQa,IAEzCiI,KAAKR,MAAM7B,gB,2CAKVqC,KAAKpJ,MAAM+Z,iBAAoB7d,IAAEoE,QAAQ8I,KAAKR,MAAM9G,gBAK9CsH,KAAKpJ,MAAM+Z,iBAAmB7d,IAAEoE,QAAQ8I,KAAKR,MAAM9G,kBAC1DsH,KAAKyC,SAAS,CACVkO,iBAAiB,IAErBtc,OAAOuc,oBAAoB,eAAgB5Q,KAAKoQ,gBARhDpQ,KAAKyC,SAAS,CACVkO,iBAAiB,IAErBtc,OAAOwc,iBAAiB,eAAgB7Q,KAAKoQ,iB,+BAmDjD,OACI,yBAAKxQ,UAAU,uBACX,kBAAC,GAAD,MACA,kBAAC,GAAD,CAAU9F,cAAekG,KAAKpJ,MAAMkD,gBAEpC,kBAAC,IAAMgX,SAAP,KACI,kBAAC,KAAD,CACIC,KAAM/Q,KAAKpJ,MAAM+Z,gBACjBN,QAAQ,sE,GA1FRxP,aAyGTC,gBAPS,SAAC,GACrB,MAAO,CACH/I,KAF8C,EAA3BA,KAGnBW,eAH8C,EAArBA,kBAOO,CAAEiF,eAAaO,mBAAiBI,4BAA0BjF,UAAnFyH,CAA4FC,aAAWoP,K,4DC7GhHa,G,YACF,WAAYxR,GAAQ,IAAD,+BACf,8CAAMA,KAOVyR,iBAAmB,SAAClZ,GAChB,IAAKjF,IAAEoE,QAAQa,IAASjF,IAAEoE,QAAQ,EAAKN,MAAMiJ,QAAS,CAAC,IAE/CA,EAAS,CAAEhL,YADkCkD,EAAzClD,YACoBgG,MADqB9C,EAA5B8C,MACcC,QADc/C,EAArB+C,QACgBC,QADKhD,EAAZgD,SAErC,EAAK0H,SAAS,CAAE5C,aAZL,EA0BnBqR,kBAAoB,SAAC3Y,GACjB,IAAI4Y,EAAc5Y,EAAK6Y,gBACjBvR,EAAW,EAAKjJ,MAAhBiJ,OACNA,EAAOsR,YAAcA,EACrB,EAAK1O,SAAS,CACV5C,YA/BW,EAmCnBwR,kBAAoB,SAACC,EAAWnf,GAAW,IACjC0N,EAAW,EAAKjJ,MAAhBiJ,OACNA,EAAOyR,GAAanf,EACpB,EAAKsQ,SAAS,CAAE5C,YAtCD,EAyCnB0R,aAAe,SAAClG,GAAW,IACfxL,EAAW,EAAKjJ,MAAhBiJ,OACAuE,EAAkB,EAAK5E,MAAM6E,KAA7BD,cACF5H,EAAO6O,EAAMe,cACnBf,EAAM9D,iBACN8D,EAAM7D,mBACuB,IAAzBhL,EAAK6P,kBACL,EAAK7M,MAAM5E,cAAciF,GACzBsK,KAAMqH,KAAKpN,EAAc,CAAE9M,GAAI,iCAEnC,EAAKmL,SAAS,CAAE+J,WAAW,KAhD3B,EAAK5V,MAAQ,CACTiJ,OAAQ,IAJG,E,mFAiBfG,KAAKiR,iBAAiBjR,KAAKR,MAAMzH,Q,mDAGA,IAATA,EAAQ,EAARA,KACrBjF,IAAEoE,QAAQ8I,KAAKR,MAAMzH,QAAUjF,IAAEoE,QAAQa,IACxCiI,KAAKiR,iBAAiBlZ,K,+BAgCpB,IAAD,OACGqM,EAAkBpE,KAAKR,MAAM6E,KAA7BD,cACFvE,EAAWG,KAAKpJ,MAAhBiJ,OAEN,OADKA,IAAQA,EAAS,IAElB,kBAACkF,GAAA,EAAD,CAAM0M,YAAU,EAACjF,UAAWxM,KAAKpJ,MAAM4V,UAAWW,SAAUnN,KAAKuR,cAC7D,kBAACxM,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,+BAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACInC,KAAK,cACL/L,KAAK,OACLoZ,YAAa9L,EAAc,CAAE9M,GAAI,iCACjCnF,MAAO0N,EAAOhL,aAAe,GAC7BuQ,SAAU,SAAClB,GAAQ,EAAKmN,kBAAkB,cAAenN,EAAEC,OAAOhS,QAClEgT,UAAQ,IAEZ,kBAACJ,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,mCAI7B,kBAACyN,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,yBAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACInC,KAAK,QACLwK,UAAQ,EACRvW,KAAK,QACLoZ,YAAa9L,EAAc,CAAE9M,GAAI,2BACjCnF,MAAO0N,EAAOhF,OAAS,GACvBuK,SAAU,SAAClB,GAAQ,EAAKmN,kBAAkB,QAASnN,EAAEC,OAAOhS,QAC5DgT,UAAQ,IAEZ,kBAACJ,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,6BAI7B,kBAACyN,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,2BAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACInC,KAAK,UACLoC,GAAG,SACHE,UAAQ,EACRC,SAAU,SAAClB,GAAQ,EAAKmN,kBAAkB,UAAWnN,EAAEC,OAAOhS,QAC9DA,MAAO0N,EAAO/E,SAAW,IAEzB,iCAEIhI,IAAE+F,IAAI6Y,KAAYC,eAAe,SAACxf,EAAOD,GACrC,OAAO,4BAAQA,IAAKA,EAAKC,MAAOD,GAAMC,OAIlD,kBAAC4S,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,+BAG7B,kBAACyN,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,2BAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACInC,KAAK,UACL/L,KAAK,WACLoZ,YAAa9L,EAAc,CAAE9M,GAAI,6BACjCnF,MAAO0N,EAAO9E,SAAW,GACzBqK,SAAU,SAAClB,GAAQ,EAAKmN,kBAAkB,UAAWnN,EAAEC,OAAOhS,QAC9DgT,UAAQ,IAEZ,kBAACJ,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,+BAG7B,6BACA,kBAACiO,GAAA,EAAD,CAAQzO,KAAK,SAAS8I,UAAU,eAC5B,kBAAC,KAAD,CAAkBtI,GAAG,gC,GAxInBuJ,aAqJPC,gBANS,SAAC,GACrB,MAAO,CACH/I,KAF8B,EAAXA,QAMa,CAAE6C,kBAA3BkG,CAA4C8E,aAAWoL,K,qBCvIvDY,G,sLAlBD,IAAD,SAC+B5R,KAAKR,MAAjCqS,EADH,EACGA,WAAYC,EADf,EACeA,OAAQC,EADvB,EACuBA,IAE5B,OADA3X,QAAQC,IAAI,mBAAoBwX,GAE5B,yBAAKjS,UAAU,4BAA4BoJ,MAAO,CAAEgJ,MAAO,OAAQC,YAAa,UAC5E,kBAAC,KAAD,CACIC,qBAAsB,CAAE/f,MAAO0f,EAAYzM,SAAUpF,KAAKR,MAAM2S,wBAChEC,qBAAsB,CAAEjgB,MAAO2f,EAAQ1M,SAAUpF,KAAKR,MAAM6S,wBAC5DC,kBAAmB,CAAEngB,MAAO4f,EAAK3M,SAAUpF,KAAKR,MAAM+S,qBACtDC,QAAS,WAAQ,EAAKhT,MAAMiT,cAAa,IACzCC,eAAgB,CAAEC,OAAQ,OAC1BC,eAAe,e,GAbN/R,aCEvBgS,G,sLAEQ,IAGFhe,EAAaiG,EAASC,EAHrB,SACkEiF,KAAKR,MAApEK,EADH,EACGA,OAAQiT,EADX,EACWA,mBAAoBC,EAD/B,EAC+BA,eAAgBC,EAD/C,EAC+CA,eAC5C5O,EAAkBpE,KAAKR,MAAM6E,KAA7BD,cAQR,OALIvE,IACAhL,EAAcgL,EAAOhL,YACrBiG,EAAU+E,EAAO/E,QACjBC,EAAU8E,EAAO9E,SAGjB,kBAACgK,GAAA,EAAD,CAAM0M,YAAU,GACZ,kBAAC1M,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,0BAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACInC,KAAK,cACL/L,KAAK,OACLmc,WAAYH,EACZ5C,YAAa9L,EAAc,CAAE9M,GAAI,yBACjCnF,MAAO0C,GAAe,GACtBuQ,SAAU,SAAClB,GAAQ,EAAK1E,MAAM6R,kBAAkB,cAAenN,EAAEC,OAAOhS,QACxEgT,UAAQ,IAEZ,kBAACJ,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,mCAG7B,kBAACyN,GAAA,EAAK4G,MAAN,KACI,kBAAC5G,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,2BAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACInC,KAAK,UACLoC,GAAG,SACHgO,WAAYF,EACZ5N,UAAQ,EACRC,SAAU,SAAClB,GAAQ,EAAK1E,MAAM6R,kBAAkB,UAAWnN,EAAEC,OAAOhS,QACpEA,MAAO2I,GAAW,IAElB,iCAEIhI,IAAE+F,IAAI6Y,KAAYC,eAAe,SAACxf,EAAOD,GACrC,OAAO,4BAAQA,IAAKA,EAAKC,MAAOD,GAAMC,OAIlD,kBAAC4S,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,+BAG7B,kBAACyN,GAAA,EAAK4G,MAAN,CAAY/L,UAAU,sBAClB,kBAACmF,GAAA,EAAK6G,MAAN,KACI,kBAAC,KAAD,CAAkBtU,GAAG,6BAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACInC,KAAK,UACL/L,KAAK,WACLoZ,YAAa9L,EAAc,CAAE9M,GAAI,4BACjC2b,WAAYD,EACZ7gB,MAAO4I,GAAW,GAClBqK,SAAU,SAAClB,GAAQ,EAAK1E,MAAM6R,kBAAkB,UAAWnN,EAAEC,OAAOhS,QACpEgT,UAAQ,IAEZ,kBAACJ,GAAA,EAAKC,QAAQK,SAAd,CAAuBvO,KAAK,WACxB,kBAAC,KAAD,CAAkBQ,GAAG,+BAG7B,kC,GAvEauJ,aA4Eb+E,gBAAWiN,IC9ErBK,G,YAEF,WAAY1T,GAAQ,IAAD,+BACf,8CAAMA,KACD5I,MAAQ,CACTib,WAAY,GACZC,OAAQ,GACRC,IAAK,IALM,E,wEAST,IAAD,EACwD/R,KAAKR,MAA5D2T,EADD,EACCA,gBAAiBC,EADlB,EACkBA,UAAW/K,EAD7B,EAC6BA,SAAUgL,EADvC,EACuCA,aAI5C,OAHiB,IAAbhL,IACAgL,EAAeA,EAAaC,UAAU,EAAGD,EAAavf,OAAS,IAG/D,yBAAK8L,UAAU,6CACX,kBAACkF,GAAA,EAAD,CAAWlF,UAAU,2BACjB,wBAAIA,UAAU,uBACV,kBAAC,KAAD,CAAkBtI,GAAG,2BAEzB,kBAACic,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIhU,UAAU,iBACvC,kBAAC,KAAD,CAAkBtI,GAAI,oCAE1B,kBAACkc,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,MAAM,SAClCxL,EAAWA,EAAW,IAAMgL,EAAe,IAGpD,kBAACE,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIhU,UAAU,iBACvC,kBAAC,KAAD,CAAkBtI,GAAI,kCAE1B,kBAACkc,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,MAAM,SAClC,MAAQT,GAAwB,KAGzC,kBAACG,GAAA,EAAD,CAAK3T,UAAU,qCACX,kBAAC4T,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIhU,UAAU,iBACvC,4BACI,kBAAC,KAAD,CAAkBtI,GAAI,kCAG9B,kBAACkc,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,MAAM,SACnC,4BACK,MAAQV,GAAoC,Y,GA9ClDtS,aAwDX+E,gBAAWsN,I,qBCzCrBY,I,mBAEF,WAAYtU,GAAQ,IAAD,+BACf,8CAAMA,KAaVyR,iBAAmB,WAAO,IACdlZ,EAAS,EAAKyH,MAAdzH,KACR,IAAKjF,IAAEoE,QAAQa,GAAO,CAAC,IAEf8H,EAAS,CAAEhL,YADkCkD,EAAzClD,YACoBgG,MADqB9C,EAA5B8C,MACcC,QADc/C,EAArB+C,QACgBC,QADKhD,EAAZgD,SAErC,EAAK0H,SAAS,CACV5C,SACAgS,WAAY,GACZC,OAAQ,GACRC,IAAK,GACLgC,uBAAwB,GACxBjB,oBAAoB,EACpBC,gBAAgB,EAChBC,gBAAgB,MA3BT,EAyCnB3B,kBAAoB,SAACC,EAAWnf,GAC5B,EAAKqN,MAAMiT,cAAa,GADc,IAGhC5S,EAAW,EAAKjJ,MAAhBiJ,OAGN,GAFAA,EAAOyR,GAAanf,EACpB,EAAKsQ,SAAS,CAAE5C,WACZ1N,EAAM2B,QAAU,EAAG,CACnB,IAAIkgB,EAAa1C,EAAY,UAC7B,EAAK7O,UAAS,SAAAwR,GAGV,OAFAA,EAAcD,IAAc,EAC5B5Z,QAAQC,IAAI4Z,GACLA,SAER,CACH,IAAID,EAAa1C,EAAY,UAC7B,EAAK7O,UAAS,SAAAwR,GAEV,OADAA,EAAcD,IAAc,EACrBC,OA1DA,EA+DnB9B,uBAAyB,SAAC+B,GACtB,EAAK1U,MAAMiT,cAAa,GACxB,EAAKhQ,SAAS,CACVoP,WAAYqC,EAAgB/P,OAAOhS,SAlExB,EAsEnBkgB,uBAAyB,SAAC8B,GACtB,EAAK3U,MAAMiT,cAAa,GACxB,EAAKhQ,SAAS,CACVqP,OAAQqC,EAAYhQ,OAAOhS,SAzEhB,EA6EnBogB,oBAAsB,SAAC6B,GACnB,EAAK5U,MAAMiT,cAAa,GACxB,EAAKhQ,SAAS,CACVsP,IAAKqC,EAASjQ,OAAOhS,SAhFV,EAoFnBkiB,uBAAyB,WAAO,IAAD,EACoC,EAAKzd,MAA5Dkc,EADmB,EACnBA,mBAAoBC,EADD,EACCA,eAAgBC,EADjB,EACiBA,eAE5C,OADA5Y,QAAQC,IAAIyY,EAAqB,KAAOC,EAAiB,KAAOC,GACzDF,GAAsBC,GAAkBC,GAvFhC,EA0FnBsB,aAAe,WACX,GAAK,EAAK9U,MAAM+U,gBAAhB,CADiB,MAE4B,EAAK3d,MAA1CiJ,EAFS,EAETA,OAAQgS,EAFC,EAEDA,WAAYC,EAFX,EAEWA,OAAQC,EAFnB,EAEmBA,IACpC,GAAIlS,GAAUgS,GAAcC,GAAyB,IAAfC,EAAIje,QAAgB,EAAKugB,yBAA0B,CACrF,IAAIG,EAAa,CACb3U,SACAgS,aACAC,SACAC,OAEJ,EAAKvS,MAAM8U,aAAaE,OACrB,CAAC,IACIpQ,EAAkB,EAAK5E,MAAM6E,KAA7BD,cACR,EAAK5E,MAAMiV,UAAUrQ,EAAc,CAAE9M,GAAI,kCAvG9B,EA2GnBod,mBAAqB,WAAO,IAAD,EACoF,EAAKlV,MAAxG2T,EADe,EACfA,gBAAiBC,EADF,EACEA,UAAW/K,EADb,EACaA,SAAUgL,EADvB,EACuBA,aAAczc,EADrC,EACqCA,MAAO8L,EAD5C,EAC4CA,YAAa2K,EADzD,EACyDA,SAAUsH,EADnE,EACmEA,aADnE,EAEqB,EAAK/d,MAAzCib,EAFe,EAEfA,WAAYC,EAFG,EAEHA,OAAQC,EAFL,EAEKA,IAAKlS,EAFV,EAEUA,OACjC,OAAIjJ,GAAiC,YAAxBA,EAAMge,cAEX,kBAAC9P,GAAA,EAAD,KACI,kBAACyO,GAAA,EAAD,CAAK3T,UAAU,0BACX,kBAAC,KAAD,CAAiB6I,KAAMoM,KAAezf,KAAK,KAAK6T,MAAO,WAG3D,kBAACsK,GAAA,EAAD,CAAK3T,UAAU,0BACX,4BACI,kBAAC,KAAD,CAAkBtI,GAAG,8BAK9BV,GAAiC,YAAxBA,EAAMge,cAElB,kBAAC9P,GAAA,EAAD,KACI,kBAACyO,GAAA,EAAD,CAAK3T,UAAU,0BACX,kBAAC,KAAD,CAAiB6I,KAAMqM,KAAe1f,KAAK,KAAK6T,MAAO,SAG3D,kBAACsK,GAAA,EAAD,CAAK3T,UAAU,0BACX,4BAAK+U,KAMb,kBAAC7P,GAAA,EAAD,KACI,kBAACyO,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAClB,kBAAC,GAAD,CACIR,gBAAiBA,EACjBC,UAAWA,EACX/K,SAAUA,EACVgL,aAAcA,EACdU,uBAAwB,EAAKnd,MAAMmd,0BAG3C,kBAACP,GAAA,EAAD,CAAKC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAI/T,UAAU,4BAChC,wBAAIA,UAAU,uBACV,kBAAC,KAAD,CAAkBtI,GAAG,2BAEzB,kBAAC,GAAD,CACI+Z,kBAAmB,EAAKA,kBACxBxR,OAAQA,EACRiT,mBAAoB,EAAKlc,MAAMkc,mBAC/BC,eAAgB,EAAKnc,MAAMmc,eAC3BC,eAAgB,EAAKpc,MAAMoc,iBAE/B,wBAAIhK,MAAO,CAAE+L,WAAY,GAAI9L,MAAO,YAChC,kBAAC,KAAD,CAAkB3R,GAAI,0BAE1B,kBAAC,GAAD,CACIua,WAAYA,EAAYC,OAAQA,EAAQC,IAAKA,EAC7CI,uBAAwB,EAAKA,uBAC7BE,uBAAwB,EAAKA,uBAC7BE,oBAAqB,EAAKA,oBAC1BE,aAAc,EAAKjT,MAAMiT,iBAIrC,6BACI,kBAAClN,GAAA,EAAD,CAAQ3F,UAAU,yBAAyBgB,QAAS,EAAK0T,aAAcjH,SAAUA,GAC7E,kBAAC,KAAD,CAAkB/V,GAAG,wBAEjBoL,GACI,kBAAC8C,GAAA,EAAD,CAASC,UAAU,OAAOC,KAAK,YAI3C,yBAAKxE,IAAK8T,KAAgB/T,IAAI,cAAcrB,UAAU,iBAnLtE,EAAKhJ,MAAQ,CACTib,WAAY,GACZC,OAAQ,GACRC,IAAK,GACLgC,uBAAwB,GACxBlU,OAAQ,GACRiT,oBAAoB,EACpBC,gBAAgB,EAChBC,gBAAgB,GAVL,E,mFAiCfhT,KAAKiR,qB,mDAEmC,IAAhBlZ,EAAe,EAAfA,KAAMnB,EAAS,EAATA,MACzB9D,IAAEoE,QAAQa,IAAmB,YAAVnB,GACpBoJ,KAAKiR,iBAAiBlZ,K,+BAwJ1B,OACI,6BACKiI,KAAK0U,0B,GAjMK7T,cA6MZC,gBANS,SAAC,GACrB,MAAO,CACH/I,KAF8B,EAAXA,QAMa,CAAE6C,kBAA3BkG,CAA4C8E,aAAWkO,KC3NhEmB,G,8MACFC,gBAAkB,WAAO,IAAD,EACe,EAAK1V,MAAhC6I,EADY,EACZA,SAAUgL,EADE,EACFA,aACVtT,EAAgB,EAAKP,MAAMzH,KAA3BgI,YACR,OAAGA,EAAYoV,MAAQ,EAAS,GAAN,OAAUpV,EAAYoV,MAAtB,SAEpB,GAAN,OADyC,UAAjB9B,EAAsC,GAAXhL,EAAgBA,EACnE,U,0EAGM,IACEtQ,EAASiI,KAAKR,MAAdzH,KACJvC,EAAO,IAAIC,KACX2f,EAAa,UAAM5f,EAAKI,UAAX,YAAwBJ,EAAKM,WAAa,EAA1C,YAA+CN,EAAKQ,eACjE+E,EAAO,UAAMhD,EAAKgD,QAAX,cAAwBsa,mBAAQtd,EAAK+C,UAC5CjG,EAAckD,EAAKlD,YACvB,OACI,kBAACyP,GAAA,EAAD,CACIlP,KAAK,KACLmP,KAAMvE,KAAKR,MAAM+E,KACjBC,OAASxE,KAAKR,MAAM8V,iBACpB5Q,gBAAgB,8BAEhB,kBAACJ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GAAC,gFAC1B,kBAACN,GAAA,EAAMO,KAAP,KACI,wBAAIjF,UAAU,yBACV,uCAEI,6NACA,2HAEA,6HACA,qDAA0B,6BAA1B,kGAGA,+XAEJ,uCAEI,2PACA,sFACuC,6BADvC,4EAE8C,6BAF9C,yFAG8D,6BAH9D,qGAIyE,6BAJzE,wOAKoJ,6BALpJ,2JAMqI,6BANrI,8IAOiI,6BAPjI,mDAQ0C,6BAR1C,sJASqH,6BATrH,0CAUiC,6BAVjC,0FAWiE,6BAXjE,8OAeJ,mCAEI,+hBAEI,6BAFJ,6RAMJ,8DAEI,kHAC2D,6BAD3D,iGAE4F,6BAF5F,2BAG4B,6BAH5B,gCAIiC,+BAGrC,6DAEI,yDAC4B/K,EAAa,6BADzC,YAEekD,EAAKoZ,YAAa,6BAFjC,YAGepZ,EAAK8C,MAAO,+BAG/B,wGAEI,+CACuBhG,EAAa,6BADpC,YAEekD,EAAKoZ,YAAa,6BAFjC,YAGepZ,EAAK8C,MAAO,+BAG/B,wGAEI,wBAAI+E,UAAU,yBACV,iaAGA,wTAGA,6KAEI,kEACuB7H,EAAKgI,YAAYwV,SAAU,6BADlD,SAEYvV,KAAKkV,kBAAmB,6BAFpC,uBAGqBlV,KAAKR,MAAM4T,UAAW,6BAH3C,wBAI2BpT,KAAKR,MAAM2T,gBAAiB,6BAJvD,6DAM4C,6BAN5C,oBAOuBpb,EAAK8C,MAAO,6BAPnC,8BAQ4BhG,EAAa,6BARzC,wBASsBugB,EAAe,6BATrC,qBAUwBA,EAAe,6BAVvC,iCAgBZ,8DAEI,8CACsBvgB,EAAa,6BADnC,UAEakG,EAAS,6BAFtB,YAGehD,EAAKoZ,YAAa,6BAHjC,YAIepZ,EAAK8C,MAAO,+BAG/B,mDAEI,wBAAI+E,UAAU,yBACV,mxBAGA,8jBAGA,kqBAGA,qSAGA,idAGA,4dAGA,0mBAGA,ooDAGA,ipBAGA,gjBAGA,g6BAGA,icAGA,sWAGA,gkBAGA,ynBAGA,8kBAKR,0CAEI,wBAAIA,UAAU,yBACV,oiCAGA,mfAEI,wBAAI9I,KAAK,KACL,ubAGA,+CAGA,uMAGA,8UAGA,2eAGA,4RAOhB,yEAEI,0pDAGA,mcAIJ,gFAEI,myBAIJ,wDAEI,6fAGA,iMAEI,wBAAIA,KAAK,KACL,8KAGA,iRAGA,wPAGA,oWAZR,iFAmBJ,gDAEI,oeAGA,8GACA,qCAAYjC,GACZ,0CAAYugB,W,GA7PVvU,aA4QfC,gBANS,SAAC,GACrB,MAAO,CACH/I,KAF8B,EAAXA,QAMZ+I,CAAyBmU,ICvOzBO,GAvCQ,SAAChW,GACpB,OACI,kBAAC8E,GAAA,EAAD,CACIlP,KAAK,KACLmP,KAAO/E,EAAM+E,KACbC,OAAShF,EAAM8V,iBACf5Q,gBAAgB,oBAEhB,kBAACJ,GAAA,EAAMK,OAAP,CAAcC,aAAW,GAAC,sEAC1B,kBAACN,GAAA,EAAMO,KAAP,KACI,oCACA,wRAGA,0CACA,ubAGA,uDACA,4BACI,sNAGA,8PAGA,yRAIJ,gFACA,gxBCjBV4Q,I,mBACF,WAAYjW,GAAQ,IAAD,EAEXvI,EAFW,sBACf,8CAAMuI,KAmCVkW,eAAiB,WACb,EAAKjT,SAAS,CACV4F,SAAU,EACVgL,aAAc,QACdF,gBAAiB,EACjBvc,MAAO,UACPmF,cAAUgM,EACV4N,kBAAc5N,EACdrF,aAAa,EACbkT,YAAa,GACbC,yBAAyB,EACzBC,wBAAwB,EACxBC,kBAAkB,EAClBpB,aAAc,GACdtH,UAAU,EACV2I,iBAAiB,KAnDN,EAoFnBC,gBAAkB,SAAC/R,EAAGgS,GAClB,IAAI7N,EACCnE,EAAEC,SAMHkE,EAAWnE,EAAEC,OAAOhS,OACL,IAAGkW,EAAW,GAC7B,EAAK5F,SAAS,CAAE4F,aAChB,EAAK8N,eAAe9N,MARpBA,EAAWnE,GACI,IAAGmE,EAAW,GAC7B,EAAK5F,SAAS,CAAE4F,aAChB,EAAK8N,eAAe9N,EAAU6N,KA1FnB,EAmGnBE,oBAAsB,SAAClS,GACnB,IAAImE,EAAW,EAAKzR,MAAMyR,SACtBgL,EAAenP,EACfA,EAAEC,SACFkP,EAAenP,EAAEC,OAAOhS,OAE5B,EAAKsQ,SAAS,CAAE4Q,iBAAgB,WAC5B,EAAK8C,eAAe9N,OA1GT,EA8GnB8N,eAAiB,SAAC9N,EAAU6N,GAAc,IAElC/C,EADIE,EAAiB,EAAKzc,MAAtByc,aAEFtT,EAAgB,EAAKP,MAAMzH,KAA3BgI,YACFjN,IAAEoE,QAAQ6I,KACVA,EAAcmW,GAElB,IAAIG,EAAqC,YAAjBhD,EAA6BhL,EAAsB,GAAXA,EAC5D+K,EAAYrT,EAAYuW,aAC5BnD,EAAkB,EAAKoD,uBAAuBnD,EAAWiD,GACzD,EAAK5T,SAAS,CACV0Q,kBACAC,YACAxc,MAAO,UACP+e,kBAAc5N,KA5HH,EAgInBwO,uBAAyB,SAACD,EAAcjgB,GAEpC,OAAIA,GAAW,EACJ,EACJigB,EAAejgB,EAAU,IApIjB,EAuInBmgB,qBAAuB,SAACF,EAAchgB,GAElC,OAAIA,GAAS,EACF,EACJggB,GA3IQ,EA8InBG,iBAAmB,WAAO,IACdxf,EAAW,EAAKL,MAAhBK,OACR5C,OAAOub,KAAP,gBAAqB3Y,GAAU,UAhJhB,EAmJnBgW,cAAgB,WAAO,IAAD,EACe,EAAKrW,MAA9BA,EADU,EACVA,MAAO8D,EADG,EACHA,MAAOzD,EADJ,EACIA,OACtB,GAAc,YAAVL,GAAiC,UAAVA,GAA+B,YAAVA,EAAqB,OAAO,KAC5E,GAAc,YAAVA,EAAqB,CAAC,IACdwN,EAAkB,EAAK5E,MAAM6E,KAA7BD,cACJsS,EAAWhc,EAAQA,EAAMxI,SAAM6V,EAC/B4O,EAAW7jB,IAAE+K,KAAK,EAAK2B,MAAM5H,iBAAkB,CAAE1F,IAAKwkB,IACtD/B,EAAe+B,EAAWC,EAASxkB,MAAQiS,EAAc,CAAE9M,GAAI,0BACnE,OACI,6BACI,kBAAC,KAAD,CAAgBiK,QAAQ,UACnBoT,GAEL,kBAACpP,GAAA,EAAD,CAAQhE,QAAQ,UAAUX,QAAS,EAAK8U,gBACpC,kBAAC,KAAD,CAAkBpe,GAAG,8BAEzB,6BACA,kBAACiO,GAAA,EAAD,CAAQhE,QAAQ,QACZ,kBAAC,KAAD,CAAMf,GAAG,cACL,kBAAC,KAAD,CAAkBlJ,GAAG,qCAMzC,OACI,yBAAKsI,UAAU,4BAEN9M,IAAEoE,QAAQD,IACX,kBAACsO,GAAA,EAAD,CAAQhE,QAAQ,OAAOX,QAAS,EAAK6V,kBACjC,kBAAC,KAAD,CAAkBnf,GAAG,oCAG7B,kBAAC,KAAD,CAAgBiK,QAAQ,WACpB,kBAAC,KAAD,CAAkBjK,GAAG,6BAEzB,kBAACiO,GAAA,EAAD,CAAQhE,QAAQ,UAAUX,QAAS,EAAK8U,gBACpC,kBAAC,KAAD,CAAkBpe,GAAG,oCAEzB,6BACA,kBAACiO,GAAA,EAAD,CAAQhE,QAAQ,QACZ,kBAAC,KAAD,CAAMf,GAAG,cACL,kBAAC,KAAD,CAAkBlJ,GAAG,sCA7LtB,EAoMnBsf,uBAAyB,SAAC1S,GACtBA,EAAEqD,iBACFrD,EAAEsD,kBAEF,EAAK/E,SAAS,CAAEoU,qBAAqB,KAxMtB,EA2MnBC,sBAAwB,SAAC5S,GACrBA,EAAEqD,iBACFrD,EAAEsD,kBAEF,EAAK/E,SAAS,CAAEsU,oBAAoB,KA/MrB,EAkNnBC,gCAAkC,WAC9B,EAAKvU,SAAS,CACVoU,qBAAsB,EAAKjgB,MAAMigB,uBApNtB,EAwNnBI,+BAAiC,WAC7B,EAAKxU,SAAS,CACVsU,oBAAqB,EAAKngB,MAAMmgB,sBA1NrB,EA8NnBG,eAAiB,WACb,OACI,yBAAKtX,UAAU,4CAA4CoJ,MAAO,CAAEmO,SAAU,UAC1E,2BACI,0BAAMnO,MAAO,CAAEC,MAAO,OAAQmO,mBAAoB,YAAaC,OAAQ,WAAa9V,QAAQ,OAAOX,QAAS,EAAKgW,wBACpF,UAAxB,EAAKpX,MAAM3M,SAAuB,qCAAqB,oBAEnC,UAAxB,EAAK2M,MAAM3M,SAAuB,QAAU,OAC7C,0BAAMmW,MAAO,CAAEC,MAAO,OAAQmO,mBAAoB,YAAaC,OAAQ,WAAa9V,QAAQ,OAAOX,QAAS,EAAKkW,uBACpF,UAAxB,EAAKtX,MAAM3M,SAAuB,gCAAmB,oBAvOvD,EA8OnB2R,OAAS,WACL,EAAK/B,SAAS,CAAE6U,kBAAkB,KA/OnB,EAkPnBC,SAAW,WACHvM,SAAS,EAAKpU,MAAMyR,WAAa,GACjC,EAAK5F,SAAS,CACVuT,iBAAiB,IAIrB,EAAKvT,SAAS,CACVsT,kBAAkB,EAClBnf,MAAO,aA3PA,EAgQnB4gB,kBAAoB,WACX,EAAK5gB,MAAM8L,aACZ,EAAKD,SAAS,CACVsT,kBAAkB,KAnQX,EAwQnB0B,iBAAmB,WACf,EAAKhV,SAAS,CACVuT,iBAAiB,KA1QN,EA8QnBzB,cAAgB,WAAO,IAAD,EACiB,EAAK3d,MAAhCyR,EADU,EACVA,SAAUgL,EADA,EACAA,aACVxb,EAAoB,EAAK2H,MAAzB3H,gBACJsb,EAAkB,EAElBkD,EAAqC,YAAjBhD,EAA6BhL,EAAsB,GAAXA,EAC5D+K,EAFkB,EAAK5T,MAAMzH,KAA3BgI,YAEsBuW,aAE5B,GADAnD,EAAkB,EAAKoD,uBAAuBnD,EAAWiD,IACpDvjB,IAAEoE,QAAQW,IAAoBwe,EAAoBxe,EAAgB4F,gBAAiB,CAAC,IAC7E2G,EAAkB,EAAK5E,MAAM6E,KAA7BD,cAQR,OAPA+F,KAAMzP,MAAM0J,EAAc,CAAE9M,GAAI,mCAAqC,CAAEogB,eAAgB7f,EAAgB4F,mBACvG0V,EAAkB,EAAKoD,uBAAuBnD,EAAWiD,GACzD,EAAK5T,SAAS,CACV4F,SAAUxQ,EAAgB4F,gBAC1B4V,aAAc,UACdF,qBAEG,EAEX,OAAO,GAjSQ,EAoSnBmB,aApSmB,yCAoSJ,WAAOqD,GAAP,0CAAAne,EAAA,6DAEHqG,EAAoC8X,EAApC9X,OAAQgS,EAA4B8F,EAA5B9F,WAAYC,EAAgB6F,EAAhB7F,OAAQC,EAAQ4F,EAAR5F,IAChC6F,EAAO,CACPC,eAAgBhY,EAAOhL,YACvBgd,WAAYA,EAAW/O,QAAQ,MAAO,IACtCgV,YAAahG,EAAOwB,UAAU,EAAG,GACjCyE,WAAYjG,EAAOwB,UAAU,EAAG,GAChCvB,OAEAvP,EAVO,gBAWH3P,EAAa,EAAK2M,MAAlB3M,SAXG,EAY+C,EAAK+D,MAAzDyR,EAZK,EAYLA,SAAUgL,EAZL,EAYKA,aAActX,EAZnB,EAYmBA,SAAU9E,EAZ7B,EAY6BA,OAAQL,EAZrC,EAYqCA,MAIhD,EAAK6L,SAAS,CACVC,aAAa,EACb2K,UAAU,EACV0I,kBAAkB,IAElB9b,EAAK,GArBE,mBAuBIC,KAASC,KAvBb,QAuBPF,EAvBO,yDAyBPG,QAAQC,IAAI,6BAzBL,QA2BQnH,EAASuD,YAAYC,cAAc,cACtDshB,CAAa,CACT1hB,MAAwB,UAAjB+c,EAA2BrI,SAAS3C,QAAYN,EACvD1R,QAA0B,YAAjBgd,EAA6BrI,SAAS3C,QAAYN,EAC3DkQ,OAAQplB,EACRoH,KACA8B,WACA6b,OACA3gB,WACDoF,MAAK,YAAe,IAAZ9D,EAAW,EAAXA,KACCwD,EAA4BxD,EAA5BwD,SAAUN,EAAkBlD,EAAlBkD,OAAQf,EAAUnC,EAAVmC,MACtBia,EAAe,GACfja,EACAia,EAAeja,EAAMia,aAChBlZ,GAA4B,YAAlBA,EAAOD,SACtBmZ,EAAe,+BAEd7hB,IAAEoE,QAAQyd,IACXxK,KAAMzP,MAAMia,GAEhBnS,EAAKC,SAAS,CACV1G,WACAN,SACA7E,MAAO9D,IAAEoE,QAAQyd,GAAgB,UAAY/d,EAC7C+d,eACAjS,aAAa,EACbkT,YAAa,GACbvI,UAAU,OAMb/Q,OAAM,SAAA5B,GAGHN,QAAQC,IAAI,iBAAmBK,GAE/B,EAAK+H,SAAS,CACVkS,aAFe,gCAInBxK,KAAMzP,MAJa,kCAhEhB,0DApSI,wDA+WnB+X,aAAe,SAACyF,GACZ,EAAKzV,SAAS,CACV4K,SAAU6K,KAjXC,EAqXnBzD,UAAY,SAACpE,GACTlG,KAAMzP,MAAM2V,IAtXG,EAyXnB8H,YAAc,WACV,OACI,yBAAKvY,UAAU,cAAcoJ,MAAO,CAAEmO,SAAU,QAASnF,MAAO,OAAQ+C,UAAW,SAC/E,2BACI,0BAAM/L,MAAO,CAAEC,MAAO,OAAQmO,mBAAoB,YAAaC,OAAQ,WAAa9V,QAAQ,OAAOX,QAAS,EAAKgW,wBACpF,UAAxB,EAAKpX,MAAM3M,SAAuB,qCAAqB,oBAEnC,UAAxB,EAAK2M,MAAM3M,SAAuB,QAAU,OAC7C,0BAAMmW,MAAO,CAAEC,MAAO,OAAQmO,mBAAoB,YAAaC,OAAQ,WAAa9V,QAAQ,OAAOX,QAAS,EAAKkW,uBACpF,UAAxB,EAAKtX,MAAM3M,SAAuB,gCAAmB,oBA/XtE,IAAI6kB,OAAiB3P,EACjBM,EAAW,EACXgL,EAAe,QALJ,OAMX7T,EAAMlL,UAAYkL,EAAMlL,SAAS8jB,OACjCnhB,EAASuI,EAAMlL,SAAS8jB,KAAKrV,OAAO,mBAAmBjP,QAClDhB,IAAEoE,QAAQsI,EAAM3H,kBAAoB2H,EAAM3H,gBAAgBZ,SAAWA,IACtEygB,EAAiBlY,EAAM3H,gBAAgB4F,gBACvC4K,EAAW7I,EAAM3H,gBAAgB4F,gBACjC4V,EAAe,YAGvB,EAAKzc,MAAQ,CACTyR,WACAgL,eACAqE,iBACAtE,UAAW,EACXD,gBAAiB,EACjBvc,MAAO,UACPyhB,sBAAkBtQ,EAClB9Q,SACA4f,qBAAqB,EACrBE,oBAAoB,GAxBT,E,4FA4BkB,IAAThf,EAAQ,EAARA,KACpBjF,IAAEoE,QAAQ8I,KAAKR,MAAMzH,QAAUjF,IAAEoE,QAAQa,KACpCjF,IAAEoE,QAAQa,EAAKgI,cAA4C,WAA5BhI,EAAKgI,YAAYuY,QACjDtY,KAAKiW,gBAAgBjW,KAAKpJ,MAAMyR,SAAUtQ,EAAKgI,gB,0CAwBtC,IAAD,EACyBC,KAAKR,MAAtC7H,EADQ,EACRA,MAAOI,EADC,EACDA,KAAMF,EADL,EACKA,gBACjBsb,EAAkB,EAClB9K,EAAW,EACXgL,EAAe,QACdvgB,IAAEoE,QAAQW,IAAoBmI,KAAKpJ,MAAMK,SAAWY,EAAgBZ,SACrEoR,EAAWxQ,EAAgB4F,gBAC3B4V,EAAe,WAEf1b,EAAM4gB,WAAUpF,EAAkBxb,EAAM6gB,aAAaC,WACrD1gB,GAAQA,EAAKgI,aAA2C,WAA5BhI,EAAKgI,YAAYuY,SAAqBnF,EAAkBpb,EAAKgI,YAAYuW,cACpGxjB,IAAEoE,QAAQS,KACXqI,KAAKyC,SAAS,CACV4F,WACAgL,eACAF,kBACAC,UAAWrb,EAAKgI,YAAYuW,aAC5B1f,MAAO,UACPmF,cAAUgM,EACV4N,kBAAc5N,EACdrF,aAAa,EACbkT,YAAa,GACbC,yBAAyB,EACzBC,wBAAwB,IAE5B9V,KAAKmW,eAAe9N,M,+BAyTlB,IAAD,EACuIrI,KAAKpJ,MAAzIyR,EADH,EACGA,SAAUgL,EADb,EACaA,aAAcD,EAD3B,EAC2BA,UAAWD,EADtC,EACsCA,gBAAiBzQ,EADvD,EACuDA,YAAamU,EADpE,EACoEA,oBAAqBE,EADzF,EACyFA,mBAAoBW,EAD7G,EAC6GA,eAAgB9gB,EAD7H,EAC6HA,MAD7H,EAEkBoJ,KAAKR,MAApBzH,EAFH,EAEGA,KACAqM,EAHH,EAESC,KACND,cACR,OACI,kBAACU,GAAA,EAAD,KACI,yBAAKlF,UAAU,gCAAgCoJ,MAAO,CAAEgJ,MAAO,OAAQ0G,OAAQ,SAC3E,yBAAK9Y,UAAU,qCAAqCoJ,MAAO,CAAEgJ,MAAO,OAAQ0G,OAAQ,SAChF,0BAAM9Y,UAAU,2DACZ,kBAAC,KAAD,CAAkBtI,GAAG,2BACrB,0BAAMsI,UAAU,SAAhB,KAA2BwT,GAC3B,0BAAMxT,UAAU,WAAhB,IACI,kBAAC,KAAD,CAAkBtI,GAAG,gCAIf,YAAVV,GACA,6BACI,yBAAKgJ,UAAU,kBACX,kBAACkF,GAAA,EAAD,KACI,kBAACyO,GAAA,EAAD,CAAK3T,UAAU,wFACX,kBAAC4T,GAAA,EAAD,CAAK5T,UAAU,gCAAgC8T,IAAE,GAC7C,4BACI,kBAAC,KAAD,CAAkBpc,GAAG,kCAEzB,kBAACyN,GAAA,EAAKC,QAAN,CACIlO,KAAK,SACL8I,UAAU,wBACVzN,MAAOkW,GAAYqP,EACnBtS,SAAUpF,KAAKiW,kBAEnB,kBAAClR,GAAA,EAAKC,QAAN,CAAcC,GAAG,SACbC,aAAa,UACbC,UAAQ,EACRhT,MAAOkhB,EACPjO,SAAUpF,KAAKoW,oBACfxW,UAAU,oBACV,4BAAS1N,IAAI,UAAUC,MAAM,WACxBiS,EAAc,CAAE9M,GAAI,kCAEzB,4BAAQpF,IAAI,QAAQC,MAAM,SACrBiS,EAAc,CAAE9M,GAAI,iCAG7B,4BACI,yBAAKsI,UAAU,SAASI,KAAKR,MAAMnE,QAEvC,iCAKhB,kBAAC,GAAD,CACIgN,SAAUA,EACVgL,aAAcA,EACdD,UAAWA,EACXD,gBAAiBA,EACjB8C,gBAAiBjW,KAAKiW,gBACtB0C,UAAW3Y,KAAKuX,SAChB7U,YAAaA,EACb3C,YAAahI,EAAKgI,YAClBnJ,MAAOoJ,KAAKpJ,MAAMA,MAClB6b,aAAczS,KAAKyS,aACnB6B,aAActU,KAAKsU,aACnBG,UAAWzU,KAAKyU,UAChBF,cAAevU,KAAKuU,gBAEvBvU,KAAKmY,eAIA,YAAVvhB,GACAoJ,KAAKiN,gBAGL4J,GACA,kBAAC,GAAD,CACItS,KAAMsS,EACNvB,iBAAkBtV,KAAKgX,gCACvB3O,SAAUrI,KAAKR,MAAM6I,SACrBgL,aAAcrT,KAAKR,MAAM6T,aACzBF,gBAAiBnT,KAAKR,MAAMnE,MAC5B+X,UAAWpT,KAAKR,MAAM4T,YAI1B2D,GACA,kBAAC,GAAD,CACIxS,KAAMwS,EACNzB,iBAAkBtV,KAAKiX,wC,GAnejCpW,cAufPC,gBAVS,SAAC,GACrB,MAAO,CACH/I,KAFkF,EAA/DA,KAGnBlF,SAHkF,EAAzDA,SAIzB8E,MAJkF,EAA/CA,MAKnCC,iBALkF,EAAxCA,iBAM1CC,gBANkF,EAAtBA,mBAU5B,CAAE6F,yBAA3BoD,CAAmDC,aAAW6E,aAAW6P,M,UC3flFmD,G,iMAGO9lB,IAAEoE,QAAQ8I,KAAKR,MAAMzH,OACtBiI,KAAKR,MAAMvE,gBAAgB+E,KAAKR,MAAMzH,Q,mDAIK,IAAvBkB,EAAsB,EAAtBA,aAAclB,EAAQ,EAARA,KACtC,GAAIjF,IAAEoE,QAAQ8I,KAAKR,MAAMzH,QAAUjF,IAAEoE,QAAQa,GACzCiI,KAAKR,MAAMvE,gBAAgBlD,QACxB,IAAKjF,IAAEoE,QAAQ+B,GAAe,CACjC,IAAI7D,EAAO6D,EAAanF,QAAU,EAC9B+kB,EAAU5f,EAAanF,QAAU,EACrCsB,EAAO4V,SAAS5V,EAAO,IACnByjB,EAAU,KAAO,GACjBzjB,IACJ4K,KAAKR,MAAMsZ,aAAa1jB,M,wCAMd0G,EAAa9G,GAC3B,OACI,wBAAI9C,IAAK8C,GACL,wBAAI4K,UAAU,eAAe9D,EAAYtG,MACzC,wBAAIoK,UAAU,eAAe9D,EAAYE,OAAS,YAClD,wBAAI4D,UAAU,eAAe9D,EAAYP,SAAW,IAAMO,EAAYT,OACtE,wBAAIuE,UAAU,eAAe9D,EAAY8b,MACzC,wBAAIhY,UAAU,eAEiB,YAAvB9D,EAAYN,OACR,kBAAC,KAAD,CAAiBiN,KAAMoM,KAAe5L,MAAO,UAE7C,kBAAC,KAAD,CAAiBR,KAAMqM,KAAe7L,MAAO,Y,+BAM3D,IAAD,EAC8BjJ,KAAKR,MAAlCvG,EADD,EACCA,aAAc8f,EADf,EACeA,WAIpB,OAHI9f,IACAA,EAAeA,EAAa/D,MAAyB,IAAlB6jB,EAAa,GAAsB,GAAbA,IAGzD,kBAACjU,GAAA,EAAD,CAAWlF,UAAWI,KAAKR,MAAMI,WAC7B,kBAACoZ,GAAA,EAAD,CAAOC,YAAU,EAACC,SAAO,EAACC,UAAQ,EAACC,OAAK,GACpC,+BACI,4BACI,wBAAIxZ,UAAU,eACV,kBAAC,KAAD,CAAkBtI,GAAI,sCAE1B,wBAAIsI,UAAU,eACV,kBAAC,KAAD,CAAkBtI,GAAI,wCAE1B,wBAAIsI,UAAU,eACV,kBAAC,KAAD,CAAkBtI,GAAI,uCAE1B,wBAAIsI,UAAU,eACV,kBAAC,KAAD,CAAkBtI,GAAI,sCAE1B,wBAAIsI,UAAU,eACV,kBAAC,KAAD,CAAkBtI,GAAI,0CAIlC,+BACK2B,EAAaJ,IAAImH,KAAKqZ,0B,GArErBxY,aAmFXC,gBAPS,SAAC,GACrB,MAAO,CACH/I,KAF4C,EAAzBA,KAGnBkB,aAH4C,EAAnBA,gBAOOqgB,EAAzBxY,CAAkC8E,aAAWgT,KCrFtDW,G,YACF,WAAY/Z,GAAQ,IAAD,wBACf,8CAAMA,KAmBVga,mBAAqB,SAACha,GAClB,IAAIia,EAAYja,EAAMlL,SAAS8jB,KAAO5Y,EAAMlL,SAAS8jB,KAAKrV,OAAO,GAAK,GAClE2W,EAAYD,EAAUpc,MAAM,KAChCoc,EAAYC,EAAU,GACtB,IAAIC,EAAaD,EAAU,GACvBziB,OAAS8Q,EAKb,OAJI4R,IAEA1iB,GADA0iB,EAAaA,EAAW5W,OAAO,IACX1F,MAAM,KAAK,IAE5B,CACHoc,YAAWxiB,WA/BA,EAmCnB2iB,UAAY,SAACC,GACT,EAAKpX,SAAS,CACVqX,aAAcD,IAElB,EAAKra,MAAME,QAAQrH,KAAK,IAAMwhB,IAvCf,EA0CnBE,YAAc,SAAC7nB,GACX,EAAKuQ,SAAS,CACVqX,aAAc5nB,KA5CH,EAgDnB8nB,sBAAwB,SAAC9V,GACrB,EAAKzB,SAAS,CACVsW,WAAY/N,SAAS9G,EAAEC,OAAOjH,OAAS,EAAKtG,MAAMmiB,cAlDvC,EAsDnBD,aAAe,SAAC1jB,GAEZ,IADA,IAAI6kB,EAAQ,GACHC,EAAS,EAAGA,EAAS9kB,EAAO,EAAG8kB,IACpCD,EAAM5hB,KACF,kBAAC8hB,GAAA,EAAWzZ,KAAZ,CAAiBxO,IAAKgoB,EAAQE,OAAQF,IAAW,EAAKtjB,MAAMmiB,YACvDmB,IAIb,EAAKzX,SAAS,CACV4X,UAAWjlB,EACXklB,UAAWL,KAjEA,MAGa,EAAKT,mBAAmBha,GAA9Cia,EAHS,EAGTA,UAAWxiB,EAHF,EAGEA,OAHF,OAIf,EAAKL,MAAQ,CACTkjB,aAAcL,GAAwB,UACtCc,mBAAoB,GACpBxB,WAAY,EACZuB,UAAW,GACXrjB,UATW,E,yFAaOujB,GAAY,IAC5Bf,EAAczZ,KAAKwZ,mBAAmBgB,GAAtCf,UACNzZ,KAAKyC,SAAS,CACVqX,aAAcL,M,+BAqDZ,IAAD,OACL,OACI,6BACI,kBAAC,GAAD,MACA,kBAAC3U,GAAA,EAAD,CAAWlF,UAAU,qBACjB,kBAAC6a,GAAA,EAAI3V,UAAL,CAAexN,GAAG,oBAAoBojB,UAAW1a,KAAKpJ,MAAMkjB,aAAca,SAAU3a,KAAK+Z,aACrF,kBAACxG,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAKG,GAAI,EAAG/T,UAAU,aAClB,kBAACO,GAAA,EAAD,CAAKoB,QAAQ,QAAQ3B,UAAU,eAC3B,kBAACO,GAAA,EAAIO,KAAL,KACI,kBAACP,GAAA,EAAIya,KAAL,CAAUrX,KAAK,WAAW5C,SAAS,WAC/B,kBAAC,KAAD,CAAkBrJ,GAAG,wBAG7B,kBAAC6I,GAAA,EAAIO,KAAL,KACI,kBAACP,GAAA,EAAIya,KAAL,CAAUrX,KAAK,WAAW5C,SAAS,WAC/B,kBAAC,KAAD,CAAkBrJ,GAAG,wBAG7B,kBAAC6I,GAAA,EAAIO,KAAL,KACI,kBAACP,GAAA,EAAIya,KAAL,CAAUrX,KAAK,eAAe5C,SAAS,cAAcC,QAAS,kBAAM,EAAK6B,SAAS,CAAEqX,aAAc,kBAC9F,kBAAC,KAAD,CAAkBxiB,GAAG,8BAKrC,kBAACkc,GAAA,EAAD,CAAKG,GAAI,EAAG/T,UAAU,8BAClB,kBAAC6a,GAAA,EAAII,QAAL,KACI,kBAACJ,GAAA,EAAIK,KAAL,CAAUna,SAAS,WACf,kBAAC,GAAD,OAEJ,kBAAC8Z,GAAA,EAAIK,KAAL,CAAUna,SAAS,WACf,kBAAC,GAAD,CAASiZ,UAAW5Z,KAAK4Z,aAE7B,kBAACa,GAAA,EAAIK,KAAL,CAAUna,SAAS,eACf,kBAAC,GAAD,CAAoBf,UAAU,+BAC1BkZ,aAAc9Y,KAAK8Y,aAAcC,WAAY/Y,KAAKpJ,MAAMmiB,aAExD/Y,KAAKpJ,MAAMyjB,UAAY,GACnB,kBAACvV,GAAA,EAAD,CAAWlF,UAAU,kEACjB,kBAACua,GAAA,EAAD,CAAYvZ,QAASZ,KAAKga,uBAAwBha,KAAKpJ,MAAM0jB,uB,GA9G9FzZ,aAmIJC,gBANS,SAAC,GACrB,MAAO,CACH/I,KAF8B,EAAXA,QAMZ+I,CAAyBC,aAAWwY,K,mECzI7CwB,I,wMAKF/a,KAAKgb,OAAOC,uBAAuBjb,KAAKkb,kBAAkBC,KAAKnb,S,wCAE/CpJ,EAAOwkB,GAEvBpb,KAAKR,MAAM6b,aAAazkB,EAAMuI,e,sCAEf,IAAD,OACda,KAAKsb,SAAWC,aAAY,WAC1B,EAAKC,eACJ,O,qCAIHC,cAAczb,KAAKsb,Y,mCAIftb,KAAKR,MAAM6b,cACbrb,KAAKR,MAAM6b,aAAarb,KAAK0b,MAAMvc,e,+BAI7B,IAAD,OAEP,OACE,6BACE,kBAAC,UAAD,CACE8C,IAAK,SAAC0Z,GAAQ,EAAKX,OAASW,GAC5Bza,IAAKlB,KAAKR,MAAM0B,IAChB0a,UAAQ,EACR5S,MAAO,CAAEgJ,MAAO,SAGhB,kBAAC,iBAAD,CAAe6J,SAAS,WACxB,kBAAC,cAAD,KACE,kBAAC,cAAD,MACA,kBAAC,iBAAD,CAAenmB,QAAS,EAAGomB,MAAO,MAClC,kBAAC,kBAAD,CAAgBpmB,QAAS,EAAGomB,MAAO,MACnC,kBAAC,oBAAD,CAAkBC,UAAQ,IAC1B,kBAAC,0BAAD,CAAwBC,MAAO,CAAC,EAAG,IAAK,EAAG,GAAK,a,GA5ClCnb,cA0D1Bob,eAAYC,UAAY,CAEtBC,OAAQC,KAAUC,QAIpBtB,GAAYuB,aAAe,CACzBjB,aAAc,MAGDN,UCJAwB,GAhEK,SAACC,EAAcC,GAAf,OAClBD,EAAaE,cAAcC,QACzB,WAA0BC,EAAW5nB,GAAW,IAA7C0nB,EAA4C,EAA5CA,cAAexf,EAA6B,EAA7BA,KAEhB,IAAKwf,EAAcxlB,UAAW,CAC5B,IAAM2lB,EAAoBH,EAAcI,OAExC,IAAID,EAAkBE,OA4BpB,MCxCsB,qBDwClBN,EAAaO,UAAUJ,EAAUG,QAAQjmB,KAEpC,CACL4lB,cAAeA,EACZ1e,KAAK,EAAGif,qBAAkBC,YACzBL,EACAH,EAActgB,KAAK,GAAG2gB,SAEvB1kB,KAAKukB,GACR1f,KAAMA,EAAOsf,EAAatf,KAAKlI,IAI5B,CACL0nB,cAAeA,EACZ1e,KAAK,EAAGif,qBAAkBC,YAAYL,EAAmBD,EAAUG,SACnE1kB,KAAKukB,GACR1f,KAAMA,EAAOsf,EAAatf,KAAKlI,IA3CjC,GAAI4nB,EAAUG,OAAQ,CACpB,IAAMA,EAASN,EAAaO,UAAUJ,EAAUG,QAC1CI,EAAiBV,EAAaO,UAAUH,EAAkBE,QAEhE,GAAIA,EAAOjmB,OAASqmB,EAAermB,MAAQimB,IAAWI,EAGpD,OADAV,EAAaW,gBAAgBP,EAAkBE,OAAQ,CAAEM,IAAKN,EAAOxkB,KAAK8kB,MACnE,CACLX,cAAeA,EAAcrkB,KAAK4kB,qBAAkBC,YAClDN,EACAC,EAAkBE,SAEpB7f,KAAMA,EAAOsf,EAAatf,KAAKlI,IAE5B,GC5Ba,qBD6BlB+nB,EAAOjmB,MC7BW,qBD8BlBqmB,EAAermB,KAEf,MAAO,CACL4lB,gBACAxf,SA2BV,MAAO,CACLwf,cAAeA,EAAcrkB,KAAKukB,GAClC1f,KAAMA,EAAOsf,EAAatf,KAAKlI,MAGnC,CAAE0nB,cAAe,IAAIY,KAAUC,KAAQrgB,KAAM,M,8BExD3CsgB,I,qNACF5mB,MAAQ,CACJ6mB,cAAU1V,EACV2V,WAAY,GACZnZ,MAAM,EACNoZ,UAAU,G,EAGd1b,IAAM,K,EAWN2b,OAAS,SAAC1Z,EAAG2Z,GAET,GAAc,UAAV3Z,EAAEhS,KAAoB2rB,EAA1B,CAFuB,IAMfH,EAAe,EAAK9mB,MAApB8mB,WACJA,IAAe,EAAK9mB,MAAM6mB,SAAS3O,SAAS4O,KAC5C,EAAKjb,SAAS,CACVib,WAAY,KAEhB,EAAKle,MAAMse,cAAcJ,SARzBtjB,QAAQC,IAAI,c,EAYpB0jB,iBAAmB,SAAC7Z,EAAGlP,GAAW,IACxByoB,EAAa,EAAK7mB,MAAlB6mB,SACNA,EAAWA,EAAS1jB,OAAO/E,GAAO,SAACgpB,GAC/B,OAAOA,EAAKhgB,IAAI,OAAQkG,EAAEC,OAAOhS,UAErC,EAAKsQ,SAAS,CACVgb,WACAE,UAAU,K,EAIlBM,YAAc,SAAC/Z,EAAGlP,GACd,GAAc,UAAVkP,EAAEhS,IAGF,OAFA,EAAKsN,MAAM0e,YAAYha,EAAEC,OAAOhS,MAAO6C,QACvC,EAAKwK,MAAMH,sBAAsB,I,EAKzC8e,WAAa,SAACC,EAAYC,GACtB,EAAK7e,MAAM2e,WAAWC,EAAYC,GAClC,EAAK7e,MAAMH,sBAAsB,I,2FA7CXmb,GAClBA,EAAU8D,aACVte,KAAKyC,SAAS,CACVgb,SAAUjD,EAAU8D,YACpBX,UAAU,M,+BA4CZ,IAAD,SACoE3d,KAAKR,MAAxE+e,EADD,EACCA,YAAavpB,EADd,EACcA,MAAOwpB,EADrB,EACqBA,QAASF,EAD9B,EAC8BA,YAAajf,EAD3C,EAC2CA,qBAD3C,EAE0BW,KAAKpJ,MAA5B6mB,EAFH,EAEGA,SAAUE,EAFb,EAEaA,SACda,GAAWF,EAAYG,OAAO3qB,SAC9B0qB,EAAU,GAEd,IAAIE,EAAcJ,EAAYG,OAAOD,GAAS3b,KAO9C,OANK6b,IACDA,EAAc,KAEdA,EAAY5qB,OAAS,IACrB4qB,EAAcA,EAAYpL,UAAU,EAAG,IAEvCiL,IAAgBvpB,EAEZ,6BACI,kBAACuQ,GAAA,EAAD,CAAQhE,QAAQ,UAAU3B,UAAU,aAAaqC,IAAK,SAAA0Z,GAAC,OAAI,EAAKgD,UAAYhD,GAAG/a,QAAS,kBAAMvB,GAAsB,KAC/Gqf,EAAY9J,eAEjB,kBAACgK,GAAA,EAAD,CAASza,OAAQnE,KAAK2e,UAAWpa,MAAM,EAAMsa,UAAU,QAAQC,WAAW,EAAMta,OAAS,kBAAMnF,GAAsB,KACjH,6BACI,kBAAC0f,GAAA,EAAD,CAASznB,GAAG,iBACR,kBAACynB,GAAA,EAAQC,MAAT,CAAe/Z,GAAG,MACd,kBAACM,GAAA,EAAD,CAAQhE,QAAQ,UACZ3B,UAAU,6BACVgB,QAAS,kBAAM,EAAKgd,OAAO5oB,GAAO,KAFtC,KAKA,2BACIsC,GAAI,aACJR,KAAK,OACL8I,UAAU,gBACVqf,iBAAiB,EACjB7Z,SAAU,SAAClB,GAAD,OAAO,EAAKzB,SAAS,CAAEib,WAAYxZ,EAAEC,OAAOhS,SACtD+sB,UAAWlf,KAAK4d,OAChBzrB,MAAO6N,KAAKpJ,MAAM8mB,WAClBxN,YAAalQ,KAAKR,MAAM6E,KAAKD,cAAc,CAAE9M,GAAI,4BAGzD,kBAACynB,GAAA,EAAQlE,QAAT,KACI,kBAACsE,GAAA,EAAD,KACKb,EAAYzlB,KAAI,SAAC2lB,EAASH,GACvB,IAAIK,EAAcF,EAAQpiB,IAAI,QAM9B,OALKsiB,IACDA,EAAc,KAEdA,EAAY5qB,OAAS,IACrB4qB,EAAcA,EAAYpL,UAAU,EAAG,IAEvC,kBAAC6L,GAAA,EAAUze,KAAX,CAAgBxO,IAAKmsB,GACjB,yBAAKze,UAAU,aACX,kBAAC2F,GAAA,EAAD,CAAQhE,QAAQ,UAAU3B,UAAU,gDAAgDgB,QAAS,kBAAM,EAAKud,WAAWnpB,EAAOqpB,KACrHK,EAAY9J,eAEjB,2BACItd,GAAI+mB,EACJze,UAA4B,IAAjBye,EAAqB,mBAAoB,gBACpDvnB,KAAK,OACLoZ,YAAa,aACb7C,SAA2B,IAAjBgR,EACVa,UAAW,SAAChb,GAAD,OAAO,EAAK+Z,YAAY/Z,EAAGma,IACtCjZ,SAAU,SAAClB,GAAD,OAAO,EAAK6Z,iBAAiB7Z,EAAGma,IAC1ClsB,MAAOwrB,EAAWF,EAASgB,OAAOJ,GAAcxb,KAAO2b,EAAQpiB,IAAI,qBAiBnH,6BACI,kBAACmJ,GAAA,EAAD,CAAQhE,QAAQ,UAAU3B,UAAU,aAAaqC,IAAK,SAAA0Z,GAAC,OAAI,EAAKgD,UAAYhD,GAAG/a,QAAS,kBAAMvB,EAAqBrK,KAC9G0pB,EAAY9J,oB,GA3IR/T,cAwJVC,gBANS,SAAC,GACrB,MAAQ,CACJyd,YAF4C,EAAzBrlB,mBAEalE,SAIA,CAAEqK,yBAA3ByB,CAAmD8E,aAAW4X,KChH9D4B,GA3Ce,SAAC5f,GAAW,IAChC6f,EAAmB1B,oBAAS,GAA5B0B,eAIF3C,EAAgBld,EAAM8f,MAAMC,mBAC5B9C,EAAejd,EAAMid,aACvB+C,EAAQ,EAEZ,OAAI9C,GAAiBA,EAAc+C,SACjCD,EAAQ/C,EAAaO,UAAUN,EAAc+C,QAAQ1C,QAAQxkB,KAAKinB,MAMlE,yBAAK5f,UAAU,+BACb,yBAAKA,UAAU,4BAA4Bqf,iBAAiB,GAC1D,kBAAC,GAAD,CACEjqB,MAAOwK,EAAM8f,MAAMljB,IAAI,OACvBijB,eAAgBA,EAChBb,QAAShf,EAAM8f,MAAM/mB,KAAK6D,IAAI,WAC9BkiB,YAAa9e,EAAMkgB,WAAWjC,SAC9BS,YAAa1e,EAAMkgB,WAAWxB,YAC9BJ,cAAete,EAAMkgB,WAAW5B,cAChCK,WAAY3e,EAAMkgB,WAAWvB,aAE/B,yBAAKc,iBAAiB,GAAQloB,EAAMd,WAAWupB,KAEjD,yBAAK5f,UAAU,0BACb,kBAAC,eAAgBJ,MAlBd,+BCTLmgB,G,YACJ,WAAYngB,GAAQ,IAAD,+BACjB,8CAAMA,KAED4F,SAAW,EAAKA,SAAS+V,KAAd,iBAChB,EAAKyE,kBAAoB,EAAKA,kBAAkBzE,KAAvB,iBACzB,EAAK0E,aAAe,EAAKA,aAAa1E,KAAlB,iBACpB,EAAK2E,cAAgB,EAAKA,cAAc3E,KAAnB,iBACrB,EAAK4E,oBAAsB,EAAKA,oBAAoB5E,KAAzB,iBAPV,E,wEAUV6E,GACP,IAAIhgB,KAAKR,MAAM6N,SAAf,CAIA,IAAM4S,EAAsBjgB,KAAKR,MAAMwgB,YACjCE,EAAiBF,EAAYG,oBAE7BC,EAAiBJ,EAAYK,eAC7BC,EAAyBL,EAAoBI,eAE/C5D,EAAeuD,EAAYO,oBAM/B,GAJIvgB,KAAKR,MAAMghB,mBAAqBJ,IAAmBE,GACrDtgB,KAAKygB,oBAAoBhE,EAAc2D,GAGlB,SAAnBF,GAA6BzD,IAAiBwD,EAAoBM,oBAAqB,CACzF,IAAMG,EAAWN,EAAeO,cAC1BC,EAAmBN,EAAuBK,cAE1CE,EAAWpE,EAAaqE,cAExBC,EAAcF,EAASlE,QAAO,SAACqE,EAAcxE,EAAcyE,GAC/D,IAAIC,EAAkB1E,EAGtB,GAAIyE,IAAaP,EAAU,CAEzB,GAAIQ,EAAgBxE,cAAcxlB,UAEhC,OAAO8pB,EAGT,IAAMG,EAAcf,EAAegB,iBAE/BP,EAASzrB,KAAO6qB,EAAoBM,oBAAoBO,cAAc1rB,MHxDrD,oBG2DjBqnB,EAAaO,UAAUkE,EAAgBxE,cAActgB,IAAI+kB,GAAapE,QAAQjmB,MH3D7D,oBG6DjB2lB,EAAaO,UAAUkE,EAAgBxE,cAActgB,IAAI+kB,EAAc,GAAGpE,QACvEjmB,OAGHoqB,EAAkBA,EACfljB,IACC,gBACAkjB,EAAgBxE,cAAc2E,OAC5BF,EACAlE,qBAAkBC,YAChBD,qBAAkBqE,UAEhB7E,EAAeA,EAAa8E,aAC1B,mBACA,YACA,OAEkBC,6BAK3BxjB,IACC,OACA,UAAGkjB,EAAgBhkB,KAAKhI,MAAM,EAAGisB,IAAjC,WACID,EAAgBhkB,KAAKhI,MAAMisB,MAMvCD,EAAkBA,EAAgB1oB,MAAM+jB,GAAY2E,EAAiBzE,IH7F/C,qBGiGpBA,EAAaO,UAAUkE,EAAgBxE,cAAc+C,QAAQ1C,QAAQjmB,OAIrEoqB,EAAkBA,EACfljB,IAAI,gBAAiBkjB,EAAgBxE,cAAc+E,SACnDzjB,IAAI,OAAQkjB,EAAgBhkB,KAAKoW,UAAU,KAI5C4N,EAAgB3oB,KAAKrB,YAEvBgqB,EAAkBA,EAAgBljB,IAAI,OAAQgjB,EAAalE,OAAOvkB,YAG3D0oB,IAAaL,GHhHA,qBGmHpBnE,EAAaO,UAAUkE,EAAgBxE,cAAcI,OAAOC,QAAQjmB,OAIpEoqB,EAAkBA,EACfljB,IAAI,gBAAiBkjB,EAAgBxE,cAAcgF,OACnD1jB,IAAI,OAAQkjB,EAAgBhkB,KAAKoW,UAAU,EAAG4N,EAAgBhkB,KAAKpJ,OAAS,KAInF,OAAOktB,EAAahjB,IAAIijB,EAAUC,KACjC,IAAI5D,KAAUqE,YAQjB,OANAlF,EAAeA,EAAaze,IAAI,WAAY+iB,QAE5C/gB,KAAKR,MAAM4F,SAAS,CAClB4a,YAAa4B,eAAYvpB,KAAK4nB,EAAqBxD,EAAcyD,GACjEzC,SAAUzd,KAAKR,MAAMie,WAIzBzd,KAAKR,MAAM4F,SAAS,CAClB4a,cACAvC,SAAUzd,KAAKR,MAAMie,c,wCAIPoE,GAEhB,GAAc,MAAVA,EAAe,CAAC,IACV7B,EAAgBhgB,KAAKR,MAArBwgB,YACFvD,EAAeuD,EAAYO,oBAC3BH,EAAiBJ,EAAYK,eAC7BK,EAAWN,EAAeO,cAC1BQ,EAAcf,EAAegB,iBAE7BU,EADgB9B,EAAYO,oBAAoBwB,eAAerB,GAC/BsB,YAAYb,EAAc,GAChE,GAAIW,GHxJsB,qBGwJHrF,EAAaO,UAAU8E,GAAiBhrB,KAC7D,OAAO,EAGX,OAAO,I,0CAGWoN,GAClB,OAAI+d,gCAAqB/d,GAChB+d,gCAAqB/d,IAE1BlE,KAAKR,MAAM0iB,iBACbliB,KAAKR,MAAM0iB,gBAAgBhe,GAEtB,Q,oCAGKrL,GACZ,MAAO,CACLspB,UAAW/C,GACX5f,MAAO,CACLie,SAAUzd,KAAKR,MAAMie,SACrB2E,aAAcpiB,KAAKR,MAAM4iB,aACzBptB,MAAO6D,EAAI3G,IACX4rB,cAAe9d,KAAKR,MAAMse,cAC1BI,YAAale,KAAKR,MAAM0e,YACxBC,WAAYne,KAAKR,MAAM2e,e,8BAM3Bne,KAAKqiB,OAAOpW,U,0CAGMwQ,EAAc2D,GAChC,IAAMM,EAAWN,EAAekC,WAAalC,EAAemC,SAAWnC,EAAeoC,UAChFrB,EAAcf,EAAekC,WAC/BlC,EAAeqC,YACfrC,EAAesC,aACbC,EAASvC,EAAekC,WAAalC,EAAeoC,UAAYpC,EAAemC,SAC/EK,EAAYxC,EAAekC,WAC7BlC,EAAesC,aACftC,EAAeqC,YAEbI,EAAiBpG,EAAasF,eAAerB,GAAUsB,YAAYb,GACnE2B,EAAerG,EAAasF,eAAeY,GAAQX,YAAYY,GAE/DG,EAAcF,GAAkBpG,EAAaO,UAAU6F,GACvDG,EAAYF,GAAgBrG,EAAaO,UAAU8F,GAEzD9iB,KAAKR,MAAMghB,kBAAkB,CAC3ByC,UAAWF,GAAeA,EAAYxqB,KAAKinB,MAC3C0D,YAAaH,GAAeA,EAAYxqB,KAAKjB,GAC7C6rB,cAAezC,EACf0C,qBAAsBjC,EACtBkC,QAASL,GAAaA,EAAUzqB,KAAK8kB,IACrCiG,MAAON,GAAaA,EAAUzqB,KAAKjB,GACnCisB,YAAaZ,EACba,mBAAoBZ,M,qCAIR,IACN5C,EAAgBhgB,KAAKR,MAArBwgB,YACFvD,EAAeuD,EAAYO,oBAC3BH,EAAiBJ,EAAYK,eAC7BK,EAAWN,EAAeO,cAC1BQ,EAAcf,EAAegB,iBAC7BqC,EAAgBzD,EAAYO,oBAAoBwB,eAAerB,GAC/DoB,EAAkB2B,EAAczB,YAAYb,EAAc,GAC1DuC,EAAiBD,EAAczB,YAAYb,GACjD,OACGW,GHjOyB,qBGiONrF,EAAaO,UAAU8E,GAAiBhrB,MAC3D4sB,GAAkBjH,EAAaO,UAAU0G,GAAgB5sB,MAEnD,I,yCAOT,OAAO,I,+BAGC,IAAD,SAC8BkJ,KAAKR,MAAlCwgB,EADD,EACCA,YAAazB,EADd,EACcA,YACrB,OACE,yBAAK3e,UAAU,qBACb,kBAAC,UAAD,CACEqC,IAAK,SAACogB,GACJ,EAAKA,OAASA,GAEhBrC,YAAaA,EACb5a,SAAUpF,KAAKoF,SACfya,aAAc7f,KAAK6f,aACnBD,kBAAmB5f,KAAK4f,kBACxB+D,aAAc3jB,KAAK+f,oBACnB6D,iBAAkB5jB,KAAK4jB,iBACvBC,gBAAiB7jB,KAAK8f,cACtBjX,YAAW0V,IAAgC,IAAjBA,U,GAnPL1d,aAoQ/B8e,GAAiBrD,aAAe,CAC9B0D,YAAa4B,eAAYkC,cACzBrG,SAAU,IAAIH,KAAUC,KACxBiD,kBAAmB,KACnB0B,gBAAiB,KACjB7U,UAAU,EACV+U,cAAc,GAGhB,IAMethB,gBANS,SAAC,GACvB,MAAQ,CACNyd,YAFgD,EAAzBrlB,mBAESlE,SAII,KAAzB8L,CAA+B6e,ICpQ/BoE,GArBc,SAAC,GAA2C,IAAzCC,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,SACnClH,EADgE,EAAnBN,aACvBO,UAAUgH,GAChCE,EAAW,UAAMnH,EAAOxkB,KAAKinB,MAAMnqB,QAAQ,GAAhC,cAAwC0nB,EAAOxkB,KAAK8kB,IAAIhoB,QAAQ,IACjF,OACE,0BACEgL,MAAO6jB,EACPC,aAAYpH,EAAOxkB,KAAKinB,MACxB4E,WAAUrH,EAAOxkB,KAAK8kB,IACtBzd,UAAU,kCAETqkB,ICDQI,GAVe,SAAC,GAAD,IAAGJ,EAAH,EAAGA,SAAH,OAC5B,0BAAMrkB,UAAU,mCACbqkB,IC2DUK,GAtDe,SAACC,GAC7B,IAAI9H,EAAe,IAAI+H,gBAEjBC,EAAgBF,EAAWnoB,IAAI,YAAYvD,KAAI,SAAC6rB,EAASC,GAAV,OACnD,IAAIC,gBAAa,CACf1yB,IAAKyyB,EAAaE,WAClBnI,cAAegI,EACZtoB,IAAI,SACJvD,KAAI,SAACisB,GAMJ,IAAMd,GALNvH,EAAeA,EAAa8E,aAAa,kBAAmB,UAAW,CACrE/B,MAAOsF,EAAK1oB,IAAI,SAChBihB,IAAKyH,EAAK1oB,IAAI,UAGeolB,0BAE/B,OAAO,IAAIlE,KAAUC,KAAKuH,EACvB1oB,IAAI,QACJiB,MAAM,IACNxE,KAAI,kBAAMokB,qBAAkBC,YAAYD,qBAAkBqE,SAAU0C,UAExEe,UAAU,IAAIzH,KAAUC,KAAK,CAC5BN,qBAAkBC,YAChBD,qBAAkBqE,UAEhB7E,EAAeA,EAAa8E,aAAa,mBAAoB,YAAa,OACtDC,8BAIzBwD,QAAQ,GACX9nB,KAAMwnB,EACHtoB,IAAI,SACJvD,KAAI,SAAAosB,GAAC,OAAIA,EAAE7oB,IAAI,WACf8oB,KAAK,KACR3sB,KAAM,IAAI+kB,KAAU6H,IAAI,CAAE3G,QAASkG,EAAQtoB,IAAI,kBAG7CgkB,EAAiBgF,kBAAetB,YAAYW,EAAchF,QAAQ4F,UAElExE,EAAWyE,mBAAgBC,gBAAgBd,GAEjDhI,EAAeA,EAAajkB,MAAM,CAChCqoB,WACA2E,gBAAiBpF,EACjBqF,eAAgBrF,IAGlB,IAAM3C,EAAW8G,EAAWnoB,IAAI,YAGhC,MAAO,CAAE4jB,YADW4B,eAAY8D,kBAAkBjJ,GAC5BgB,aCrBTkI,GApCa,SAAClJ,EAAcgB,GACzC,IAAMmI,EAAWnJ,EAAaqE,cAAc+E,UAAUhtB,KAAI,SAACymB,GACzD,IAAMwG,EAAQ,GAsBd,OApBAxG,EAAMyG,kBACJ,SAACnJ,GACC,IAAMoH,EAAYpH,EAAUI,YAC5B,OAAkB,OAAdgH,GAGmD,oBAAhDvH,EAAaO,UAAUgH,GAAWgC,aAE3C,SAACxG,EAAOnC,GACN,IAAMN,EAASN,EAAaO,UAAUsC,EAAM0C,YAAYxC,IAClDtiB,EAAOoiB,EAAM2G,UAAU3S,UAAUkM,EAAOnC,GAC9CyI,EAAMztB,KAAK,IAAI6tB,kBAAe,CAC5B1G,MAAOzC,EAAOxkB,KAAKinB,MACnBnC,IAAKN,EAAOxkB,KAAK8kB,IACjB/lB,GAAIylB,EAAOxkB,KAAKjB,GAChB4F,aAKC,IAAIipB,qBAAkB,CAC3BL,MAAO,IAAIxI,KAAUC,KAAKuI,GAC1BtH,QAASc,EAAM/mB,KAAK6D,IAAI,gBAI5B,OAAO,IAAIgqB,cAAW,CACpBR,SAAU,IAAItI,KAAUC,KAAKqI,GAC7BnI,cCRW4I,GA3BO,SAAC9B,GACrB,IAAI+B,EAAU,CAAE7I,SAAU,GAAImI,SAAU,IAExC,GAAIrB,EAAWqB,SAAU,OAAOrB,EAChCnqB,QAAQC,IAAI,aAAckqB,GAE1B,IAAK,IAAIzY,EAAI,EAAGA,EAAIyY,EAAWzwB,OAAQgY,IAAK,CAAC,IAErCga,EADiBvB,EAAWzY,GAA5Bya,aACuB,GAAvBT,MACN,GAAIA,EAAO,CACT,IAAItH,EAAUsH,EAAM,GAAGpI,WACnB8I,EAAWV,EAAMjtB,KAAI,SAACisB,EAAM2B,GAC9B,MAAO,CACLjH,MAAOvjB,WAAW6oB,EAAK7B,UAAUvtB,QAAU,IAAMovB,EAAK7B,UAAUyD,MAAQ,KACxErJ,IAAKphB,WAAW6oB,EAAKzB,QAAQ3tB,QAAU,IAAMovB,EAAKzB,QAAQqD,MAAQ,KAClExpB,KAAM4nB,EAAKA,SAGfwB,EAAQ7I,SAASplB,KAAK,CAAEwK,KAAM,KAC9ByjB,EAAQV,SAASvtB,KAAK,CAAEytB,MAAOU,EAAUhI,aAK7C,OAAO8H,G,SCZMK,GAVsB,SAAC,GAAD,IAAG1C,EAAH,EAAGA,SAAH,OACnC,0BAAMrkB,UAAU,2DACbqkB,ICQU2C,GAVoB,SAAC,GAAD,IAAG3C,EAAH,EAAGA,SAAH,OACjC,0BAAMrkB,UAAU,yDACbqkB,ICsCC4C,IAlCiB,IAAIC,sBAAmB,CAC5C,CACEC,SAAU,SAACvK,EAAcwK,EAAUvK,GACjCD,EAAauJ,kBAAiB,SAACnJ,GAC7B,IAAMoH,EAAYpH,EAAUI,YAC5B,OAAkB,OAAdgH,GXbmB,oBWgBJvH,EAAaO,UAAUgH,GAAWgC,YAEpDgB,IAEL7E,UAAW4B,IAEb,CACEgD,SAAU,SAACvK,EAAcwK,EAAUvK,GACjCD,EAAauJ,kBAAiB,SAACnJ,GAC7B,IAAMoH,EAAYpH,EAAUI,YAC5B,OAAkB,OAAdgH,GX3BoB,qBW8BLvH,EAAaO,UAAUgH,GAAWgC,YAEpDgB,IAEL7E,UAAWkC,M,WAUb,WAAYnuB,GAAO,IAAD,uBAChB8J,KAAK9J,KAAOA,EACZ8J,KAAKinB,YAAL,oBANW,SAOCL,IADZ,eALa,WAOCD,IAFd,G,4DAManK,EAAcC,GAAe,IAAD,OACnCC,EAAgBF,EAAa+C,mBAEnC,IACG7C,EAAc+C,QAAQ1C,QACvBN,EAAaO,UAAUN,EAAcI,OAAOC,QAAQxkB,KAAK8kB,IAAMrd,KAAK9J,KAEpE,OAAO,IAAIonB,KAAUC,KAAK,IAAI2J,MAAMxK,EAActnB,MAAM+xB,KAnB/C,WAsBX,GAAI1K,EAAaO,UAAUN,EAAc+C,QAAQ1C,QAAQxkB,KAAKinB,MAAQxf,KAAK9J,KACzE,OAAO,IAAIonB,KAAUC,KAAK,IAAI2J,MAAMxK,EAActnB,MAAM+xB,KAtB7C,aAyBb,IAAMnyB,EAAQ0nB,EAAc0K,WAAU,SAAAxK,GAAS,OAC7CH,EAAaO,UAAUJ,EAAUG,QAAQxkB,KAAKinB,MAAQ,EAAKtpB,QAE7D,OAAe,IAAXlB,EACK,IAAIsoB,KAAUC,KAAK,IAAI2J,MAAMxK,EAActnB,MAAM+xB,KA9B/C,WAkCJ,IAAI7J,KAAUC,KACnB,IAAI2J,MAAMxK,EAActnB,MAAM+xB,KAnCrB,SAmCkC,EAAGnyB,EAAQ,GAAGmyB,KAlC9C,WAkC6DnyB,EAAQ,M,yCAKjE9C,GACjB,OAAO8N,KAAKinB,WAAW/0B,K,uCAKvB,OAAO,S,MAIEm1B,GAAW,SAACrH,EAAa9pB,GAAd,OACtB0rB,eAAY5jB,IAAIgiB,EAAa,CAAEsH,UAAW,IAAIT,GAAc3wB,MCjF/CypB,MCsEA4H,I,mBAtEb,WAAY/nB,GAAQ,IAAD,+BACjB,8CAAMA,KA0BRgoB,aAAe,YAAgC,IAA7BxH,EAA4B,EAA5BA,YAAavC,EAAe,EAAfA,SAC7B,EAAKhb,SAAS,CACZud,cACAvC,aAEF,EAAKje,MAAMioB,aAAazH,IA7BxB,EAAKppB,MAAQ,CACX0wB,UAAW,WACXI,WAAY,CACVL,SAAU,SAAAM,GAAwB,OAClCN,GAASM,EAA0BnoB,EAAML,gBAP5B,E,4FAYyB,IAAhBA,EAAe,EAAfA,YAC1Ba,KAAKyC,SAAS,CACZilB,WAAY,CACVL,SAAU,SAAAM,GAAwB,OAClCN,GAASM,EAA0BxoB,S,0CAMnCrM,IAAEoE,QAAQ8I,KAAKqiB,SACjBriB,KAAKqiB,OAAOpW,U,+BAyBN,IAAD,OACP,OAAGnZ,IAAEoE,QAAQ8I,KAAKR,MAAMwgB,aAAqB,8BAE3C,6BACM,kBAAC,GAAD,CACE/d,IAAK,SAACogB,GACJ,EAAKA,OAASA,GAGhB5E,SAAUzd,KAAKR,MAAMie,SACrBrY,SAAUpF,KAAKwnB,aACfpF,cAAY,EACZlE,YAAale,KAAKR,MAAM0e,YACxBJ,cAAe9d,KAAKR,MAAMse,cAC1BK,WAAYne,KAAKR,MAAM2e,WACvB6B,YAAahgB,KAAKpJ,MAAM8wB,WAAW1nB,KAAKpJ,MAAM0wB,WAAWtnB,KAAKR,MAAMwgB,oB,GAhEzDnf,c,mBCDnB+mB,I,uMAEkB,IACRC,EAAgB7nB,KAAKR,MAArBqoB,YACR,OAAoB,IAAhBA,EAEI,uBAAGjoB,UAAU,sBAGM,IAAhBioB,EAEH,uBAAGjoB,UAAU,4BACT,kBAAC,KAAD,CAAkBtI,GAAG,+BAGN,IAAhBuwB,EAEH,uBAAGjoB,UAAU,2BACT,kBAAC,KAAD,CAAkBtI,GAAG,+BAGL,IAAjBuwB,EAEH,uBAAGjoB,UAAU,6BACT,kBAAC,KAAD,CAAkBtI,GAAG,iCAGL,IAAjBuwB,EAEH,uBAAGjoB,UAAU,2BACT,kBAAC,KAAD,CAAkBtI,GAAG,mCAH1B,I,+BASD,IAAD,EAC8C0I,KAAKR,MAAhD6E,EADH,EACGA,KAAMwjB,EADT,EACSA,YAAaC,EADtB,EACsBA,oBACnB1jB,EAAkBC,EAAlBD,cACR,OACI,yBAAKxE,UAAU,UACX,kBAACmoB,GAAA,EAAD,CAAgBzwB,GAAG,uBACf+I,MACI,8BACK+D,EAAc,CAAE9M,GAAI,gCAAmC,KACxD,uBAAGsI,UAAU,kBAAb,KACCkoB,GAAuB,kBAACtiB,GAAA,EAAD,CAASpQ,KAAK,KAAKqQ,UAAU,OAAOC,KAAK,aAIzE,kBAACsiB,GAAA,EAAStnB,KAAV,CAAeuE,GAAG,SAASrE,QAASZ,KAAKR,MAAM+C,eAC3C,kBAAC,KAAD,CAAkBjL,GAAG,oCAEzB,kBAAC0wB,GAAA,EAAStnB,KAAV,CAAeuE,GAAG,SAASrE,QAASZ,KAAKR,MAAMmE,gBAC3C,kBAAC,KAAD,CAAkBrM,GAAG,oCAEzB,kBAAC0wB,GAAA,EAAStnB,KAAV,CAAeuE,GAAG,SAASrE,QAASZ,KAAKR,MAAMqE,eAC3C,kBAAC,KAAD,CAAkBvM,GAAG,qCAG7B,kBAACiO,GAAA,EAAD,CAAQ3F,UAAU,cAAcgB,QAASZ,KAAKR,MAAMyoB,OAAQ5a,UAA2B,IAAjBwa,GAAsC,IAAhBA,GAAqC,IAAhBA,GAC5GzjB,EAAc,CAAE9M,GAAI,4BAA+B,KACpD,kBAAC,KAAD,CAAiBmR,KAAMyf,KAAQjf,MAAM,QAAQ7T,KAAK,OACjC,IAAhByyB,GAAqB,kBAACriB,GAAA,EAAD,CAASpQ,KAAK,KAAKqQ,UAAU,OAAOC,KAAK,iB,GA/D9D7E,cAsEL+E,gBAAYgiB,ICrDtBO,G,YACF,WAAY3oB,GAAQ,IAAD,EAGXvI,EAHW,6BACf,8CAAMuI,KA6BV4oB,qBA9BmB,wBA8BI,uBAAA5uB,EAAA,sEACb,EAAK6uB,wBADQ,OAEf,EAAKzxB,MAAM0xB,gBACX7M,cAAc,EAAK7kB,MAAM0xB,gBAE7B7M,cAAc,EAAK8M,gBALA,2CA9BJ,EAsCnBC,0BAA4B,YAA6B,IAA1BzwB,EAAyB,EAAzBA,KAAMU,EAAmB,EAAnBA,aAC7B3F,IAAEoE,QAAQ,EAAKsI,MAAMzH,QAAUjF,IAAEoE,QAAQa,IACzC,EAAKyH,MAAM1B,QAAQ,EAAKlH,MAAMK,QAE9BnE,IAAEoE,QAAQ,EAAKsI,MAAM/G,gBAAkB3F,IAAEoE,QAAQuB,IACjD,EAAKgwB,uBAAuBhwB,IA3CjB,EA+CnBgwB,uBA/CmB,yCA+CM,WAAOhwB,GAAP,gCAAAe,EAAA,yDACjBgJ,EADiB,gBAEhB/J,IACDA,EAAe,EAAK+G,MAAM/G,cAGxB6vB,EAAmB,EAAK1xB,MAAxB0xB,eACN,EAAK9oB,MAAMJ,WAAU,GACrBqc,cAAc6M,GACTx1B,IAAEoE,QAAQuB,IAAyC,SAAxBA,EAAa+C,OATxB,wBAUjB,EAAKiH,SAAS,CACVC,aAAa,IAXA,SAaIxP,EAASuD,YAAYC,cAAc,yBAAnCxD,CAA6D,CAC9E+D,OAAQwB,EAAanB,KAdR,gBAaXiB,EAbW,EAaXA,KAGN6B,QAAQC,IAAI,cAAgB9B,GACxB2G,EAAa3G,EAAKA,KAjBL,EAkBeiK,EAAKkmB,oBAAoBxpB,GAAnD8gB,EAlBW,EAkBXA,YAAavC,EAlBF,EAkBEA,SACnBA,EAAW,EAAKkL,oBAAoBlL,GACpCjb,EAAKC,SAAS,CACVvD,aACA8gB,cACAvC,WACA/a,aAAa,EACbkmB,QAASrwB,EAAKqwB,QACdC,cAAetwB,EAAKswB,cACpBprB,gBAAiBlF,EAAKkF,kBA3BT,wBA8BjB,EAAKgF,SAAS,CACVvD,WAAY,KACZ8gB,YAAa,KACbvC,SAAU,KACVqL,eAAgB,GAChBR,oBAAgBvgB,EAChBrF,aAAa,IApCA,QAwCjBsF,EAAUvP,EAAamO,cAAgBnO,EAAamO,aAAaG,IAAMtO,EAAamO,aAAaG,IAAM,GACvGtO,EAAaswB,YACH71B,EAAS8O,UAAUC,IAAIxJ,EAAaswB,YAAY5mB,UACtDC,iBAAiB/F,MAAK,SAACgG,GACvBC,KAAMlG,IAAIiG,GACLhG,MAAK,SAAC0K,GACHiB,EAAUjB,EAAIoB,OAAOpB,IACrBvE,EAAKC,SAAS,CACVuF,kBAIX1L,OAAM,SAAA5B,GAEHN,QAAQC,IAAIK,GACZ,EAAK+H,SAAS,CACVuF,eAIZ,EAAKvF,SAAS,CACVuF,YA7Da,4CA/CN,wDAiInB0gB,oBAAsB,SAACnwB,GACnB,GAAIA,EAAM,CACN,IAAMywB,EAAkB3C,GAAc9tB,GAChCgsB,EAAa6B,cAAW6C,SAASD,GACvC,OAAO1E,GAAsBC,GAEjC,MAAO,IAvIQ,EAyJnBnU,aAAe,SAAAlM,GAAM,IACTG,EAAS,EAAK7E,MAAd6E,KACRH,EAAEqD,iBACF,IAAI8I,EAAUhM,EAAKD,cAAc,CAAE9M,GAAI,wBAEvC,OADA4M,EAAEoM,YAAcD,EACTA,GA9JQ,EAiKnBgY,sBAjKmB,wBAiKK,6CAAA7uB,EAAA,2DAC0B,EAAK5C,MAA3CopB,EADY,EACZA,YAAakJ,EADD,EACCA,QAASrB,EADV,EACUA,YACtBpvB,EAAiB,EAAK+G,MAAtB/G,aACR2B,QAAQC,IAAI,gCACPvH,IAAEoE,QAAQ8oB,IAAiBkJ,IAA4B,IAAjBrB,EAJvB,wBAKhB,EAAKplB,SAAS,CAAEolB,YAAa,IACzB9lB,EAAa7O,EAAS8O,UAAUC,IAAIxJ,EAAayJ,gBAAgBC,UACjE3H,EAActH,EAASqE,OAAOiD,YAClCtH,EAASiG,YAAY6B,WAAW,aAAatB,IAAIc,EAAYf,KAAKuB,WAAW,SAAStB,IAAIjB,EAAanB,IAAIyC,OAAO,CAAEovB,SAAU,IAAI1zB,OAE5H8uB,EAAaoB,GACf,EAAK/uB,MAAMopB,YAAYO,oBACvB,EAAK3pB,MAAM6mB,UAET2L,EAAO,IAAIC,KAAK,CAACC,KAAKC,UAAUhF,EAAWiF,SAAU,KAAM,IAAK,CAClE1yB,KAAM,mCAfM,UAiBViL,EAAWoE,IAAIijB,GAChB/sB,MAAK,SAAAzC,GACF,EAAK6I,SAAS,CAAEymB,SAAS,EAAMrB,YAAa,IAC5C,EAAK4B,sBAERntB,OAAM,SAAA5B,GAEH,EAAK+H,SAAS,CAAEolB,aAAc,IAC9B,EAAK4B,mBACLrvB,QAAQC,IAAIK,MA1BJ,4CAjKL,EAgMnB+uB,iBAAmB,WACfjZ,YAAW,WACP,EAAK/N,SAAS,CACVolB,YAAa,MAElB,OArMY,EAwMnBtlB,cAxMmB,wBAwMH,6BAAA/I,EAAA,6DACZ,EAAKiJ,SAAS,CAAEqlB,qBAAqB,IADzB,SAGN,EAAKO,wBAHC,OAIJ5vB,EAAiB,EAAK+G,MAAtB/G,aAESvF,EAASuD,YAAYC,cAAc,aACpDiM,CAAW,CACP1L,OAAQwB,EAAanB,KACtB+E,MAAK,YAAe,IAAZ9D,EAAW,EAAXA,KACHwJ,EAAa7O,EAAS8O,UAAUC,IAAI1J,EAAK4J,UACzCS,EAAWnK,EAAaoK,KAAKC,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,KAAM,KACnFF,EAAWA,EAASG,OAAO,EAAGH,EAAS3N,YAAY,MAAQ,OAC3D,IAAI+N,EAAc,CACdC,mBAAmB,uBAAD,OAAyBL,IAE/Cb,EAAWmB,eAAeF,GACrB3G,MAAK,SAAC8G,GACHpB,EAAWK,iBAAiB/F,MAAK,SAACgG,GAC9B,IAAMe,EAAUC,SAASC,cAAc,KACvCF,EAAQG,KAAOlB,EACfe,EAAQI,QACR,EAAKf,SAAS,CAAEqlB,qBAAqB,aAGlDxrB,OAAM,SAACoH,GAENtJ,QAAQC,IAAIqJ,MA3BJ,2CAxMG,EAuOnBC,eAvOmB,wBAuOF,6BAAAnK,EAAA,6DACb,EAAKiJ,SAAS,CAAEqlB,qBAAqB,IADxB,SAGP,EAAKO,wBAHE,OAKP5vB,EAAiB,EAAK+G,MAAtB/G,aAEYvF,EAASuD,YAAYC,cAAc,cACrDkN,CAAY,CACR3M,OAAQwB,EAAanB,KAEpB+E,MAAK,YAAe,IAAZ9D,EAAW,EAAXA,KACDwJ,EAAa7O,EAAS8O,UAAUC,IAAI1J,EAAK4J,UACzCS,EAAWnK,EAAaoK,KAAKC,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,KAAM,KACnFF,EAAWA,EAASG,OAAO,EAAGH,EAAS3N,YAAY,MAAQ,QAC3D,IAAI+N,EAAc,CACdC,mBAAmB,uBAAD,OAAyBL,IAE/Cb,EAAWmB,eAAeF,GACrB3G,MAAK,WACF0F,EAAWK,iBAAiB/F,MAAK,SAACgG,GAC9B,IAAMe,EAAUC,SAASC,cAAc,KACvCF,EAAQG,KAAOlB,EACfe,EAAQI,QACR,EAAKf,SAAS,CAAEqlB,qBAAqB,aAGlDxrB,OAAM,SAACoH,GAENtJ,QAAQC,IAAIqJ,MA7BP,2CAvOE,EAwQnBG,cAxQmB,wBAwQH,6BAAArK,EAAA,sEACN,EAAK6uB,wBADC,OAGN5vB,EAAiB,EAAK+G,MAAtB/G,aACN,EAAKgK,SAAS,CAAEqlB,qBAAqB,IAEpB50B,EAASuD,YAAYC,cAAc,aACpDoN,CAAW,CACP7M,OAAQwB,EAAanB,KAEpB+E,MAAK,YAAe,IAAZ9D,EAAW,EAAXA,KACDwJ,EAAa7O,EAAS8O,UAAUC,IAAI1J,EAAK4J,UACzCS,EAAWnK,EAAaoK,KAAKC,QAAQ,KAAM,IAAIA,QAAQ,KAAM,IAAIA,QAAQ,KAAM,KACnFF,EAAWA,EAASG,OAAO,EAAGH,EAAS3N,YAAY,MAAQ,OAC3D,IAAI+N,EAAc,CACdC,mBAAmB,uBAAD,OAAyBL,IAE/Cb,EAAWmB,eAAeF,GACrB3G,MAAK,WACF0F,EAAWK,iBAAiB/F,MAAK,SAACgG,GAC9B,IAAMe,EAAUC,SAASC,cAAc,KACvCF,EAAQG,KAAOlB,EACfe,EAAQI,QACR,EAAKf,SAAS,CAAEqlB,qBAAqB,aAGlDxrB,OAAM,SAACoH,GAENtJ,QAAQC,IAAIqJ,MA5BR,2CAxQG,EAwSnBgmB,kBAAoB,WAChB,EAAKjnB,SAAS,CACVymB,SAAS,EACTrB,aAAc,KA3SH,EA+SnB8B,iBAAmB,SAACzzB,GAChB,EAAKuM,SAAS,CAAEtD,YAAajJ,KAhTd,EAmTnBuxB,aAAe,SAACzH,GACR,EAAKppB,MAAMopB,cAAgBA,GAC3B,EAAKvd,SAAS,CACVud,cACAkJ,SAAS,EACTrB,aAAc,KAxTP,EA6TnB3J,YAAc,SAAC0L,EAAY50B,GAAW,IAC5ByoB,EAAa,EAAK7mB,MAAlB6mB,SACNA,EAAWA,EAAS1jB,OAAO/E,GAAO,SAACgpB,GAC/B,OAAOA,EAAKhgB,IAAI,OAAQ4rB,MAE5BnM,EAAW,EAAKkL,oBAAoBlL,GACpC,EAAKhb,SAAS,CACVgb,cApUW,EAwUnBK,cAAgB,SAAC8L,GAAgB,IACvBnM,EAAa,EAAK7mB,MAAlB6mB,SACFoM,EAAepM,EAASgB,OAC5BoL,EAAaA,EAAa/1B,QAAU,CAAE+O,KAAM+mB,GAC5CnM,EAAWqM,kBAAOD,GAClB,EAAKpnB,SAAS,CACVgb,cA9UW,EAkVnBU,WAAa,SAACC,EAAYC,GACtB,IAAI5B,EAAe,EAAK7lB,MAAMopB,YAAYO,oBACtCwJ,EAAmBC,wBAAavN,GAC/BsN,EAAiBE,OAAO7L,KACzB2L,EAAiBE,OAAO7L,GAAc,IACrC2L,EAAiBE,OAAO7L,GAAY7lB,OACrCwxB,EAAiBE,OAAO7L,GAAY7lB,KAAO,IAC/CwxB,EAAiBE,OAAO7L,GAAY7lB,KAAKimB,QAAUH,EACnD5B,EAAeyN,0BAAeH,GAC9B,EAAKtnB,SAAS,CACVud,YAAa4B,eAAY8D,kBAAkBjJ,MA5VhC,EAgWnBlO,YAAc,WAAO,IAAD,EACoB,EAAK3X,MAAjCK,EADQ,EACRA,OAAQwG,EADA,EACAA,gBAEhB,EAAK+B,MAAMhC,mBAAmBvG,EAAQwG,GACtC,EAAK+B,MAAME,QAAQrH,KAAnB,+BAAgDpB,KApWjC,EAuWnBkzB,cAAgB,WAAO,IACXpyB,EAAS,EAAKyH,MAAdzH,KADU,EAEkB,EAAKnB,MAAjCK,EAFU,EAEVA,OAAQwG,EAFE,EAEFA,gBAChB,EAAKgF,SAAS,CACV2nB,0BAA0B,IAEPl3B,EAASuD,YAAYC,cAAc,gBAC1D2zB,CAAiB,CACb5wB,IAAK1B,EAAK0B,IACVxC,SACAqzB,gBAAiB7sB,IAClBpB,MAAK,YACS,YADK,EAAX9D,OAEH,EAAKkK,SAAS,CACV2nB,0BAA0B,IAE9B,EAAK3B,8BAnXTjpB,EAAMlL,UAAYkL,EAAMlL,SAASC,WACjC0C,EAASuI,EAAMlL,SAASC,SAASwO,OAAO,SAASjP,SAGjDhB,IAAEoE,QAAQD,IACVuI,EAAME,QAAQrH,KAAK,cAGvB,EAAKzB,MAAQ,CACTsI,WAAY,KACZ8gB,YAAa,KACbvC,SAAU,KACV8M,WAAY,GACZjC,oBAAgBvgB,EAChB9Q,SACA4wB,YAAa,EACblX,iBAAiB,EACjBxR,YAAa,EACbirB,0BAA0B,GAtBf,E,mFA2BfpqB,KAAKuoB,eAAiBhN,YAAYvb,KAAKqoB,sBAAuB,O,0CAsF9C5K,GAChB,IAAI+M,EAAW/M,EAASgB,OAAOvP,QAAO,SAAUsP,GAC5C,MAAwB,KAAjBA,EAAQ3b,QAWnB,OANwB,IAApB2nB,EAAS12B,OACT02B,EAASnyB,KAAK,CAAEwK,KAAM,KAEG,KAArB2nB,EAAS,GAAG3nB,MACZ2nB,EAASC,QAAQ,CAAE5nB,KAAM,KAE1BinB,kBAAOU,K,2CAYI,IACV3C,EAAgB7nB,KAAKpJ,MAArBixB,aACH7nB,KAAKpJ,MAAM+Z,iBAAmBkX,EAAc,GAC7C7nB,KAAKyC,SAAS,CACVkO,iBAAiB,IAErBtc,OAAOwc,iBAAiB,eAAgB7Q,KAAKoQ,eACtCpQ,KAAKpJ,MAAM+Z,iBAAmBkX,GAAe,IACpD7nB,KAAKyC,SAAS,CACVkO,iBAAiB,IAErBtc,OAAOuc,oBAAoB,eAAgB5Q,KAAKoQ,iB,+BAuO9C,IAAD,EAC8BpQ,KAAKR,MAAlC/G,EADD,EACCA,aAAc4L,EADf,EACeA,KAAMtM,EADrB,EACqBA,KADrB,EAEkIiI,KAAKpJ,MAApIsI,EAFH,EAEGA,WAAY8gB,EAFf,EAEeA,YAAavC,EAF5B,EAE4BA,SAAUzV,EAFtC,EAEsCA,QAAS7I,EAF/C,EAE+CA,YAAaypB,EAF5D,EAE4DA,QAASC,EAFrE,EAEqEA,cAAeprB,EAFpF,EAEoFA,gBAAiB2sB,EAFrG,EAEqGA,yBACtGt3B,IAAEoE,QAAQuB,KAAeA,EAAe,IAC5C,IAAIqH,EAAmB/H,GAAQA,EAAKgI,YAAchI,EAAKgI,YAAYD,iBAAmB,EAClF4qB,GAAkB,GAAMjtB,GAAiBpI,QAAQ,GACrD,OACI,6BACI,kBAAC,GAAD,MACA,yBAAKuK,UAAU,2BAEPI,KAAKpJ,MAAM8L,aACX,yBAAK9C,UAAU,sCACX,yBAAKA,UAAU,iBAAiB8F,KAAK,UACjC,0BAAM9F,UAAU,WAAhB,iBAKPI,KAAKpJ,MAAM8L,aACR,yBAAK9C,UAAU,+BACX,6BACI,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,qBACX,0BAAMA,UAAU,mBAAmBS,MAAO5H,EAAaoK,MAAOpK,EAAaoK,MAC3E,kBAAC,GAAD,CAEI3B,IAAK8G,EACLqT,aAAcrb,KAAK2pB,oBAGlB3pB,KAAKpJ,MAAM8L,cAAgB5P,IAAEoE,QAAQgI,IACtC,kBAAC,GAAD,CACIyE,eAAgB3D,KAAK2D,eACrBpB,cAAevC,KAAKuC,cACpBsB,cAAe7D,KAAK6D,cACpBokB,OAAQjoB,KAAKqoB,sBACbR,YAAa7nB,KAAKpJ,MAAMixB,YACxB8C,SAAUlyB,EAAayO,QAAUzO,EAAayO,QAAQpQ,KAAO,GAC7DgxB,oBAAqB9nB,KAAKpJ,MAAMkxB,sBAIpCc,GAEI,yBAAKhpB,UAAU,6BAEPE,GAAoBrC,EAChB,6BACI,kBAAC,KAAD,CAAkBnG,GAAG,oCAAoCuI,OAAQ,CAAEgpB,gBAAeprB,qBAClF,6BACA,kBAAC8H,GAAA,EAAD,CAAQ3E,QAASZ,KAAKmqB,eAClB,kBAAC,KAAD,CAAkB7yB,GAAG,yBAEjB8yB,GACI,kBAAC5kB,GAAA,EAAD,CAASC,UAAU,OAAOC,KAAK,SAAStQ,KAAK,SAM7D,6BACI,kBAAC,KAAD,CAAkBkC,GAAG,+BAA+BuI,OAAQ,CAAEgpB,gBAAeprB,kBAAiBitB,eAAgB,IAAMA,KACpH,6BACA,kBAACnlB,GAAA,EAAD,CAAQ3E,QAASZ,KAAKuO,aAClB,kBAAC,KAAD,CAAkBjX,GAAG,2BAQrD,yBAAKsI,UAAU,0BACX,kBAAC,GAAD,CACIogB,YAAaA,EACbvC,SAAUA,EACVte,YAAaA,EACbsoB,aAAcznB,KAAKynB,aACnBvJ,YAAale,KAAKke,YAClBJ,cAAe9d,KAAK8d,cACpBK,WAAYne,KAAKme,iBAMrC,kBAAC,IAAMrN,SAAP,KACI,kBAAC,KAAD,CACIC,KAAM/Q,KAAKpJ,MAAM+Z,gBACjBN,QAAShM,EAAKD,cAAc,CAAE9M,GAAI,mC,GAzd5CuJ,aA0enBC,gBAJS,SAAC,GACrB,MAAO,CAAE/I,KADuC,EAAzBA,KACRU,aADiC,EAAnBA,gBAIO,CAAEK,oBAAkBsG,aAAWN,kBAAgBhB,WAASN,uBAAjFsD,CAAuG8E,aAAW7E,aAAWonB,M,UC1ftIyC,I,mBACF,WAAYprB,GAAQ,IAAD,wBACf,8CAAMA,KAqBVqrB,2BAA6B,SAAC14B,GAC1B,EAAKsQ,SAAS,CACV9D,oBAAqBxM,KAxBV,EA4BnB24B,oBAAsB,SAAC34B,GACnB,EAAKsQ,SAAS,CACV7D,aAAczM,KA9BH,EAkCnB44B,qBAAuB,SAAC7mB,GACpB,EAAKzB,SAAS,CACV5D,SAAUqF,EAAEC,OAAOhS,SApCR,EAwCnBqX,cAAgB,WACZ,IAAIhH,EAAI,gBACR,EAAKhD,MAAMhB,eAAe,EAAK5H,OAC/B,EAAK6L,SAAS,CACVuoB,iBAAiB,IAClB,WACCxa,YAAW,WACPhO,EAAKhD,MAAME,QAAQrH,KAAK,OACzB,SAhDQ,EAoDnBsR,aAAe,WACX,EAAKnK,MAAME,QAAQrH,KAAK,MArDT,EAwDnB4U,cAAgB,WACZ,OACI,kBAAC3I,GAAA,EAAD,CAAOC,MAAM,GACT,kBAACD,GAAA,EAAMK,OAAP,qCAGA,kBAACL,GAAA,EAAMO,KAAP,KACI,iFA5DZzK,QAAQC,IAAImF,GACZ,IAAIyrB,EAAWzrB,EAAM0rB,MAAMC,OAAOF,SAClC,GAAGn4B,IAAEoE,QAAQsI,EAAM0rB,MAAMC,SAAWr4B,IAAEoE,QAAQsI,EAAM0rB,MAAMC,OAAOF,UAC7D,EAAKzrB,MAAME,QAAQrH,KAAK,SACrB,CAEH,IAAIqG,GADJusB,EAAWA,EAAS5tB,MAAM,MACJ,GAClBpG,EAASg0B,EAAS,GAEtB,EAAKr0B,MAAQ,CACT+H,oBAAqB,EACrBC,aAAc,EACdC,SAAU,GACVH,SACAzH,UAjBO,S,wEAsEf,OAAGnE,IAAEoE,QAAQ8I,KAAKpJ,OAAe,KAC9BoJ,KAAKpJ,MAAMo0B,gBACHhrB,KAAKiN,gBAGZ,6BACI,kBAAC3I,GAAA,EAAD,CAAOC,MAAM,EAAMnP,KAAK,MACpB,kBAACkP,GAAA,EAAMK,OAAP,KACI,8FAIJ,kBAACL,GAAA,EAAMO,KAAP,KACI,6BACI,kBAAC0O,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAKC,GAAG,KAAR,+DAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAAC,KAAD,CACI2X,YAAY,qBACZC,WAAW,mBACXC,UAAW,EACX1rB,UAAU,gBACV2rB,cAAgBvrB,KAAKpJ,MAAM+H,oBAC3BiC,QAAUZ,KAAK6qB,+BAI3B,6BACA,kBAACtX,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAKC,GAAG,KAAR,+CAGA,kBAACD,GAAA,EAAD,CAAKC,GAAG,KACJ,kBAAC,KAAD,CACI2X,YAAY,qBACZC,WAAW,mBACXC,UAAW,EACX1rB,UAAU,gBACV2rB,cAAgBvrB,KAAKpJ,MAAMgI,aAC3BgC,QAAUZ,KAAK8qB,wBAI3B,6BACA,6BACI,kFACA,kBAAC/lB,GAAA,EAAKC,QAAN,CACIG,UAAQ,EACRrO,KAAK,OACLmO,GAAG,WACHumB,KAAK,IACLr5B,MAAO6N,KAAKpJ,MAAMiI,UAAY,GAC9BuG,SAAWpF,KAAK+qB,0BAKhC,kBAACzmB,GAAA,EAAMgB,OAAP,KACI,kBAACC,GAAA,EAAD,CAAQhE,QAAQ,SAASX,QAAUZ,KAAK2J,cAAxC,UAGA,kBAACpE,GAAA,EAAD,CAAQhE,QAAQ,UAAUX,QAAUZ,KAAKwJ,eAAzC,iB,GAtIM3I,cAsJfC,gBANS,SAAC,GACrB,MAAO,CACHjO,SAFkC,EAAfA,YAMa,CAAE2L,mBAA3BsC,CAA6C8pB,I,qBCpJpD13B,I,OAAa6D,EAAb7D,UACFu4B,GAAW,CAEbC,WAAY,WAEZC,iBAAkB,IAClBC,iBAAkB,OAElBC,cAAe,CACX34B,GAASqE,KAAKu0B,mBAAmBC,YACjC74B,GAASqE,KAAKy0B,qBAAqBD,YACnC74B,GAASqE,KAAK00B,kBAAkBF,aAEpCG,OAAQ,0CACRC,iBAAkB,yCAGhBC,G,iMACmB,IAAD,OAChBpsB,KAAKqsB,YAAcn5B,GAASqE,OAAO+0B,oBAAmB,SAAA9xB,GAClDJ,QAAQC,IAAI,2BAA4BG,GACpCA,GACA,EAAKgF,MAAME,QAAQrH,KAAK,U,6CAMhC2H,KAAKqsB,gB,+BAML,OAFAjyB,QAAQC,IAAI,eAAgB2F,KAAKR,OACjCpF,QAAQC,IAAI,2BAA4BnH,GAASqE,OAAOiD,aAEpD,yBAAKoF,UAAU,4BACX,kBAAC2T,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAK5T,UAAU,mBACX,kBAAC,GAAD,MACA,kBAAC,KAAD,CACIxC,KAAM4C,KAAKR,MAAM3M,SAAWmN,KAAKR,MAAM3M,SAASwK,MAAM,QAAQ,GAAK,KACnE8K,OAAQsjB,GACRl0B,KAAMrE,GAASqE,OACfrE,SAAUA,Y,GA1BnB2N,aAuCJC,gBAJS,SAAC,GACrB,MAAO,CAAE/I,KADyB,EAAXA,QAIa,CAAEsB,UAA3ByH,CAAoCC,aAAWqrB,KCxDtD70B,I,OAASR,EAAM7D,SAAfqE,MAEFg1B,G,8MAOFC,U,wBAAY,+BAAAhzB,EAAA,sDACAkG,EAAY,EAAKF,MAAjBE,QACJ8C,EAFI,gBAGRjL,KAAO+0B,oBAAmB,SAAAv0B,GACtB,IAAMyC,EAAczC,GAAc,GAElC,GADAyK,EAAKC,SAAS,CAAE1K,KAAMyC,IAClBA,EAAa,CAAC,IACNf,EAAqDe,EAArDf,IAAK5E,EAAgD2F,EAAhD3F,YAAagG,EAAmCL,EAAnCK,MAAOf,EAA4BU,EAA5BV,cAAeqJ,EAAa3I,EAAb2I,SACxCspB,EAAiCtpB,EAAjCspB,eAAgBC,EAAiBvpB,EAAjBupB,aAElBzsB,EAAY,CACdxG,MACA5E,cACAgG,QACAb,UALc0yB,IAAiBD,EAM/B3yB,gBACA4yB,aAAc,IAAIj3B,KAAKi3B,IAE3BlqB,EAAKhD,MAAMnG,MAAM4G,GACjB0sB,uBAAYt5B,mBAAuC4M,GACnDP,EAAQrH,KAAK,mBAEbqH,EAAQrH,KAAK,YAtBb,2C,qFALRmY,WAAWxQ,KAAKwsB,UAAW,KAEtB15B,IAAEoE,QAAQ8I,KAAKR,MAAMzH,OAAOiI,KAAKR,MAAM7B,gB,+BA8BtC,IACE9K,EAAamN,KAAKR,MAAlB3M,SACR,OACI,yBAAK+M,UAAU,oBACX,yBACIqB,IAAI,uCACJC,IAAkB,UAAbrO,EAAuBsO,KAASC,KACrCxB,UAAU,eAEd,0BAAMA,UAAU,kC,GA3CXiB,aAqDNC,gBAJS,SAAC,GACrB,MAAO,CAAEjO,SAD6B,EAAfA,YAIa,CAAEwG,UAA3ByH,CAAoCyrB,IClD7CK,I,+MAEE5sB,KAAKR,MAAMhI,YAAYwI,KAAKR,MAAM3M,UAClCmN,KAAKR,MAAM9H,sBAAsBsI,KAAKR,MAAMxM,oBAC5CgN,KAAKR,MAAMrD,WACX6D,KAAKR,MAAMrC,oBAAoB6C,KAAKR,MAAM3M,Y,+BAI1C,OACI,yBAAK+M,UAAU,iBACX,kBAAC,KAAD,KACI,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAOitB,OAAK,EAACC,KAAK,IAAI3K,UAAWoK,KADrC,MAEI,kBAAC,KAAD,CAAOO,KAAK,aAAa3K,UAAWhS,KAFxC,MAGI,kBAAC,KAAD,CAAO2c,KAAK,QAAQ3K,UAAWiK,KAC/B,kBAAC,KAAD,CAAOU,KAAK,QAAQ3K,UAAW5I,KAC/B,kBAAC,KAAD,CAAOuT,KAAK,QAAQ3K,UAAWgG,KAC/B,kBAAC,KAAD,CAAO2E,KAAK,sBAAsB3K,UAAW4K,KAC7C,kBAAC,KAAD,CAAOF,OAAK,EAACC,KAAK,YAAY3K,UAAW4K,OAGjD,kBAAC,KAAD,CAAOC,MAAO,CAAEC,MAAO,GAAKC,QAAS,IAAMC,MAAM,EAAMC,OAAQ,QAASvR,SAAU,mB,GAtBhFhb,cA4BHC,eAAQ,KAAM,CAAEtJ,eAAaE,yBAAuByE,YAAUgB,wBAA9D2D,CAAqF8rB,I,WC/B1C71B,EAAM/C,cAAxDhB,G,GAAAA,mBAAoBL,G,GAAAA,gBAAiBH,G,GAAAA,SAC7CuE,EAAM9C,sBACN8C,EAAMtC,aAEN,IAAM44B,GAAmBC,UACnBC,GAAQC,sBAAYC,GAAUJ,GAChCK,0BAAgBC,OAWpB5hB,IAAS6hB,OAAO,mBARH,kBACT,kBAAC,IAAD,CAAUL,MAAOA,IACb,kBAAC,IAAD,CAActV,OAAQtlB,GAAiBH,SAAUA,GAASG,KACtD,kBAAC,GAAD,CAAKE,SAAUF,GAAiBK,mBAAoBA,SAKhD,MAAUqQ,SAASwqB,eAAe,W","file":"static/js/main.c18d985b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-en.e4c6e26e.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-tr.614c150f.png\";","module.exports = __webpack_public_path__ + \"static/media/default-file-image.dfe9f5ff.png\";","module.exports = \"data:image/png;base64,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\"","export const SET_LANGUAGE = 'SET_LANGUAGE';\nexport const SET_SUPPORTED_LANGUAGES = 'SET_SUPPORTED_LANGUAGES';\nexport const LOGIN = 'LOGIN';\nexport const LOGOUT = 'LOGOUT';\nexport const GET_PLANS = 'GET_PLANS';\nexport const GET_TRANSACTIONS = \"GET_TRANSACTIONS\";\nexport const GET_ERROR_DEFINITIONS = 'GET_ERROR_DEFINITIONS';\nexport const GET_FILE_LIST = 'GET_FILE_LIST';\nexport const UPDATE_FILE = 'UPDATE_FILE';\nexport const UPDATE_FILE_IN_STATE = 'UPDATE_FILE_IN_STATE';\nexport const SET_SELECTED_FILE = 'SET_SELECTED_FILE';\nexport const ADD_TO_UPLOADING_FILES = 'ADD_TO_UPLOADING_FILES';\nexport const REMOVE_FROM_UPLOADING_FILES = 'REMOVE_FROM_UPLOADING_FILES';\nexport const SET_UPLOADING_FILE_PROGRESS = 'SET_UPLOADING_FILE_PROGRESS';\n\nexport const HANDLE_TIME_CHANGE = 'HANDLE_TIME_CHANGE';\nexport const IS_PLAYING = 'IS_PLAYING';\nexport const EDITOR_FOCUS = 'EDITOR_FOCUS';\nexport const CURRENT_SPEAKER_BOX = \"CURRENT_SPEAKER_BOX\";\n\nexport const SET_TRIMMED_FILE_INFO = 'SET_TRIMMED_FILE_INFO';","const LanguageCodes = [\n    {\n        key: 'tr-TR',\n        value: 'Türkçe'\n    },\n    {\n        key: 'en-US',\n        value: 'English (United States)'\n    },\n    {\n        key: 'en-GB',\n        value: 'English (Great Britain)'\n    },\n    {\n        key: 'af-ZA',\n        value: 'Afrikaans (Suid-Afrika)'\n    },\n    {\n        key: 'am',\n        value: 'አማርኛ (ኢትዮጵያ)',\n        code: ''\n    },\n    {\n        key: 'hy-AM',\n        value: 'Հայ (Հայաստան)'\n    },\n    {\n        key: 'az-AZ',\n        value: 'Azərbaycan (Azərbaycan)'\n    },\n    {\n        key: 'id-ID',\n        value: 'Bahasa Indonesia (Indonesia)'\n    },\n    {\n        key: 'ms-MY',\n        value: 'Bahasa Melayu (Malaysia)'\n    },\n    {\n        key: 'bn-BD',\n        value: 'বাংলা (বাংলাদেশ)'\n    },\n    {\n        key: 'bn-IN',\n        value: 'বাংলা (ভারত)'\n    },\n    {\n        key: 'ca-ES',\n        value: 'Català (Espanya)'\n    },\n    {\n        key: 'cs-CZ',\n        value: 'Čeština (Česká republika)'\n    },\n    {\n        key: 'da-DK',\n        value: 'Dansk (Danmark)'\n    },\n    {\n        key: 'de-DE',\n        value: 'Deutsch (Deutschland)'\n    },\n    {\n        key: 'en-AU',\n        value: 'English (Australia)'\n    },\n    {\n        key: 'en-CA',\n        value: 'English (Canada)'\n    },\n    {\n        key: 'en-GH',\n        value: 'English (Ghana)'\n    },\n    {\n        key: 'en-IN',\n        value: 'English (India)'\n    },\n    {\n        key: 'en-IE',\n        value: 'English (Ireland)'\n    },\n    {\n        key: 'en-KE',\n        value: 'English (Kenya)'\n    },\n    {\n        key: 'en-NZ',\n        value: 'English (New Zealand)'\n    },\n    {\n        key: 'en-NG',\n        value: 'English (Nigeria)'\n    },\n    {\n        key: 'en-PH',\n        value: 'English (Philippines)'\n    },\n    {\n        key: 'en-SG',\n        value: 'English (Singapore)'\n    },\n    {\n        key: 'en-ZA',\n        value: 'English (South Africa)'\n    },\n    {\n        key: 'en-TZ',\n        value: 'English (Tanzania)'\n    },\n    {\n        key: 'es-AR',\n        value: 'Español (Argentina)'\n    },\n    {\n        key: 'es-BO',\n        value: 'Español (Bolivia)'\n    },\n    {\n        key: 'es-CL',\n        value: 'Español (Chile)'\n    },\n    {\n        key: 'es-CO',\n        value: 'Español (Colombia)'\n    },\n    {\n        key: 'es-CR',\n        value: 'Español (Costa Rica)'\n    },\n    {\n        key: 'es-EC',\n        value: 'Español (Ecuador)'\n    },\n    {\n        key: 'es-SV',\n        value: 'Español (El Salvador)'\n    },\n    {\n        key: 'es-ES',\n        value: 'Español (España)'\n    },\n    {\n        key: 'es-US',\n        value: 'Español (Estados Unidos)'\n    },\n    {\n        key: 'es-GT',\n        value: 'Español (Guatemala)'\n    },\n    {\n        key: 'es-HN',\n        value: 'Español (Honduras)'\n    },\n    {\n        key: 'es-MX',\n        value: 'Español (México)'\n    },\n    {\n        key: 'es-NI',\n        value: 'Español (Nicaragua)'\n    },\n    {\n        key: 'es-PA',\n        value: 'Español (Panamá)'\n    },\n    {\n        key: 'es-PY',\n        value: 'Español (Paraguay)'\n    },\n    {\n        key: 'es-PE',\n        value: 'Español (Perú)'\n    },\n    {\n        key: 'es-PR',\n        value: 'Español (Puerto Rico)'\n    },\n    {\n        key: 'es-DO',\n        value: 'Español (República Dominicana)'\n    },\n    {\n        key: 'es-UY',\n        value: 'Español (Uruguay)'\n    },\n    {\n        key: 'es-VE',\n        value: 'Español (Venezuela)'\n    },\n    {\n        key: 'eu-ES',\n        value: 'Euskara (Espainia)'\n    },\n    {\n        key: 'fil-PH',\n        value: 'Filipino (Pilipinas)'\n    },\n    {\n        key: 'fr-CA',\n        value: 'Français (Canada)'\n    },\n    {\n        key: 'fr-FR',\n        value: 'Français (France)'\n    },\n    {\n        key: 'gl-ES',\n        value: 'Galego (España)'\n    },\n    {\n        key: 'ka-GE',\n        value: 'ქართული (საქართველო)'\n    },\n    {\n        key: 'gu-IN',\n        value: 'ગુજરાતી (ભારત)'\n    },\n    {\n        key: 'hr-HR',\n        value: 'Hrvatski (Hrvatska)'\n    },\n    {\n        key: 'zu-ZA',\n        value: 'IsiZulu (Ningizimu Afrika)'\n    },\n    {\n        key: 'is-IS',\n        value: 'Íslenska (Ísland)'\n    },\n    {\n        key: 'it-IT',\n        value: 'Italiano (Italia)'\n    },\n    {\n        key: 'jv-ID',\n        value: 'Jawa (Indonesia)'\n    },\n    {\n        key: 'kn-IN',\n        value: 'ಕನ್ನಡ (ಭಾರತ)'\n    },\n    {\n        key: 'km-KH',\n        value: 'ភាសាខ្មែរ (កម្ពុជា)'\n    },\n    {\n        key: 'lo-LA',\n        value: 'ລາວ (ລາວ)'\n    },\n    {\n        key: 'lv-LV',\n        value: 'Latviešu (latviešu)'\n    },\n    {\n        key: 'lt-LT',\n        value: 'Lietuvių (Lietuva)'\n    },\n    {\n        key: 'hu-HU',\n        value: 'Magyar (Magyarország)'\n    },\n    {\n        key: 'ml-IN',\n        value: 'മലയാളം (ഇന്ത്യ)'\n    },\n    {\n        key: 'mr-IN',\n        value: 'मराठी (भारत)'\n    },\n    {\n        key: 'nl-NL',\n        value: 'Nederlands (Nederland)'\n    },\n    {\n        key: 'ne-NP',\n        value: 'नेपाली (नेपाल)'\n    },\n    {\n        key: 'nb-NO',\n        value: 'Norsk bokmål (Norge)'\n    },\n    {\n        key: 'pl-PL',\n        value: 'Polski (Polska)'\n    },\n    {\n        key: 'pt-BR',\n        value: 'Português (Brasil)'\n    },\n    {\n        key: 'pt-PT',\n        value: 'Português (Portugal)'\n    },\n    {\n        key: 'ro-RO',\n        value: 'Română (România)'\n    },\n    {\n        key: 'si-LK',\n        value: 'සිංහල (ශ්රී ලංකාව)'\n    },\n    {\n        key: 'sk-SK',\n        value: 'Slovenčina (Slovensko)'\n    },\n    {\n        key: 'sl-SI',\n        value: 'Slovenščina (Slovenija)'\n    },\n    {\n        key: 'su-ID',\n        value: 'Urang (Indonesia)'\n    },\n    {\n        key: 'sw-TZ',\n        value: 'Swahili (Tanzania)'\n    },\n    {\n        key: 'sw-KE',\n        value: 'Swahili (Kenya)'\n    },\n    {\n        key: 'fi-FI',\n        value: 'Suomi (Suomi)'\n    },\n    {\n        key: 'sv-SE',\n        value: 'Svenska (Sverige)'\n    },\n    {\n        key: 'ta-IN',\n        value: 'தமிழ் (இந்தியா)'\n    },\n    {\n        key: 'ta-SG',\n        value: 'தமிழ் (சிங்கப்பூர்)'\n    },\n    {\n        key: 'ta-LK',\n        value: 'தமிழ் (இலங்கை)'\n    },\n    {\n        key: 'ta-MY',\n        value: 'தமிழ் (மலேசியா)'\n    },\n    {\n        key: 'te-IN',\n        value: 'తెలుగు (భారతదేశం)'\n    },\n    {\n        key: 'vi-VN',\n        value: 'Tiếng Việt (Việt Nam)'\n    },\n    {\n        key: 'ur-PK',\n        value: 'اردو (پاکستان)'\n    },\n    {\n        key: 'ur-IN',\n        value: 'اردو (بھارت)'\n    },\n    {\n        key: 'el-GR',\n        value: 'Ελληνικά (Ελλάδα)'\n    },\n    {\n        key: 'bg-BG',\n        value: 'Български (България)'\n    },\n    {\n        key: 'ru-RU',\n        value: 'Русский (Россия)'\n    },\n    {\n        key: 'sr-RS',\n        value: 'Српски (Србија)'\n    },\n    {\n        key: 'uk-UA',\n        value: 'Українська (Україна)'\n    },\n    {\n        key: 'he-IL',\n        value: 'עברית (ישראל)'\n    },\n    {\n        key: 'ar-IL',\n        value: 'العربية (إسرائيل)'\n    },\n    {\n        key: 'ar-JO',\n        value: 'العربية (الأردن)'\n    },\n    {\n        key: 'ar-AE',\n        value: 'العربية (الإمارات)'\n    },\n    {\n        key: 'ar-BH',\n        value: 'العربية (البحرين)'\n    },\n    {\n        key: 'ar-DZ',\n        value: 'العربية (الجزائر)'\n    },\n    {\n        key: 'ar-SA',\n        value: 'العربية (السعودية)'\n    },\n    {\n        key: 'ar-IQ',\n        value: 'العربية (العراق)'\n    },\n    {\n        key: 'ar-KW',\n        value: 'العربية (الكويت)'\n    },\n    {\n        key: 'ar-MA',\n        value: 'العربية (المغرب)'\n    },\n    {\n        key: 'ar-TN',\n        value: 'العربية (تونس)'\n    },\n    {\n        key: 'ar-OM',\n        value: 'العربية (عُمان)'\n    },\n    {\n        key: 'ar-PS',\n        value: 'العربية (فلسطين)'\n    },\n    {\n        key: 'ar-QA',\n        value: 'العربية (قطر)'\n    },\n    {\n        key: 'ar-LB',\n        value: 'العربية (لبنان)'\n    },\n    {\n        key: 'ar-EG',\n        value: 'العربية (مصر)'\n    },\n    {\n        key: 'fa-IR',\n        value: 'فارسی (ایران)'\n    },\n    {\n        key: 'hi-IN',\n        value: 'हिन्दी (भारत)'\n    },\n    {\n        key: 'th-TH',\n        value: 'ไทย (ประเทศไทย)'\n    },\n    {\n        key: 'ko-KR',\n        value: '한국어 (대한민국)'\n    },\n    {\n        key: 'zh-TW',\n        value: '國語 (台灣)'\n    },\n    {\n        key: 'yue-Hant-HK',\n        value: '廣東話 (香港)'\n    },\n    {\n        key: 'ja-JP',\n        value: '日本語（日本）'\n    },\n    {\n        key: 'zh-HK',\n        value: '普通話 (香港)'\n    },\n    {\n        key: 'zh',\n        value: '普通话 (中国大陆)'\n    }\n];\n\nexport default LanguageCodes;","import _ from 'lodash';\nimport messages_tr from \"../translations/tr.json\";\nimport messages_en from \"../translations/en.json\";\n\nimport LanguagageCodes from './language-codes';\n\nif (!Intl.PluralRules) {\n    require('intl-pluralrules');\n}\n\n// if (!Intl.RelativeTimeFormat) {\n//     require('@formatjs/intl-relativetimeformat/polyfill');\n//     require('@formatjs/intl-relativetimeformat/dist/include-aliases');\n// }\n\nconst messages = {\n    'tr-TR': messages_tr,\n    'en-US': messages_en\n};\nvar currentLanguage = navigator.language === 'tr' ? 'tr-TR' : navigator.language;\n\nif(!_.has(messages, currentLanguage)) {\n    currentLanguage = 'en-US'\n}\n\nexport default {\n    supportedLanguages: LanguagageCodes,\n    currentLanguage,\n    messages\n}","import firebase from 'firebase';\n\nconst firebaseConfig = {\n    apiKey: process.env.REACT_APP_FIREBASE.API_KEY,\n    authDomain: process.env.REACT_APP_FIREBASE.AUTH_DOMAIN,\n    databaseURL: process.env.REACT_APP_FIREBASE.DATABASE_URL,\n    projectId: process.env.REACT_APP_FIREBASE.PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE.STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE.MESSAGING_SENDER_ID,\n    appId: process.env.REACT_APP_FIREBASE.APP_ID\n};\n// dev\n// const firebaseConfig = {\n//     apiKey: \"AIzaSyAxFnX8s5XDtthKQDtnPanghyegQP7XvAY\",\n//     authDomain: \"speechtext-dev0.firebaseapp.com\",\n//     databaseURL: \"https://speechtext-dev0.firebaseio.com\",\n//     projectId: \"speechtext-dev0\",\n//     storageBucket: \"gs://speechtext-dev0.appspot.com\",\n//     messagingSenderId: \"697602698646\",\n//     appId: \"1:697602698646:web:194010f6ed9ebf8ac7c1b7\"\n// };\n\nfirebase.initializeApp(firebaseConfig);\n\nexport default firebase;","import ReactGA from 'react-ga';\n\nimport * as ActionTypes from './action-types';\nimport Localization from './localization';\nimport firebase from './firebase';\nimport * as Sentry from '@sentry/browser';\n\nconst addZeroes = (val) => {\n    return val.length === 1 ? '0' + val : val;\n};\n\nconst getNameSurname = (displayName) => {\n    let fullName = displayName.trim();\n    var index = fullName.lastIndexOf(' ');\n    if (index < 0) return [fullName, fullName];\n    var name = index > 1 ? fullName.slice(0, index) : '';\n    var surname = index > 1 ? fullName.slice(index + 1) : '';\n    return [name, surname];\n};\n\nconst formatSizeByteToMB = (size) => {\n    return (size / 1000000).toFixed(2);\n};\n\nconst initSentry = () => {\n    Sentry.init({ dsn: 'https://ebeb898364104068b98c4885204311e5@sentry.io/4240784' });\n};\n\nconst initGoogleAnalytics = () => {\n    ReactGA.initialize('UA-147269515-1');\n    ReactGA.pageview(window.location.pathname + window.location.search);\n};\n\nconst formatDateSimpleFormat = (expireDate, language) => {\n    if (!expireDate) return null;\n    var date = new Date(expireDate.seconds * 1000);\n    let day = addZeroes(date.getDate());\n    let month = addZeroes(date.getMonth() + 1);\n    let year = date.getFullYear();\n    if (language === 'tr-TR') {\n        return day + '/' + month + '/' + year;\n    }\n    return month + '/' + day + '/' + year;\n};\n\nconst formatTime = (time) => {\n    let seconds = Math.floor(time % 60);\n    let minutes = Math.floor(time / 60);\n    let hours = Math.floor(minutes / 60);\n    if (hours > 0) {\n        minutes = Math.floor(minutes % 60);\n    }\n    if (hours < 10) hours = `0${hours}`;\n    if (minutes < 10) minutes = `0${minutes}`;\n    if (seconds < 10) seconds = `0${seconds}`;\n    if (!hours) hours = '00';\n    if (!minutes) minutes = '00';\n    if (!seconds) seconds = '00';\n    return `${hours}:${minutes}:${seconds}`;\n};\n\nconst logError = (logData) => {\n    firebase.functions().httpsCallable('feErrorLogs')(logData);\n};\n\nexport default {\n    ActionTypes,\n    Localization,\n    initGoogleAnalytics,\n    initSentry,\n    firebase,\n    addZeroes,\n    getNameSurname,\n    formatSizeByteToMB,\n    formatDateSimpleFormat,\n    formatTime,\n    logError\n};\n","import Utils from '../utils';\nimport _ from 'lodash';\n\nconst setLanguage = (state = 'en-US', action) => {\n    switch (action.type) {\n        case Utils.ActionTypes.SET_LANGUAGE:\n            return action.payload || 'en-US';\n        default:\n            return state;\n    }\n}\n\nconst DEFAULT_SUPPORTED_LANGUAGES = [\n    {\n        key: 'tr-TR',\n        value: 'Türkçe'\n    },\n    {\n        key: 'en-US',\n        value: 'English'\n    }\n]\n\nconst setSupportedLanguages = (state = DEFAULT_SUPPORTED_LANGUAGES, action) => {\n    switch (action.type) {\n        case Utils.ActionTypes.SET_SUPPORTED_LANGUAGES:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nconst getPlans = (state = [], action) => {\n    switch (action.type) {\n        case Utils.ActionTypes.GET_PLANS:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nconst getErrorDefinitions = (state = [], action) => {\n    switch (action.type) {\n        case Utils.ActionTypes.GET_ERROR_DEFINITIONS:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nconst setTrimmedFileInfo = (state = {}, action) => {\n    const { fileId } = action.payload || {};\n    switch (action.type) {\n        case Utils.ActionTypes.SET_TRIMMED_FILE_INFO:\n            if (!_.isEmpty(state)) {\n                var newState = _.remove(state, (file) => {\n                    return fileId !== file.id;\n                });\n                return newState;\n            }\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport default {\n    setLanguage,\n    setSupportedLanguages,\n    plans: getPlans,\n    errorDefinitions: getErrorDefinitions,\n    trimmedFileInfo: setTrimmedFileInfo\n}","import Utils from '../utils';\n\nconst auth = (state = {}, action) => {\n    switch (action.type) {\n        case Utils.ActionTypes.LOGIN:\n            return action.payload;\n        case Utils.ActionTypes.LOGOUT:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport default auth;","import _ from 'lodash';\nimport Utils from '../utils';\nconst { ActionTypes } = Utils;\n\nexport const getFileList = (state = [], action) => {\n    var found = false;\n    var newState = [];\n    switch(action.type) {\n        case ActionTypes.GET_FILE_LIST:\n            return action.payload;\n        case ActionTypes.UPDATE_FILE:\n            const file = action.payload;\n            state.forEach(elem => {\n                if(elem.id === file.id) {\n                    newState.push(_.clone(file));\n                    found = true;\n                } else {\n                    newState.push(elem);\n                }\n            });\n            if(!found) newState.push(file);\n            return newState;\n        case ActionTypes.UPDATE_FILE_IN_STATE:\n            const { fileId, data } = action.payload;\n            state.forEach(elem => {\n                if(elem.id === fileId) {\n                    var file = _.merge(elem, data);\n                    newState.push(file);\n                    found = true;\n                } else {\n                    newState.push(elem);\n                }\n            });\n            return newState;\n        default:\n            return state;\n    }\n}\n\nexport const setSelectedFile = (state = {}, action) => {\n    switch(action.type) {\n        case ActionTypes.SET_SELECTED_FILE:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport const setUploadingFiles = (state = [], action) => {\n    const { fileId } = action.payload || {};\n    switch(action.type) {\n        case ActionTypes.ADD_TO_UPLOADING_FILES:\n            const { fileObj } = action.payload;\n            return [...state, { id: fileId, file: fileObj, progress: 0 }];\n        case ActionTypes.REMOVE_FROM_UPLOADING_FILES:\n            var newState = _.remove(state, (file) => {\n                return fileId !== file.id;\n            });\n            return newState;\n        case ActionTypes.SET_UPLOADING_FILE_PROGRESS:\n            const { progress } = action.payload;\n            return state.map(file => {\n                if(file.id === fileId) {\n                    return {...file, progress };\n                }\n                return {...file};\n            });\n        default:\n            return state;\n    }\n}","import Utils from '../utils';\nconst { ActionTypes } = Utils;\n\nexport const setEditorFocus = (state = {}, action) => {\n    switch (action.type) {\n        case ActionTypes.EDITOR_FOCUS:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport const handleTimeChange = (state = {}, action) => {\n    switch (action.type) {\n        case ActionTypes.HANDLE_TIME_CHANGE:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport const getPlayerStatus = (state = {}, action) => {\n    switch (action.type) {\n        case ActionTypes.IS_PLAYING:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\nexport const setCurrentSpeakerBox = (state = {}, action) => {\n    switch (action.type) {\n        case ActionTypes.CURRENT_SPEAKER_BOX:\n            return action.payload;\n        default:\n            return state;\n    }\n}","import Utils from '../utils';\nconst { ActionTypes } = Utils;\n\nexport const getTransactions = (state = [], action) => {\n    switch(action.type) {\n        case ActionTypes.GET_TRANSACTIONS:{\n            return action.payload;\n        }\n        default:\n            return state;\n    }\n}","import { combineReducers } from 'redux';\nimport AppReducer from './app-reducer';\nimport AuthReducer from './auth-reducer';\nimport { getFileList, setSelectedFile, setUploadingFiles } from './file-reducer';\nimport { handleTimeChange, getPlayerStatus, setEditorFocus, setCurrentSpeakerBox } from \"./editor-reducer\";\nimport { getTransactions } from './user';\n\nconst { setLanguage, setSupportedLanguages, plans, errorDefinitions, trimmedFileInfo } = AppReducer;\nexport default combineReducers({\n    language: setLanguage,\n    supportedLanguages: setSupportedLanguages,\n    user: AuthReducer,\n    plans,\n    errorDefinitions,\n    userFiles: getFileList,\n    selectedFile: setSelectedFile,\n    uploadingFiles: setUploadingFiles,\n    handleTimeChange: handleTimeChange,\n    playerStatus: getPlayerStatus,\n    editorFocus: setEditorFocus,\n    transactions: getTransactions,\n    selectedSpeakerBox: setCurrentSpeakerBox,\n    trimmedFileInfo\n})","import Utils from '../utils';\nimport publicIp from 'public-ip';\nconst { firestore, auth, functions } = Utils.firebase;\n\nconst db = firestore();\n\nexport const login = (data) => {\n    return async (dispatch, getState) => {\n        const { uid } = data;\n        db.doc(`users/${uid}`).onSnapshot(async (snapshot) => {\n            let userData = data;\n            if (snapshot && snapshot.data && snapshot.data()) {\n                const { emailVerified } = snapshot.data()\n                userData = snapshot.data();\n                if (emailVerified === false && data.emailVerified === true) {\n                    db.doc(`users/${uid}`).update({ emailVerified: true })\n                    userData.emailVerified = true\n                }\n            } else if (data.isNewUser) {\n                let ip = '';\n                try {\n                    ip = await publicIp.v4();\n                } catch (error) {\n                    console.log('Cannot get user IP adress')\n                }\n                //const demoPlan = _.find(getState()['plans'], ['type', 'Demo']);\n                userData = { ...data, ip };\n                delete userData.isNewUser;\n                try {\n                    console.log('Creating new user... userData:', userData)\n                    var fncCreateUser = functions().httpsCallable('createNewUser');\n                    let res = await fncCreateUser(userData).data\n                    !data.emailVerified && auth().currentUser.sendEmailVerification()\n                    console.log('res of new user creation:', res)\n                } catch (err) {\n                    console.log('createNewUser returns error:', err)\n                }\n            }\n            dispatch({\n                type: Utils.ActionTypes.LOGIN,\n                payload: userData\n            });\n        }, (error) => {\n            // TODO: GET_USER_PROFILE_ERROR\n            console.log(error)\n        });\n\n    }\n}\n\nexport const logout = () => {\n    return {\n        type: Utils.ActionTypes.LOGOUT,\n        payload: {}\n    }\n}","import _ from 'lodash';\nimport Utils from '../utils';\nconst { firestore, auth } = Utils.firebase;\n\nexport const updateProfile = (data) => {\n    console.log('updateProfile called with:', data)\n    return async (dispatch, getState) => {\n        const { uid } = getState().user;\n        const { displayName, email, country, address } = data;\n        var userData = { displayName, email, country, address };\n        var user = auth().currentUser;\n\n        try {\n            console.log('setting displayName ', displayName)\n            await user.updateProfile({ displayName })\n            // Email and Password change requires reauthentication\n            // https://medium.com/@ericmorgan1/change-user-email-password-in-firebase-and-react-native-d0abc8d21618\n            //await user.updateEmail(email)\n            console.log('setting profile ', userData)\n            await firestore().collection('users').doc(uid).update(userData)\n        } catch (error) {\n            // TODO: UPDATE_USER_PROFILE_ERROR\n            console.log(error)\n        }\n\n    }\n}\n\nexport const getTransactions = (user) => {\n    return (dispatch, getState) => {\n        console.log(\"user\", user)\n        firestore().collection('payments').doc(user.uid).collection('userbasket').orderBy(\"requestDate\", \"desc\")\n            .onSnapshot((snapshot) => {\n                if (snapshot && snapshot.docs) {\n                    var transactions = [];\n                    snapshot.docs.forEach(doc => {\n                        var transcriptionData = doc.data();\n                        var price = transcriptionData.request.price;\n                        var currency = transcriptionData.request.currency;\n                        if (currency === \"USD\")\n                            currency = \"$\";\n                        else\n                            currency = \"₺\";\n                        var status = \"\";\n                        if (transcriptionData.error)\n                            status = \"fail\"\n                        else if (transcriptionData.result) {\n                            if (transcriptionData.result.status === \"success\")\n                                status = \"success\"\n                            else\n                                status = \"fail\"\n                        }\n                        var date = transcriptionData.requestDate.toDate();\n                        var dateStr = date.toLocaleDateString();\n\n                        var transaction = {\n                            basketId: transcriptionData.request.basketId,\n                            date: dateStr,\n                            amount: transcriptionData.minutes,\n                            price: parseFloat(price).toFixed(2),\n                            currency,\n                            status\n                        }\n                        transactions.push(transaction);\n                    });\n                    transactions = _.orderBy(transactions, \"date\", 'desc');\n                    dispatch({\n                        type: Utils.ActionTypes.GET_TRANSACTIONS,\n                        payload: transactions\n                    });\n                }\n            }, (error) => {\n                // TODO: GET_FILE_LIST_ERROR\n                console.log(error)\n            });\n    }\n}","import Utils from '../utils';\nimport publicIp from 'public-ip';\n\nconst { firestore, functions } = Utils.firebase;\n\nexport const setLanguage = (language) => {\n    return {\n        type: Utils.ActionTypes.SET_LANGUAGE,\n        payload: language\n    }\n}\n\nexport const setSupportedLanguages = (languages) => {\n    return {\n        type: Utils.ActionTypes.SET_SUPPORTED_LANGUAGES,\n        payload: languages\n    }\n}\n\nexport const getPlans = () => {\n    return dispatch => {\n        firestore().collection('plans').doc('standard')\n            .get()\n            .then(snapshot => {\n                if (snapshot) {\n                    //var plans = [];\n                    //snapshot.docs.forEach(doc => plans.push({ id: doc.id, ...doc.data() }));\n                    dispatch({\n                        type: Utils.ActionTypes.GET_PLANS,\n                        payload: snapshot.data()\n                    });\n                }\n            })\n            .catch(error => {\n                // TODO: GET_PLANS_ERROR\n                console.log(error);\n            })\n    }\n}\n\nexport const submitContactForm = (form) => {\n    return async (dispatch) => {\n        let ip = '';\n        try {\n            ip = await publicIp.v4();\n        } catch (error) {\n            console.log('Cannot get user IP adress')\n        }\n        console.log('client ip is:', ip)\n        return new Promise(async (resolve, reject) => {\n            if (!ip)\n                reject('No IP found. Weird error!')\n\n            let counterDoc = await firestore().doc(`contactSubmissions/${ip}`).get()\n            let numSubmissions = counterDoc && counterDoc.data() && counterDoc.data().counter;\n\n            if (numSubmissions > 50)\n                return reject('Too much submission:/ Spam Alert!')\n\n            form.createdAt = new Date()\n            var contactUs = functions().httpsCallable('contactUs');\n            const { nameSurname, email, opinions } = form\n            let text = opinions\n            contactUs({ nameSurname, email, text })\n                .then(res => {\n                    console.log('The form is submitted!')\n                    resolve('Thanks for your inquiry:) We will be in touch soon.')\n                })\n                .catch(error => {\n                    // TODO: SET_CONTACT_FORM_ERROR\n                    console.log(error);\n                    reject('Network error:< Try again please!')\n                })\n        })\n\n    }\n}\n\nexport const getErrorDefinitions = (language) => {\n    const lang = language.split('-')[0]\n    return dispatch => {\n        firestore().collection('error_definitions').doc(lang)\n            .get()\n            .then(snapshot => {\n                if (snapshot) {\n                    var errorDefinitions = [];\n                    var data = snapshot.data();\n                    Object.keys(data).forEach(key => {\n                        errorDefinitions.push({\n                            key,\n                            value: data[key]\n                        })\n                    })\n                    dispatch({\n                        type: Utils.ActionTypes.GET_ERROR_DEFINITIONS,\n                        payload: errorDefinitions\n                    });\n                }\n            })\n            .catch(error => {\n                // TODO: GET_PLANS_ERROR\n                console.log(error);\n            })\n    }\n}\n\nexport const setTrimmedFileInfo = (fileId, minutesToBePaid) => {\n    return {\n        type: Utils.ActionTypes.SET_TRIMMED_FILE_INFO,\n        payload: {\n            fileId, minutesToBePaid\n        }\n    }\n}\n\nexport const clearTrimmedFileInfo = (fileId) => {\n    return {\n        type: Utils.ActionTypes.SET_TRIMMED_FILE_INFO,\n        payload: {\n            fileId\n        }\n    }\n}","import _ from 'lodash';\nimport Utils from '../utils';\nconst { firestore } = Utils.firebase;\n\nexport const getFileList = () => {\n    return (dispatch, getState) => {\n        const { user } = getState();\n        firestore().collection('userfiles').doc(user.uid).collection('files')\n            .onSnapshot((snapshot) => {\n                if (snapshot && snapshot.docs) {\n                    const { selectedFile } = getState();\n                    var userFiles = [];\n                    var deletedFiles = [];\n                    snapshot.docs.forEach(doc => {\n                        let data = doc.data();\n                        if (data.status === 'DELETED') {\n                            deletedFiles.push({ id: doc.id, ...doc.data() });\n                        } else {\n                            userFiles.push({ id: doc.id, ...doc.data() })\n                        }\n                    });\n                    userFiles = _.orderBy(userFiles, 'originalFile.createDate', 'desc');\n                    dispatch({\n                        type: Utils.ActionTypes.GET_FILE_LIST,\n                        payload: userFiles\n                    });\n                    if (!_.isEmpty(selectedFile)) {\n                        var file = _.find(userFiles, { id: selectedFile.id });\n                        if (file) {\n                            dispatch({\n                                type: Utils.ActionTypes.SET_SELECTED_FILE,\n                                payload: file\n                            });\n                        } else {\n                            file = _.find(deletedFiles, { id: selectedFile.id });\n                            if (file) {\n                                dispatch({\n                                    type: Utils.ActionTypes.SET_SELECTED_FILE,\n                                    payload: {}\n                                });\n                            }\n                        }\n                    }\n                }\n            }, (error) => {\n                // TODO: GET_FILE_LIST_ERROR\n                console.log(error)\n            });\n    }\n}\n\nexport const getFile = (fileId) => {\n    return async (dispatch, getState) => {\n        const { user } = getState();\n        // TODO: This will change: Later, users will change others' files too.\n        // Thus, doc(user.uid) will be provided from file info\n        let file = await firestore().collection('userfiles').doc(user.uid).collection('files').doc(fileId).get();\n        dispatch({\n            type: Utils.ActionTypes.SET_SELECTED_FILE,\n            payload: file.data() || {}\n        })\n    }\n}\n\nexport const addFile = (file) => {\n    return async (dispatch, getState) => {\n        const { uid } = getState().user;\n\n        await firestore().collection('userfiles').doc(uid).collection('files').doc(file.id)\n            .set(file)\n            .catch(error => {\n                // TODO: ADD_FILE_ERROR\n                console.log(error);\n            })\n\n        await firestore().collection('userfiles').doc(uid).collection('files').doc(file.id).collection('progress').doc('status')\n            .set({\n                state: file.status\n            })\n            .catch(error => {\n                // TODO: SET_FILE_STATUS_ERROR\n                console.log(error);\n            })\n    }\n}\n\nexport const updateFile = (file, data) => {\n    return async (dispatch, getState) => {\n        const { uid } = getState().user;\n        await firestore().collection('userfiles').doc(uid).collection('files').doc(file.id)\n            .update(data)\n            .catch(error => {\n                // TODO: UPDATE_FILE_ERROR\n                console.log(error);\n            })\n        dispatch({\n            type: Utils.ActionTypes.UPDATE_FILE,\n            payload: file\n        });\n    }\n}\n\nexport const updateFileState = (fileId, newState) => {\n    return async (dispatch, getState) => {\n        const { uid } = getState().user;\n        await firestore().collection('userfiles').doc(uid).collection('files').doc(fileId).collection('progress').doc('status')\n            .update({ state: newState })\n            .catch(error => {\n                // TODO: UPDATE_FILE_STATUS_ERROR\n                console.log(error);\n            });\n        await firestore().collection('userfiles').doc(uid).collection('files').doc(fileId)\n            .update({ status: newState })\n            .catch(error => {\n                // TODO: UPDATE_FILE_STATUS_ERROR\n                console.log(error);\n            });\n    }\n}\n\nexport const updateFileInState = (fileId, data) => {\n    return {\n        type: Utils.ActionTypes.UPDATE_FILE_IN_STATE,\n        payload: {\n            fileId,\n            data\n        }\n    }\n}\n\nexport const setSelectedFile = (file) => {\n    return {\n        type: Utils.ActionTypes.SET_SELECTED_FILE,\n        payload: file\n    }\n}\n\nexport const addToUploadingFiles = (fileId, fileObj) => {\n    return {\n        type: Utils.ActionTypes.ADD_TO_UPLOADING_FILES,\n        payload: { fileId, fileObj }\n    }\n}\n\nexport const removeFromUploadingFiles = (fileId) => {\n    return {\n        type: Utils.ActionTypes.REMOVE_FROM_UPLOADING_FILES,\n        payload: { fileId }\n    }\n}\n\nexport const setUploadingFileProgress = (fileId, progress) => {\n    return {\n        type: Utils.ActionTypes.SET_UPLOADING_FILE_PROGRESS,\n        payload: { fileId, progress }\n    }\n}","import Utils from '../utils';\nimport publicIp from 'public-ip';\n\nconst { firestore } = Utils.firebase;\n\nexport const saveEvaluation = (evaluation) => {\n    return async () => {\n        const { userId, fileId, transcriptionRating, editorRating, thoughts } = evaluation;\n        let ip = '';\n        try {\n            ip = await publicIp.v4();\n        } catch (error) {\n            console.log('Cannot get user IP adress')\n        }\n        firestore().collection('evaluation').doc(userId).collection('files').doc(fileId)\n            .set({\n                transcriptionRating,\n                editorRating,\n                thoughts,\n                ip\n            });\n    }\n}","import Utils from '../utils';\n\nexport const setEditorFocus = (activeIndex, activeWordIndex, caretPosition) => {\n    console.log(`setEditorFocus activeIndex ${activeIndex} activeWordIndex ${activeWordIndex} caretPosition ${caretPosition}`)\n    return (dispatch, getState) => {\n        // Burda kaldik\n        dispatch({\n            type: Utils.ActionTypes.EDITOR_FOCUS,\n            payload: { activeIndex, activeWordIndex, caretPosition }\n        })\n    }\n}\n\nexport const handleTimeChange = (editorData, currentTime) => {\n    // return (dispatch, getState) => {\n    //     let seconds = Math.floor(currentTime);\n    //     let nanoSeconds = parseInt((currentTime - seconds) * 1000);\n    //     let playerTime = { seconds, nanoSeconds }\n    //     let playerActiveIndex = -1, playerActiveWordIndex = -1;\n\n    //     if (!_.isEmpty(playerTime) && !_.isEmpty(editorData)) {\n    //         const { seconds, nanoSeconds } = playerTime;\n    //         _.each(editorData, (data, index) => {\n    //             let alternative = data.alternatives[0];\n    //             _.map(alternative.words, (word, wordIndex) => {\n    //                 let { startTime, endTime } = word;\n    //                 let currTime = parseFloat(seconds + '.' + nanoSeconds);\n    //                 startTime = parseFloat(startTime.seconds + '.' + startTime.nanos);\n    //                 endTime = parseFloat(endTime.seconds + '.' + endTime.nanos);\n    //                 if (startTime <= currTime && endTime > currTime) {\n    //                     playerActiveIndex = index;\n    //                     playerActiveWordIndex = wordIndex;\n    //                     return;\n    //                 }\n    //             })\n    //         });\n\n    //     }\n    //     let playerIndex = playerActiveIndex + '-' + playerActiveWordIndex\n    //     if (playerIndex !== lastPlayerIndex) {\n    //         console.log('actions playerIndex is dispatched', playerIndex)\n    //         lastPlayerIndex = playerIndex\n    //         dispatch({\n    //             type: Utils.ActionTypes.HANDLE_TIME_CHANGE,\n    //             payload: { playerTime, playerActiveIndex, playerActiveWordIndex }\n    //         })\n    //     }\n    // }\n}\n\nexport const isPlaying = (isPlaying) => {\n    //console.log('isPlaying ', isPlaying)\n    return (dispatch, getState) => {\n        dispatch({\n            type: Utils.ActionTypes.IS_PLAYING,\n            payload: { isPlaying }\n        })\n    }\n}\n\nexport const setCurrentSpeakerBox = (index) => {\n    return (dispatch) => {\n        dispatch({\n            type: Utils.ActionTypes.CURRENT_SPEAKER_BOX,\n            payload: { index }\n        })\n    }\n}","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport { Nav, NavDropdown } from 'react-bootstrap';\nimport { FormattedMessage } from 'react-intl';\nimport _ from 'lodash';\nimport { read_cookie, delete_cookie } from 'sfcookies';\n\nimport { login, logout } from '../../actions';\nimport firebase from '../../utils/firebase';\n\nclass UserBox extends Component {\n    logout = () => {\n        firebase.auth().signOut()\n            .then(() => {\n                // Sign-out successful.\n            }).catch((error) => {\n                // TODO: SIGNOUT_ERROR\n                console.log(error)\n            });\n        this.props.logout();\n        delete_cookie(process.env.REACT_APP_LOGIN_INFO_NAME);\n        this.props.history.push('/');\n    }\n\n    componentDidMount() {\n        if(_.isEmpty(this.props.user)) {\n            const loginInfo = read_cookie(process.env.REACT_APP_LOGIN_INFO_NAME);\n            if(!_.isEmpty(loginInfo)) {\n                this.props.login(loginInfo);\n            } else {\n                this.props.history.push('/');\n            }\n        }\n    }\n\n    renderTitle = () => {\n        const { user } = this.props;\n\n        return (\n            <span>\n                { user.displayName }\n                <br />\n                <span className='user-box-remaining'>\n                    <FormattedMessage id='UserBox.remainingMinutes' values={ { remainingMinutes: user.currentPlan ? user.currentPlan.remainingMinutes : 0 } } />\n                </span>\n            </span>\n        )\n    }\n\n    render() {\n        return (\n            <Nav>\n                <NavDropdown title={ this.renderTitle() } id='nav-dropdown' alignRight={ this.props.alignLeft ? false : true } className='userbox-dropdown'>\n                    <Link to='/dashboard' className='dropdown-item'>\n                        <FormattedMessage id='UserBox.dashboard' />\n                    </Link>\n                    <Link to='/user#profile' className='dropdown-item'>\n                        <FormattedMessage id='UserBox.profile' />\n                    </Link>\n                    <Link to='/user#payment' className='dropdown-item'>\n                        <FormattedMessage id='UserBox.payment' />\n                    </Link>\n                    <Link to='/user#transaction' className='dropdown-item'>\n                        <FormattedMessage id='UserBox.transactions' />\n                    </Link>\n                    <NavDropdown.Divider />\n                    <NavDropdown.Item eventKey='0' onClick={ this.logout }>Logout</NavDropdown.Item>\n                </NavDropdown>\n            </Nav>\n        )\n    }\n}\n\nconst mapStateToProps = ({ user }) => {\n    return {\n        user\n    }\n}\n\nexport default connect(mapStateToProps, { login, logout })(withRouter(UserBox));","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport LogoEn from '../assets/logo-en.png';\nimport LogoTr from '../assets/logo-tr.png';\n\nclass LogoContainer extends Component {\n    render() {\n        const { language } = this.props;\n        return (\n            <div className='logo-container'>\n                <img alt='Online Audio/Video Transcripton Logo' src={language === 'tr-TR' ? LogoTr : LogoEn } className='logo-style' />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({ language }) => {\n    return { language };\n}\n\nexport default connect(mapStateToProps)(LogoContainer);","import React, { Component } from 'react';\nimport { withRouter } from 'react-router'\nimport { Link } from 'react-router-dom';\nimport { Nav, Navbar } from 'react-bootstrap';\n\nimport UserBox from './dashboard/user-box';\nimport LogoContainer from '../components/logo-container';\n\nimport '../styles/header.css';\nimport '../styles/user.css';\n\nclass DashboardHeader extends Component {\n\n    render() {\n        return (\n            <Nav>\n                <Navbar variant=\"light\" expand=\"lg\" bg=\"light\" className='text-dark dashboard-header-container'>\n                    <Link to='/'>\n                        <Navbar.Brand>\n                            <LogoContainer />\n                        </Navbar.Brand>\n                    </Link>\n                    <Navbar.Toggle />\n                    <Navbar.Collapse>\n                        <Nav className=\"ml-auto\">\n                            <Nav.Item>\n                                <UserBox />\n                            </Nav.Item>\n                        </Nav>\n                    </Navbar.Collapse>\n                </Navbar>\n            </Nav>\n        )\n    }\n}\n\nexport default withRouter(DashboardHeader);","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport { Container, Form, Button, Modal, Spinner } from 'react-bootstrap';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport Axios from 'axios';\n\nimport firebase from '../utils/firebase';\nimport Utils from '../utils';\n\nclass ExportPopup extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            exportType: 'txt'\n        }\n    }\n\n    getTranscriptionData = async () => {\n        const { file } = this.props;\n        try {\n            var storageRef = firebase.storage().ref(file.transcribedFile.filePath);\n            let downloadUrl = await storageRef.getDownloadURL()\n            let { data } = await Axios.get(downloadUrl)\n            return data\n        } catch (error) {\n            console.log('getTranscriptionData err:', error)\n        }\n    }\n\n    downloadAsTxt = async () => {\n        var that = this;\n        var { file } = this.props;\n        this.setState({ showSpinner: true });\n\n        var getTxtFile = firebase.functions().httpsCallable('getTxtFile');\n        getTxtFile({\n            fileId: file.id\n        }).then(({ data }) => {\n            var storageRef = firebase.storage().ref(data.filePath);\n            var fileName = file.name.replace(/,/g, '').replace(/'/g, '').replace(/ /g, '_');\n            fileName = fileName.substr(0, fileName.lastIndexOf('.')) + '.txt';\n            var newMetadata = {\n                contentDisposition: `attachment;filename=${fileName}`\n            }\n            storageRef.updateMetadata(newMetadata)\n                .then((metadata) => {\n                    storageRef.getDownloadURL().then((downloadUrl) => {\n                        const element = document.createElement(\"a\");\n                        element.href = downloadUrl;\n                        element.click();\n                        that.props.closeModal();\n                        this.setState({ showSpinner: false });\n                    });\n                })\n        }).catch((err) => {\n            // TODO: GET_SRT_FILE_ERROR\n            console.log(err);\n        });\n    }\n\n    downloadAsDocx = async () => {\n        var that = this;\n        var { file } = this.props;\n        this.setState({ showSpinner: true });\n\n        var getDocxFile = firebase.functions().httpsCallable('getDocxFile');\n        getDocxFile({\n            fileId: file.id\n        }).then(({ data }) => {\n            var storageRef = firebase.storage().ref(data.filePath);\n            var fileName = file.name.replace(/,/g, '').replace(/'/g, '').replace(/ /g, '_');\n            fileName = fileName.substr(0, fileName.lastIndexOf('.')) + '.docx';\n            var newMetadata = {\n                contentDisposition: `attachment;filename=${fileName}`\n            }\n            storageRef.updateMetadata(newMetadata)\n                .then(() => {\n                    storageRef.getDownloadURL().then((downloadUrl) => {\n                        const element = document.createElement(\"a\");\n                        element.href = downloadUrl;\n                        element.click();\n                        that.props.closeModal();\n                        this.setState({ showSpinner: false });\n                    });\n                })\n        }).catch((err) => {\n            // TODO: GET_DOCX_FILE_ERROR\n            console.log(err);\n        });\n    }\n\n    downloadAsSrt = async () => {\n        var that = this;\n        var { file } = this.props;\n        this.setState({ showSpinner: true });\n\n        var getSrtFile = firebase.functions().httpsCallable('getSrtFile');\n        getSrtFile({\n            fileId: file.id\n        }).then(({ data }) => {\n            var storageRef = firebase.storage().ref(data.filePath);\n            var fileName = file.name.replace(/,/g, '').replace(/'/g, '').replace(/ /g, '_');\n            fileName = fileName.substr(0, fileName.lastIndexOf('.')) + '.srt';\n            var newMetadata = {\n                contentDisposition: `attachment;filename=${fileName}`\n            }\n            storageRef.updateMetadata(newMetadata)\n                .then((metadata) => {\n                    storageRef.getDownloadURL().then((downloadUrl) => {\n                        const element = document.createElement(\"a\");\n                        element.href = downloadUrl;\n                        element.click();\n                        that.props.closeModal();\n                        this.setState({ showSpinner: false });\n                    });\n                })\n        }).catch((err) => {\n            // TODO: GET_SRT_FILE_ERROR\n            console.log(err);\n        });\n    }\n\n    downloadFile = () => {\n        const { exportType } = this.state;\n        switch (exportType) {\n            case 'srt':\n                this.downloadAsSrt();\n                break;\n            case 'txt':\n                this.downloadAsTxt();\n                break;\n            case 'docx':\n                this.downloadAsDocx();\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleExportTypeChange = (e) => {\n        this.setState({\n            exportType: e.target.value\n        })\n    }\n\n    render() {\n        const { formatMessage } = this.props.intl;\n        return (\n            <Modal show={this.props.show} onHide={this.props.closeModal} size='md' className='export-modal' centered dialogClassName=\"export-modal\">\n                <div>\n                    <Modal.Header closeButton>\n                        <div className='export-info-page-header'>\n                            Select the type you want to export\n                        </div>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <Container>\n                            <Form>\n                                <Form.Control\n                                    as='select'\n                                    defaultValue='txt'\n                                    required\n                                    onChange={this.handleExportTypeChange}\n                                >\n                                    <option></option>\n                                    <option key='txt' value='txt'>\n                                        {formatMessage({ id: 'Transcription.Download.option1' })}\n                                    </option>\n                                    <option key='docx' value='docx'>\n                                        {formatMessage({ id: 'Transcription.Download.option2' })}\n                                    </option>\n                                    <option key='srt' value='srt'>\n                                        {formatMessage({ id: 'Transcription.Download.option3' })}\n                                    </option>\n                                </Form.Control>\n                                <Form.Control.Feedback type=\"invalid\">\n                                    <FormattedMessage id='UploadPopup.Feedback.spokenLanguage' />\n                                </Form.Control.Feedback>\n                            </Form>\n                        </Container>\n                    </Modal.Body>\n                    <Modal.Footer className='float-right'>\n                        <Button variant=\"danger\" onClick={this.props.closeModal}>\n                            <FormattedMessage id='UploadPopup.cancelButton' />\n                        </Button>\n                        <Button type='submit' variant=\"success\" onClick={this.downloadFile}>\n                            {\n                                this.state.showSpinner &&\n                                <Spinner\n                                    as=\"span\"\n                                    animation=\"border\"\n                                    size=\"sm\"\n                                    role=\"status\"\n                                    aria-hidden=\"true\"\n                                />\n                            }{\n                                !this.state.showSpinner &&\n                                <div>Export</div>\n                            }\n                        </Button>\n                    </Modal.Footer>\n                </div>\n            </Modal>\n        )\n    }\n}\n\nexport default injectIntl(ExportPopup);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { Spinner } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDatabase, faClock, faCalendar, faFileDownload, faCheckSquare } from '@fortawesome/free-solid-svg-icons';\n\nimport ExportPopup from '../components/export-popup';\nimport FileLogo from '../assets/default-file-image.png';\nimport firebase from '../utils/firebase';\nimport Utils from '../utils';\nimport { addFile, updateFile, updateFileState, updateFileInState, removeFromUploadingFiles, setUploadingFileProgress } from '../actions';\nimport Axios from 'axios';\n\nclass File extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            file: props.file,\n            progress: undefined,\n            paused: false,\n            fileSrc: FileLogo\n        }\n    }\n\n    downloadThumbnail() {\n        const { file } = this.state;\n\n        if (!file || !file.thumbnail) return;\n\n        var ref = firebase.storage().ref(file.thumbnail.filePath);\n        ref.getDownloadURL().then((downloadUrl) => {\n            Axios.get(downloadUrl)\n                .then((url) => {\n                    this.setState({\n                        fileSrc: url.config.url\n                    })\n                });\n        })\n            .catch(error => {\n                // TODO: GET_DOWNLOAD_URL_ERROR\n                console.log(error);\n            })\n    }\n\n    componentDidMount() {\n        this.downloadThumbnail();\n        this.initUploadIfNecessary(this.props.file);\n    }\n\n    componentWillUpdate({ file, uploadingFiles }) {\n        var fileObj = _.find(uploadingFiles, { id: file.id });\n        if (file.status === 'UPLOADING' && !_.isEmpty(fileObj)) {\n            // this.setState({\n            //     progress: fileObj.progress\n            // });\n            return false;\n        }\n        return true;\n    }\n\n    componentWillReceiveProps({ file, uploadingFiles }) {\n        this.initUploadIfNecessary(file, uploadingFiles);\n    }\n\n    initUploadIfNecessary = (file, uploadingFiles) => {\n        var fileObj = _.find(uploadingFiles, { id: file.id });\n        if (file.status === 'INITIAL' && !_.isEmpty(fileObj)) {\n            file.file = fileObj.file;\n            this.uploadFile(file);\n            this.setState({\n                progress: 0,\n                paused: false\n            });\n        }\n        var progress = this.state.progress;\n        if (file.status === 'PROCESSING') {\n            progress = file.transcribedFile ? file.transcribedFile.progress : 0;\n        }\n        this.setState({\n            file,\n            progress\n        });\n    }\n\n    uploadFile = (file) => {\n        var that = this;\n        const { user } = this.props;\n        const fileExtension = file.name.substr(file.name.lastIndexOf('.') + 1);\n        var storageRef = firebase.storage().ref(`userfiles/${user.uid}/${file.id}/originalFile/${file.id}.${fileExtension}`);\n\n        this.setState({ progress: 0 });\n\n        var uploadTask = storageRef.put(file.file);\n        // this.props.onSelected(this.props.index);\n\n        file.status = 'UPLOADING';\n        this.props.updateFileInState(file);\n        uploadTask.on('state_changed', (snapshot) => {\n            var progress = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n            this.props.setUploadingFileProgress(file.id, progress);\n            if (progress < 100) {\n                that.setState({ progress });\n            }\n\n            switch (snapshot.state) {\n                case firebase.storage.TaskState.PAUSED:\n                    break;\n                case firebase.storage.TaskState.RUNNING:\n                    break;\n                default:\n                    break;\n            }\n        }, (error) => {\n            // TODO: UPLOAD_FILE_ERROR\n            // List of Error codes for storage can be found at\n            // https://firebase.google.com/docs/storage/web/handle-errors#handle_error_messages\n            that.setState({ error })\n        }, () => {\n            uploadTask.snapshot.ref.getDownloadURL().then(async (downloadURL) => {\n                if (that.state.progress < 100) {\n                    that.setState({ progress: 100 });\n                    file.originalFile.filePath = uploadTask.location_.path_;\n                    file.originalFile.url = downloadURL;\n                    file = _.omit(file, 'file');\n                    file.status = 'UPLOADED';\n\n                    if (!_.isEmpty(this.props.selectedFileOptions)) {\n                        file.options = this.props.selectedFileOptions;\n                    }\n\n                    await this.props.updateFile(file, { originalFile: file.originalFile });\n                    await this.props.updateFileState(file.id, 'UPLOADED');\n                    this.props.removeFromUploadingFiles(file.id);\n                }\n            });\n        });\n        this.setState({\n            uploadTask\n        });\n    }\n\n    /* pauseUpload = () => {\n        this.setState({\n            paused: true\n        });\n        this.state.uploadTask.pause();\n    } */\n\n    /* resumeUpload = () => {\n        this.setState({\n            paused: false\n        });\n        this.state.uploadTask.resume();\n    } */\n\n    /* editFile = (e) => {\n        e.preventDefault();\n        this.props.editFile(this.state.file.index);\n    } */\n\n    /* transcribeFile = () => {\n        var { file } = this.state;\n        if (_.isEmpty(file.options) || !file.options.language) {\n            this.props.onSelected(this.props.index);\n        } else {\n            this.props.updateFileState(file.id, 'READY');\n        }\n    } */\n\n    getErrorMessage = (file) => {\n        const { errorDefinitions } = this.props;\n        if (file.status !== 'ERROR') return '';\n        if (_.isEmpty(errorDefinitions) || _.isEmpty(file.error)) return \"An error occured during transcription!\";\n        let error = _.find(errorDefinitions, { key: file.error.key });\n        if (!_.isEmpty(error)) {\n            return error.value;\n        }\n        return '';\n    }\n\n    getFileStatus = (status) => {\n        const { progress } = this.state;\n        switch (status) {\n            case 'ERROR':\n                return 'Error';\n            case 'UPLOADING':\n                return `Uploading (${progress}%)`\n            case 'READY':\n            case 'UPLOADED':\n            case 'CONVERTING':\n            case 'PROCESSING':\n            case 'TRANSCRIBING':\n                return 'Processing...';\n            case 'DONE':\n                return 'Transcribed ✓'\n            default:\n                return '';\n        }\n    }\n\n    getFileStatusClassName = (status) => {\n        switch (status) {\n            case 'ERROR':\n                return 'error';\n            case 'UPLOADED':\n            case 'READY':\n            case 'CONVERTING':\n            case 'PROCESSING':\n            case 'TRANSCRIBING':\n                return 'processing';\n            case 'DONE':\n                return 'transcribed'\n            default:\n                return '';\n        }\n    }\n\n    deleteFile = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        // this.setState({ showSpinner: true });\n        this.props.deleteFile(this.props.file.id);\n    }\n\n    openInEditor = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { file } = this.props;\n        if (file.status === 'DONE') {\n            this.props.openInEditor(this.props.file.id);\n        }\n    }\n\n    exportClicked = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.setState({ showExportPopup: true })\n    }\n\n    closeExportModal = (e) => {\n        this.setState({ showExportPopup: false });\n    }\n\n    fileSelected = (e) => {\n        console.log('fileSelected')\n        this.props.onSelected(this.state.file);\n    }\n\n    render() {\n        const { file, progress, fileSrc } = this.state;\n\n        let duration = '';\n        let size = '';\n        let createDate = '';\n        if (file && file.originalFile) {\n            const { originalFile } = file;\n            if (originalFile.originalDuration) {\n                duration = Utils.formatTime(originalFile.originalDuration);\n            }\n            if (originalFile.size) {\n                size = Utils.formatSizeByteToMB(originalFile.size) + ' MB';\n            }\n            if (originalFile.createDate) {\n                createDate = Utils.formatDateSimpleFormat(originalFile.createDate);\n            }\n        }\n        return (\n            <div className={`file-container ${file.status === 'DONE' ? 'completed ' : ''}${this.props.isSelected ? 'active' : ''}`}>\n                {\n                    (this.state.showSpinner || this.props.showSpinner) &&\n                    <span className='file-spinner'>\n                        <Spinner animation=\"border\" role=\"status\" size='sm' variant='danger' />\n                    </span>\n                }\n                <div onClick={this.openInEditor} className='file-image-container'>\n                    <img src={fileSrc} alt={file.name + ' thumbnail'} />\n                </div>\n                <div className='file-body-container'>\n                    <div className='file-header'>\n                        {file.name}\n                    </div>\n                    <div className='file-body'>\n                        <div>\n                            <FontAwesomeIcon\n                                icon={faDatabase}\n                                title='File Size'\n                                className='file-info-image'\n                            />\n                            {size}\n                        </div>\n                        <div>\n                            <FontAwesomeIcon\n                                icon={faClock}\n                                title='File Duration'\n                                className='file-info-image'\n                            />\n                            {duration}\n                        </div>\n                        <div>\n                            <FontAwesomeIcon\n                                icon={faCalendar}\n                                title='File Size'\n                                className='file-info-image'\n                            />\n                            {createDate}\n                        </div>\n                    </div>\n                    <div className={`file-footer`}>\n                        <div className='file-buttons'>\n                            <div className='file-button' id='select' onClick={this.fileSelected}>\n                                <div className='file-select-checkbox-container'>\n                                    <input readOnly type=\"checkbox\" checked={this.props.isSelected} />\n                                </div>\n                                <span>Select</span>\n                            </div>\n                            <div className='file-button' id='export' onClick={this.exportClicked}>\n                                <div>\n                                    <FontAwesomeIcon\n                                        icon={faFileDownload}\n                                        title='Export'\n                                        className='file-info-image'\n                                        style={{ color: 'darkslateblue' }}\n                                    />\n                                </div>\n                                <span>Export</span>\n                            </div>\n                        </div>\n                        <div className={`file-status ${this.getFileStatusClassName(file.status)}`}>\n                            {\n                                this.getFileStatus(file.status)\n                            }\n                        </div>\n                    </div>\n                </div>\n                <ExportPopup\n                    show={this.state.showExportPopup}\n                    file={this.props.file}\n                    closeModal={this.closeExportModal}\n                />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({ user, selectedFile, selectedFileOptions, uploadingFiles, errorDefinitions }) => {\n    return {\n        user,\n        selectedFile,\n        selectedFileOptions,\n        uploadingFiles,\n        errorDefinitions\n    }\n}\n\nexport default connect(mapStateToProps, { addFile, updateFile, updateFileState, updateFileInState, removeFromUploadingFiles, setUploadingFileProgress })(File);","import React from 'react';\nimport { FormattedHTMLMessage } from 'react-intl';\nimport { Modal, Button } from 'react-bootstrap';\n\nconst ApprovementPopup = (props) => {\n    const {\n        show, size,\n        headerText, bodyText, bodySubText,\n        successButtonVariant, successButton, handleSuccess,\n        cancelButtonVariant, cancelButton, handleCancel, hideCancelButton } = props;\n    return (\n        <div>\n            <Modal show={show} size={size ? size : 'md'}>\n                <Modal.Header>\n                    <b>\n                        {headerText.id ? <FormattedHTMLMessage id={headerText.id} values={headerText.values || {}} /> : headerText}\n                    </b>\n                </Modal.Header>\n                <Modal.Body>\n                    {bodyText.id ? <FormattedHTMLMessage id={bodyText.id} values={bodyText.values || {}} /> : bodyText}\n                    <br />\n                    <p>\n                        {bodySubText ? (bodySubText.id ? <FormattedHTMLMessage id={bodySubText.id} values={bodySubText.values || {}} /> : bodySubText) : ''}\n                    </p>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant={successButtonVariant || 'success'} onClick={handleSuccess}>\n                        {successButton ? (successButton.id ? <FormattedHTMLMessage id={successButton.id} values={successButton.values || {}} /> : successButton) : 'Confirm'}\n                    </Button>\n                    {\n                        !hideCancelButton &&\n                        <Button variant={cancelButtonVariant || 'danger'} onClick={handleCancel}>\n                            {cancelButton ? (cancelButton.id ? <FormattedHTMLMessage id={cancelButton.id} values={cancelButton.values || {}} /> : cancelButton) : 'Cancel'}\n                        </Button>\n                    }\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ApprovementPopup;","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport _ from 'lodash';\nimport { FormattedMessage, FormattedHTMLMessage, injectIntl } from 'react-intl';\nimport { Container, Card, Form, Button, Modal, Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCheck } from '@fortawesome/free-solid-svg-icons';\nimport SAlert from 'react-s-alert';\nimport TagsInput from 'react-tagsinput';\nimport 'react-tagsinput/react-tagsinput.css';\n\nimport Utils from '../utils';\n\nconst ModalPageNames = { INFO: 0, UPLOAD: 1, ERROR: 2, SUCCESS: 3 };\n\nclass UploadPopup extends Component {\n    constructor(props) {\n        super(props);\n        this.fileInputRef = React.createRef();\n\n        var options = !_.isEmpty(props.file) ? props.file.options : {};\n        if (!options.context) options.context = [];\n        this.state = {\n            editFileName: false,\n            options,\n            fileName: props.file ? props.file.name : '',\n            activeWindow: ModalPageNames.INFO\n        };\n\n        this.textRef = null;\n        this.setTextRef = (element) => {\n            this.textRef = element;\n        };\n    }\n\n    componentWillReceiveProps({ file, initUploadPopup }) {\n        if (initUploadPopup) {\n            this.setState({\n                activeWindow: ModalPageNames.INFO\n            });\n        }\n        if (_.isEmpty(file)) return;\n        var options = file.options || {};\n        options.context = options.context || [];\n        this.setState({\n            options,\n            fileName: file.name,\n            editFileName: false\n        });\n    }\n\n    openFileDialog = () => {\n        const { user, file } = this.props;\n\n        Utils.logError({\n            uid: user.uid,\n            fileId: file ? file.id : null,\n            text: 'openFileDialog clicked'\n        });\n        const { intl } = this.props;\n        if (!_.isEmpty(this.props.uploadingFiles)) {\n            Alert.error(\n                intl.formatMessage({\n                    id: 'Dropzone.multipleFileError'\n                })\n            );\n            return;\n        }\n        Utils.logError({\n            uid: user.uid,\n            fileId: file ? file.id : null,\n            text: 'openFileDialog fileRef: ' + (this.fileInputRef.current ? this.fileInputRef.current.outerHTML : null)\n        });\n        this.fileInputRef.current.value = '';\n        this.fileInputRef.current.click();\n    };\n\n    onFileAdded = (evt) => {\n        let newOptions = { context: [] };\n        this.setState({\n            options: newOptions\n        });\n        const files = evt.target.files;\n        if (this.props.onFileAdded && !_.isEmpty(files)) {\n            const file = files[0];\n\n            const sizeInMB = Utils.formatSizeByteToMB(file.size);\n            if (sizeInMB > 1024) {\n                this.setState({\n                    activeWindow: ModalPageNames.ERROR,\n                    fileValidationErrorTitleId: 'FileUpload.fileSizeErrorTitle',\n                    fileValidationErrorId: 'FileUpload.fileSizeError'\n                });\n            } else {\n                this.validateFileDuration(file);\n            }\n        }\n    };\n\n    validateFileDuration = (file) => {\n        var media = document.createElement(file.type.startsWith('audio') ? 'audio' : 'video');\n        media.onloadedmetadata = () => {\n            let fileDurationInSeconds = parseInt(media.duration);\n            let fileDurationInMinutes = Math.ceil(fileDurationInSeconds / 60);\n\n            if (fileDurationInMinutes > 180) {\n                this.setState({\n                    activeWindow: ModalPageNames.ERROR,\n                    fileValidationErrorTitleId: 'FileUpload.fileDurationErrorTitle',\n                    fileValidationErrorId: 'FileUpload.fileDurationError'\n                });\n            } else {\n                this.props.onFileAdded(file);\n                this.setState({\n                    activeWindow: ModalPageNames.UPLOAD\n                });\n            }\n        };\n        media.src = URL.createObjectURL(file);\n    };\n\n    handleFileNameChange = (event) => {\n        this.setState({\n            fileName: event.target.value\n        });\n    };\n\n    saveFileName = () => {\n        const { formatMessage } = this.props.intl;\n        const { fileName, options } = this.state;\n        if (_.isEmpty(fileName)) {\n            SAlert.error(formatMessage({ id: 'UploadPopup.Error.emptyFileName' }));\n            return;\n        }\n        options.fileName = fileName;\n        this.setState({\n            editFileName: false,\n            options\n        });\n    };\n\n    handleOptionsChange = (name, value) => {\n        var { options } = this.state;\n        let val = value;\n        if (name === 'speakerCount' && value < 1) {\n            val = 1;\n        }\n        options[name] = val;\n        this.setState({\n            options\n        });\n    };\n\n    editFileName = () => {\n        this.setState({ editFileName: true });\n    };\n\n    renderFileName = () => {\n        const { fileName } = this.state;\n        if (this.state.editFileName) {\n            return (\n                <div>\n                    <Form.Group>\n                        <Form.Label>\n                            <FormattedMessage id='UploadPopup.Label.fileName' />\n                        </Form.Label>\n                        <div className='d-flex'>\n                            <Form.Control\n                                type='text'\n                                value={fileName || ''}\n                                onChange={this.handleFileNameChange}\n                                onBlur={this.saveFileName}\n                                ref={(i) => (i ? ReactDOM.findDOMNode(i).focus() : '')}\n                                className='file-name-edit'\n                            />\n                            <Button variant='success' className='float-right ml-3' onClick={() => this.setState({ editFileName: false })}>\n                                <FontAwesomeIcon icon={faCheck} onClick={this.saveFileName} />\n                            </Button>\n                        </div>\n                    </Form.Group>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <Form.Group>\n                        <Form.Label>\n                            <FormattedMessage id='UploadPopup.Label.fileName' />\n                        </Form.Label>\n                        <br />\n                        <Form.Label onClick={this.editFileName} className='name'>\n                            {fileName}\n                        </Form.Label>\n                    </Form.Group>\n                </div>\n            );\n        }\n    };\n\n    submitForm = (event) => {\n        const form = event.currentTarget;\n        event.preventDefault();\n        event.stopPropagation();\n        if (form.checkValidity() === true) {\n            const { file } = this.props;\n            var { options } = this.state;\n            options.autoTranscribe = true;\n            file.options = _.merge(file.options, options);\n\n            this.props.approveFileUpload(file.options);\n            this.setState({\n                validated: true,\n                activeWindow: ModalPageNames.SUCCESS\n            });\n        } else {\n            this.setState({\n                validated: false\n            });\n        }\n    };\n\n    cancelClicked = () => {\n        this.setState(\n            {\n                activeWindow: ModalPageNames.INFO\n            },\n            () => {\n                this.props.cancelFileUpload();\n            }\n        );\n    };\n\n    closePopup = () => {\n        this.setState(\n            {\n                activeWindow: ModalPageNames.INFO\n            },\n            () => {\n                this.props.closeFileUploadPopup();\n            }\n        );\n    };\n\n    renderWindows = () => {\n        const { activeWindow } = this.state;\n\n        if (activeWindow === ModalPageNames.INFO) {\n            return this.renderInfoWindow();\n        } else if (activeWindow === ModalPageNames.UPLOAD) {\n            return this.renderUploadUptions();\n        } else if (activeWindow === ModalPageNames.ERROR) {\n            return this.renderError();\n        } else if (activeWindow === ModalPageNames.SUCCESS) {\n            return this.renderSuccess();\n        }\n    };\n\n    renderInfoWindow = () => {\n        return (\n            <div>\n                <Modal.Header>\n                    <div className='upload-info-page-header'>\n                        <FormattedMessage id='UploadPopup.InfoWindow.title' />\n                    </div>\n                </Modal.Header>\n                <Modal.Body>\n                    <Container>\n                        <ul className='fa-ul'>\n                            <li>\n                                <span className='fa-li'>\n                                    <i className='fa fa-check fa-2x' />\n                                </span>\n                                <label>\n                                    <FormattedMessage id='UploadPopup.InfoWindow.info1' />\n                                </label>\n                            </li>\n                            <li>\n                                <span className='fa-li'>\n                                    <i className='fa fa-check fa-2x' />\n                                </span>\n                                <label>\n                                    <FormattedMessage id='UploadPopup.InfoWindow.info2' />\n                                </label>\n                            </li>\n                            <li>\n                                <span className='fa-li'>\n                                    <i className='fa fa-check fa-2x' />\n                                </span>\n                                <label>\n                                    <FormattedMessage id='UploadPopup.InfoWindow.info3' />\n                                </label>\n                            </li>\n                        </ul>\n                    </Container>\n                </Modal.Body>\n                <Modal.Footer className='float-right'>\n                    <Button variant='danger' onClick={this.cancelClicked}>\n                        <FormattedMessage id='UploadPopup.cancelButton' />\n                    </Button>\n                    <Button variant='success' onClick={this.openFileDialog}>\n                        <FormattedMessage id='UploadPopup.infoConfirmButton' />\n                        <span>\n                            <i className='fa fa-arrow-right'></i>\n                        </span>\n                    </Button>\n                </Modal.Footer>\n            </div>\n        );\n    };\n\n    renderUploadUptions = () => {\n        const { supportedLanguages, intl } = this.props;\n        const { options } = this.state;\n        const disabled = false; //file.status === 'PROCESSING' || file.status === 'DONE';\n        let selectedLanguage = options.language;\n        // if(selectedLanguage.indexOf('-') > -1) selectedLanguage = selectedLanguage.substr(0, selectedLanguage.indexOf('-'));\n\n        return (\n            <div>\n                <Modal.Header>\n                    <b>\n                        <FormattedMessage id='UploadPopup.header' />\n                    </b>\n                </Modal.Header>\n                <Form className='form-options' validated={this.state.validated} onSubmit={this.submitForm}>\n                    <Modal.Body>\n                        <Container className='upload-popup-filename'>{this.renderFileName()}</Container>\n                        <Card>\n                            <Card.Body>\n                                <Form.Group>\n                                    <Form.Label>\n                                        <FormattedMessage id='UploadPopup.Label.spokenLanguage' />\n                                    </Form.Label>\n                                    <Form.Control\n                                        as='select'\n                                        defaultValue={selectedLanguage}\n                                        disabled={disabled}\n                                        required\n                                        onChange={(e) => this.handleOptionsChange('language', e.target.value)}\n                                    >\n                                        <option key='' value=''></option>\n                                        {supportedLanguages.map((lang) => {\n                                            return (\n                                                <option key={lang.key} value={lang.key} className={lang.key.startsWith('ar-') ? 'direction-rtl' : ''}>\n                                                    {lang.value}\n                                                </option>\n                                            );\n                                        })}\n                                    </Form.Control>\n                                    <Form.Control.Feedback type='invalid'>\n                                        <FormattedMessage id='UploadPopup.Feedback.spokenLanguage' />\n                                    </Form.Control.Feedback>\n                                </Form.Group>\n                                <br />\n                                <Form.Group>\n                                    <Form.Label>\n                                        <FormattedMessage id='UploadPopup.Label.numberOfSpeakers' />\n                                    </Form.Label>\n                                    <Form.Control\n                                        type='number'\n                                        required\n                                        disabled={disabled}\n                                        min={1}\n                                        max={10}\n                                        value={options.speakerCount}\n                                        onChange={(e) => this.handleOptionsChange('speakerCount', e.target.value)}\n                                    />\n                                    <Form.Control.Feedback type='invalid'>\n                                        <FormattedMessage id='UploadPopup.Feedback.numberOfSpeakers' />\n                                    </Form.Control.Feedback>\n                                </Form.Group>\n                                <br />\n                                <Form.Group>\n                                    <Form.Label>\n                                        <FormattedMessage id='UploadPopup.Label.context' />\n                                    </Form.Label>\n                                    <TagsInput\n                                        value={options.context}\n                                        disabled={disabled}\n                                        className={`react-tagsinput ${disabled ? 'disabled' : ''}`}\n                                        onChange={(tags) => this.handleOptionsChange('context', tags)}\n                                        addOnBlur={true}\n                                    />\n                                </Form.Group>\n                                <br />\n                                <Form.Group>\n                                    <Alert variant='success'>{intl.formatMessage({ id: 'UploadPopup.infoText' })}</Alert>\n                                </Form.Group>\n                            </Card.Body>\n                        </Card>\n                    </Modal.Body>\n                    <Modal.Footer className='float-right'>\n                        <Button variant='danger' onClick={this.cancelClicked}>\n                            <FormattedMessage id='UploadPopup.cancelButton' />\n                        </Button>\n                        <Button type='submit' variant='success'>\n                            <FormattedMessage id='UploadPopup.submitButton' />\n                        </Button>\n                    </Modal.Footer>\n                </Form>\n            </div>\n        );\n    };\n\n    renderError = () => {\n        let { fileValidationErrorTitleId, fileValidationErrorId } = this.state;\n        if (!fileValidationErrorTitleId) fileValidationErrorTitleId = 'FileUpload.fileSizeErrorTitle';\n        if (!fileValidationErrorId) fileValidationErrorId = 'FileUpload.fileSizeError';\n\n        return (\n            <div>\n                <Modal.Header>\n                    <b>\n                        <FormattedMessage id={fileValidationErrorTitleId} />\n                    </b>\n                </Modal.Header>\n                <Modal.Body>\n                    <Container>\n                        <p>\n                            <FormattedMessage id={fileValidationErrorId} />\n                        </p>\n                    </Container>\n                </Modal.Body>\n                <Modal.Footer className='float-right'>\n                    <Button variant='danger' onClick={this.cancelClicked}>\n                        <FormattedMessage id='UploadPopup.cancelButton' />\n                    </Button>\n                    <Button onClick={this.openFileDialog}>\n                        <FormattedMessage id='UploadPopup.retryButton' />\n                    </Button>\n                </Modal.Footer>\n            </div>\n        );\n    };\n\n    renderSuccess = () => {\n        return (\n            <div>\n                <Modal.Header>\n                    <b>\n                        <FormattedMessage id='FileUpload.successTitle' />\n                    </b>\n                </Modal.Header>\n                <Modal.Body>\n                    <Container>\n                        <p>\n                            <FormattedHTMLMessage id='FileUpload.successMessage' />\n                        </p>\n                    </Container>\n                </Modal.Body>\n                <Modal.Footer className='float-right'>\n                    <Button variant='success' onClick={this.closePopup}>\n                        <FormattedMessage id='UploadPopup.closeButton' />\n                    </Button>\n                </Modal.Footer>\n            </div>\n        );\n    };\n\n    render() {\n        return (\n            <Modal\n                show={this.props.show}\n                onHide={() => {}}\n                size='lg'\n                className={this.state.activeWindow === ModalPageNames.ERROR ? '' : 'upload-modal'}\n                centered\n            >\n                {this.renderWindows()}\n                <input ref={this.fileInputRef} className='file-input' type='file' onChange={this.onFileAdded} accept='audio/*, video/*' />\n            </Modal>\n        );\n    }\n}\n\nexport default injectIntl(UploadPopup);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport _ from 'lodash';\nimport { injectIntl } from 'react-intl';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCloudUploadAlt, faEdit, faTrash, faCloudDownloadAlt } from '@fortawesome/free-solid-svg-icons';\nimport Alert from 'react-s-alert';\n\nimport firebase from '../../utils/firebase';\nimport { getFileList, addFile, setSelectedFile, addToUploadingFiles, updateFileState, removeFromUploadingFiles } from '../../actions';\nimport '../../styles/file.css';\nimport '../../styles/dashboard.css';\n\nimport File from '../../components/file';\nimport ApprovementPopup from '../../components/approvement-popup';\nimport UploadPopup from '../../components/upload-popup';\nimport ExportPopup from '../../components/export-popup';\n\nclass FileList extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            files: [],\n            selectedFiles: []\n        };\n    }\n\n    componentWillReceiveProps({ files, uploadingFiles }) {\n        if (!_.isEmpty(files)) {\n            _.each(files, (file) => {\n                if (file.status === 'INITIAL' && (_.isEmpty(uploadingFiles) || _.isEmpty(_.find(uploadingFiles, { id: file.id })))) {\n                    this.props.updateFileState(file.id, 'DELETED');\n                }\n            });\n        }\n        if (!_.isEmpty(this.state.filterValue)) {\n            files = _.filter(files, (file) => {\n                return file.name.toLowerCase().indexOf(this.state.filterValue.toLowerCase()) > -1;\n            });\n        }\n        this.setState({\n            files\n        });\n    }\n\n    onFileAdded = async (file) => {\n        if (!this.props.emailVerified) {\n            console.log('file-list onFileAdded emailNotVerified so returns;');\n            return;\n        }\n        var that = this;\n        var media = document.createElement(file.type.startsWith('audio') ? 'audio' : 'video');\n        media.onloadedmetadata = () => {\n            const { currentPlan } = this.props.user;\n            let fileDurationInSeconds = parseInt(media.duration);\n            let fileDurationInMinutes = Math.ceil(fileDurationInSeconds / 60);\n            // TODO: file duration check should be active for only existing users\n            if (currentPlan.remainingMinutes <= 0) {\n                that.setState({\n                    selectedFileDuration: fileDurationInMinutes,\n                    showApprovement: true,\n                    showUploadPopup: false,\n                    initUploadPopup: true\n                });\n            } else {\n                this.onFileValidated(file, fileDurationInMinutes, media.duration);\n            }\n        };\n        media.src = URL.createObjectURL(file);\n    };\n\n    goToPayment = () => {\n        this.setState({\n            selectedFileDuration: '',\n            showApprovement: false\n        });\n        this.props.history.push('/user#payment');\n    };\n\n    uploadClicked = () => {\n        if (!_.isEmpty(this.props.uploadingFiles)) {\n            Alert.error(\n                this.props.intl.formatMessage({\n                    id: 'FileUpload.multipleFileError'\n                })\n            );\n            return;\n        }\n        this.setState({\n            showUploadPopup: true\n        });\n    };\n\n    cancelFileUpload = () => {\n        this.setState({\n            selectedFileDuration: '',\n            showApprovement: false,\n            showUploadPopup: false,\n            initUploadPopup: true\n        });\n    };\n\n    closeFileUploadPopup = () => {\n        this.setState({\n            selectedFileDuration: '',\n            showUploadPopup: false\n        });\n    };\n\n    onFileValidated = async (file, fileDurationInMinutes, durationInNanoSeconds) => {\n        var { name, size, type } = file;\n        var fileObj = {\n            originalFile: {\n                name,\n                size,\n                duration: fileDurationInMinutes,\n                originalDuration: durationInNanoSeconds,\n                createDate: new Date()\n            },\n            options: {\n                type\n            },\n            name,\n            status: 'INITIAL'\n        };\n\n        const { id } = await firebase.firestore().collection('userfiles').doc(this.props.user.uid).collection('files').doc();\n        fileObj.id = id;\n        this.setState({\n            showUploadPopup: true,\n            initUploadPopup: false,\n            fileToUpload: fileObj,\n            selectedFile: file\n        });\n    };\n\n    approveFileUpload = (options) => {\n        var { fileToUpload, selectedFile } = this.state;\n        if (fileToUpload && selectedFile) {\n            fileToUpload.options = Object.assign({}, fileToUpload.options, options);\n            if (options.fileName) {\n                fileToUpload.name = options.fileName;\n            }\n\n            this.props.addFile(fileToUpload);\n\n            fileToUpload.file = selectedFile;\n            this.props.addToUploadingFiles(fileToUpload.id, selectedFile);\n            this.props.setSelectedFile(fileToUpload);\n            this.setState({\n                fileToUpload: undefined,\n                selectedFile: undefined\n            });\n        }\n    };\n\n    onFileSelected = (file) => {\n        const { selectedFiles } = this.state;\n        if (!selectedFiles.includes(file.id)) {\n            selectedFiles.push(file.id);\n        } else {\n            selectedFiles.splice(selectedFiles.indexOf(file.id), 1);\n        }\n        this.setState({\n            selectedFiles\n        });\n        /* if (file.status === 'DONE') {\n            // const { files } = this.state;\n            // const selectedFile = files[index];\n            // this.props.setSelectedFile(selectedFile);\n            const { selectedFiles } = this.state;\n            if (!selectedFiles.includes(file.id)) {\n                selectedFiles.push(file.id);\n            } else {\n                selectedFiles.splice(selectedFiles.indexOf(file.id), 1);\n            }\n            this.setState({\n                selectedFiles\n            })\n        } */\n    };\n\n    filterFiles = (e) => {\n        let value = e.target.value;\n        let { files } = this.state;\n        if (_.isEmpty(value)) {\n            files = this.props.files;\n        } else {\n            files = _.filter(files, function (file) {\n                return file.name.toLowerCase().indexOf(value.toLowerCase()) > -1;\n            });\n        }\n        this.setState({\n            files,\n            filterValue: value\n        });\n    };\n\n    deleteFiles = (fileId) => {\n        const filesToDelete = [];\n        const { selectedFiles } = this.state;\n\n        if (!_.isEmpty(fileId)) {\n            filesToDelete.push(fileId);\n        } else if (!_.isEmpty(selectedFiles)) {\n            selectedFiles.forEach((fileId) => {\n                filesToDelete.push(fileId);\n            });\n        }\n\n        this.setState({\n            filesToDelete,\n            showDeleteApprovement: true\n        });\n    };\n\n    deleteFilesAfterApproval = () => {\n        const { filesToDelete } = this.state;\n        if (!_.isEmpty(filesToDelete)) {\n            filesToDelete.forEach((fileId) => {\n                this.props.updateFileState(fileId, 'DELETED');\n                this.props.removeFromUploadingFiles(fileId);\n            });\n        }\n        this.setState({\n            filesToDelete: [],\n            showDeleteApprovement: false\n        });\n    };\n\n    cancelFileDeletion = () => {\n        this.setState({\n            filesToDelete: [],\n            showDeleteApprovement: false\n        });\n    };\n\n    getSelectedFileToExport = (fileId) => {\n        const { files, selectedFiles } = this.state;\n        return _.find(files, { id: fileId ? fileId : selectedFiles[0] });\n    };\n\n    openInEditor = (fileId) => {\n        const { selectedFiles } = this.state;\n        if (_.isEmpty(fileId)) {\n            if (!_.isEmpty(selectedFiles) && selectedFiles.length === 1) {\n                fileId = selectedFiles[0];\n            }\n        }\n        if (!_.isEmpty(fileId)) {\n            let selectedFile = this.getSelectedFileToExport(fileId);\n            if (selectedFile && selectedFile.transcribedFile && _.isEmpty(selectedFile.transcribedFile.filePath)) {\n                // transcription result is empty\n                this.setState({\n                    showTranscriptionEmptyMessage: true\n                });\n            } else {\n                window.open(`/edit/${fileId}`, '_blank');\n            }\n        }\n    };\n\n    render() {\n        var { user } = this.props;\n        const currentPlan = user.currentPlan || {};\n        const { selectedFiles } = this.state;\n        return (\n            <div className='col-xs-12 col-md-11 col-lg-10 col-xl-9 align-self-center dasboard-content-container'>\n                <div className='file-actions-container'>\n                    <div className='file-actions-buttons'>\n                        <Button onClick={this.uploadClicked} className='primary'>\n                            <FontAwesomeIcon icon={faCloudUploadAlt} />\n                            Transcribe Speech\n                        </Button>\n                        <Button disabled={selectedFiles.length !== 1} className='secondary' onClick={() => this.openInEditor()}>\n                            <FontAwesomeIcon icon={faEdit} />\n                            Open in Editor\n                        </Button>\n                        <Button\n                            disabled={selectedFiles.length !== 1}\n                            className='secondary'\n                            onClick={() => {\n                                this.setState({ showExportPopup: true });\n                            }}\n                        >\n                            <FontAwesomeIcon icon={faCloudDownloadAlt} />\n                            Export\n                        </Button>\n                        <Button disabled={selectedFiles.length === 0} className='secondary' onClick={() => this.deleteFiles()}>\n                            <FontAwesomeIcon icon={faTrash} />\n                            Delete\n                        </Button>\n                    </div>\n                    <div className='file-actions-search'>\n                        <input type='text' placeholder='Type to Search' onChange={this.filterFiles} />\n                    </div>\n                </div>\n                <div className='file-list-container'>\n                    {this.state.files.map((file, index) => {\n                        // var isSelected = !_.isEmpty(this.props.selectedFile) ? this.props.selectedFile.id === file.id : false;\n                        return (\n                            <File\n                                key={file.id}\n                                file={file}\n                                index={index}\n                                onSelected={this.onFileSelected}\n                                isSelected={selectedFiles.includes(file.id)}\n                                deleteFile={this.deleteFiles}\n                                openInEditor={this.openInEditor}\n                            />\n                        );\n                    })}\n                </div>\n                <ApprovementPopup\n                    show={this.state.showApprovement}\n                    headerText={{\n                        id: 'FileUpload.timeLimit.title'\n                    }}\n                    bodyText={{\n                        id: 'FileUpload.timeLimit.body'\n                    }}\n                    bodySubText={{\n                        id: 'FileUpload.timeLimit.bodySubText',\n                        values: {\n                            remainingMinutes: currentPlan.remainingMinutes,\n                            selectedFileDuration: this.state.selectedFileDuration\n                        }\n                    }}\n                    handleSuccess={this.goToPayment}\n                    successButtonVariant='primary'\n                    successButton={{\n                        id: 'FileUpload.timeLimit.goToPayment'\n                    }}\n                    cancelButton={{\n                        id: 'FileUpload.timeLimit.cancel'\n                    }}\n                    handleCancel={this.cancelFileUpload}\n                />\n                <UploadPopup\n                    show={this.state.showUploadPopup}\n                    file={this.state.fileToUpload}\n                    user={this.props.user}\n                    language={this.props.language}\n                    supportedLanguages={this.props.supportedLanguages}\n                    approveFileUpload={this.approveFileUpload}\n                    cancelFileUpload={this.cancelFileUpload}\n                    closeFileUploadPopup={this.closeFileUploadPopup}\n                    onFileAdded={this.onFileAdded}\n                    initUploadPopup={this.state.initUploadPopup}\n                />\n                <ExportPopup\n                    show={this.state.showExportPopup}\n                    file={this.getSelectedFileToExport()}\n                    closeModal={() => this.setState({ showExportPopup: false })}\n                />\n                <ApprovementPopup\n                    show={this.state.showDeleteApprovement}\n                    headerText={{\n                        id: 'File.Delete.Approval.title'\n                    }}\n                    bodyText={{\n                        id: 'File.Delete.Approval.body'\n                    }}\n                    handleSuccess={this.deleteFilesAfterApproval}\n                    handleCancel={this.cancelFileDeletion}\n                />\n                <ApprovementPopup\n                    show={this.state.showTranscriptionEmptyMessage}\n                    size='lg'\n                    headerText={{\n                        id: 'File.Error.emptyTranscription.title'\n                    }}\n                    bodyText={{\n                        id: 'File.Error.emptyTranscription.body'\n                    }}\n                    successButton={{ id: 'File.Error.emptyTranscription.button' }}\n                    successButtonVariant='primary'\n                    handleSuccess={() => this.setState({ showTranscriptionEmptyMessage: false })}\n                    hideCancelButton={true}\n                />\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = ({ user, userFiles, selectedFile, language, supportedLanguages, uploadingFiles }) => {\n    return {\n        user,\n        language,\n        supportedLanguages,\n        files: userFiles,\n        selectedFile,\n        uploadingFiles\n    };\n};\n\nexport default connect(mapStateToProps, { getFileList, addFile, setSelectedFile, addToUploadingFiles, updateFileState, removeFromUploadingFiles })(\n    withRouter(injectIntl(FileList))\n);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, Prompt } from 'react-router';\nimport _ from 'lodash';\n\nimport { getFileList, updateFileState, removeFromUploadingFiles, login } from '../../actions';\nimport DashboardHeader from '../dashboard-header';\nimport FileList from './file-list';\nimport Utils from '../../utils';\nimport '../../styles/dashboard.css';\n\nconst { auth } = Utils.firebase;\n\n\nclass Dashboard extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            emailVerified: true,\n            isSent: false,\n            blockNavigation: false\n        }\n    }\n\n    componentWillUnmount() {\n        this.clearUploadingFiles();\n    }\n\n    componentDidMount() {\n        if (!_.isEmpty(this.props.user)) this.props.getFileList();\n    }\n\n    componentWillReceiveProps({ user }) {\n        if (_.isEmpty(this.props.user) && !_.isEmpty(user)) {\n            //this.checkEmailVerified(user);\n            this.props.getFileList();\n        }\n    }\n\n    componentDidUpdate() {\n        if (!this.state.blockNavigation && !_.isEmpty(this.props.uploadingFiles)) {\n            this.setState({\n                blockNavigation: true\n            });\n            window.addEventListener('beforeunload', this.beforeUnload);\n        } else if (this.state.blockNavigation && _.isEmpty(this.props.uploadingFiles)) {\n            this.setState({\n                blockNavigation: false\n            });\n            window.removeEventListener('beforeunload', this.beforeUnload);\n        }\n    }\n\n    beforeUnload = e => {\n        e.preventDefault();\n        let message = \"If you leave, the uploading files will be lost!\";\n        e.returnValue = message;\n        return message;\n    }\n\n    clearUploadingFiles = (e) => {\n        setTimeout(() => { }, 1000);\n        if (!_.isEmpty(this.props.uploadingFiles)) {\n            if (e) e.preventDefault();\n            _.each(this.props.uploadingFiles, file => {\n                this.props.updateFileState(file.id, 'DELETED');\n                this.props.removeFromUploadingFiles(file.id);\n            })\n        }\n    }\n\n    /*     checkEmailVerified = (user) => {\n            if (!_.isEmpty(user)) {\n                const { emailVerified } = user;\n                this.setState({ emailVerified })\n                this.props.getFileList();\n            }\n        } */\n\n    resendVerificationEmail = async () => {\n        let { currentUser } = auth();\n        await currentUser.sendEmailVerification()\n            .then(() => {\n                this.setState({ isSent: true })\n            })\n            .catch(error => {\n                // TODO: VERIFY_EMAIL_ERROR\n                console.log(error);\n            })\n    }\n\n\n    render() {\n        //const { user } = this.props;\n        //const verification = `Check [${user.email}], verify your email then refresh this page.`\n        return (\n            <div className='dashboard-container'>\n                <DashboardHeader />\n                <FileList emailVerified={this.state.emailVerified} />\n\n                <React.Fragment>\n                    <Prompt\n                        when={this.state.blockNavigation}\n                        message='If you leave, the uplading file will be lost. Are you sure?'\n                    />\n                </React.Fragment>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = ({ user, uploadingFiles }) => {\n    return {\n        user,\n        uploadingFiles\n    }\n}\n\nexport default connect(mapStateToProps, { getFileList, updateFileState, removeFromUploadingFiles, login })(withRouter(Dashboard));","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { Form, Button } from 'react-bootstrap';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport countryList from 'country-list';\n\nimport Alert from 'react-s-alert';\nimport { updateProfile } from '../../actions';\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            values: {}\n        }\n    }\n\n    initializeValues = (user) => {\n        if (!_.isEmpty(user) && _.isEmpty(this.state.values)) {\n            const { displayName, email, country, address } = user;\n            var values = { displayName, email, country, address }\n            this.setState({ values })\n        }\n    }\n\n    componentDidMount() {\n        this.initializeValues(this.props.user);\n    }\n\n    componentWillReceiveProps({ user }) {\n        if(_.isEmpty(this.props.user) && !_.isEmpty(user)) {\n            this.initializeValues(user);\n        }\n    }\n\n    handlePhoneChange = (data) => {\n        var phoneNumber = data.intlPhoneNumber;\n        var { values } = this.state;\n        values.phoneNumber = phoneNumber;\n        this.setState({\n            values\n        })\n    }\n\n    handleValueChange = (stateName, value) => {\n        var { values } = this.state;\n        values[stateName] = value;\n        this.setState({ values });\n    }\n\n    handleSubmit = (event) => {\n        const { values } = this.state;\n        const { formatMessage } = this.props.intl;\n        const form = event.currentTarget;\n        event.preventDefault();\n        event.stopPropagation();\n        if (form.checkValidity() === true) {\n            this.props.updateProfile(values);\n            Alert.info(formatMessage({ id: 'Profile.Info.submitSuccess' }))\n        }\n        this.setState({ validated: true });\n    }\n\n    render() {\n        const { formatMessage } = this.props.intl;\n        var { values } = this.state;\n        if (!values) values = {};\n        return (\n            <Form noValidate validated={this.state.validated} onSubmit={this.handleSubmit}>\n                <Form.Group>\n                    <Form.Label>\n                        <FormattedMessage id='Profile.Label.nameSurname' />\n                    </Form.Label>\n                    <Form.Control\n                        name=\"displayName\"\n                        type=\"text\"\n                        placeholder={formatMessage({ id: 'Profile.Feedback.nameSurname' })}\n                        value={values.displayName || ''}\n                        onChange={(e) => { this.handleValueChange('displayName', e.target.value) }}\n                        required\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        <FormattedMessage id='Profile.Feedback.nameSurname' />\n                    </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group>\n                    <Form.Label>\n                        <FormattedMessage id='Profile.Label.email' />\n                    </Form.Label>\n                    <Form.Control\n                        name=\"email\"\n                        disabled\n                        type=\"email\"\n                        placeholder={formatMessage({ id: 'Profile.Feedback.email' })}\n                        value={values.email || ''}\n                        onChange={(e) => { this.handleValueChange('email', e.target.value) }}\n                        required\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        <FormattedMessage id='Profile.Feedback.email' />\n                    </Form.Control.Feedback>\n                </Form.Group>\n\n                <Form.Group>\n                    <Form.Label>\n                        <FormattedMessage id='Profile.Label.country' />\n                    </Form.Label>\n                    <Form.Control\n                        name='country'\n                        as='select'\n                        required\n                        onChange={(e) => { this.handleValueChange('country', e.target.value) }}\n                        value={values.country || ''}\n                    >\n                        <option />\n                        {\n                            _.map(countryList.getCodeList(), (value, key) => {\n                                return <option key={key} value={key}>{value}</option>\n                            })\n                        }\n                    </Form.Control>\n                    <Form.Control.Feedback type=\"invalid\">\n                        <FormattedMessage id='Profile.Feedback.country' />\n                    </Form.Control.Feedback>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label>\n                        <FormattedMessage id='Profile.Label.address' />\n                    </Form.Label>\n                    <Form.Control\n                        name=\"address\"\n                        type=\"textarea\"\n                        placeholder={formatMessage({ id: 'Profile.Feedback.address' })}\n                        value={values.address || ''}\n                        onChange={(e) => { this.handleValueChange('address', e.target.value) }}\n                        required\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        <FormattedMessage id='Profile.Feedback.address' />\n                    </Form.Control.Feedback>\n                </Form.Group>\n                <br />\n                <Button type=\"submit\" className='float-right'>\n                    <FormattedMessage id='Profile.Button.submit' />\n                </Button>\n            </Form>\n        )\n    }\n}\n\nconst mapStateToProps = ({ user }) => {\n    return {\n        user\n    }\n}\n\nexport default connect(mapStateToProps, { updateProfile })(injectIntl(Profile));","import React, { Component } from 'react';\nimport CreditCardInput from 'react-credit-card-input';\nimport '../styles/dashboard.css';\n\nclass PaymentDetails extends Component {\n\n    render() {\n        const { cardNumber, expiry, cvc } = this.props;\n        console.log(\"New card number \", cardNumber)\n        return (\n            <div className=\"d-flex flex-column border\" style={{ width: '100%', borderColor: 'green' }}>\n                <CreditCardInput\n                    cardNumberInputProps={{ value: cardNumber, onChange: this.props.handleCardNumberChange }}\n                    cardExpiryInputProps={{ value: expiry, onChange: this.props.handleCardExpiryChange }}\n                    cardCVCInputProps={{ value: cvc, onChange: this.props.handleCardCVCChange }}\n                    onError={() => { this.props.toggleSubmit(true) }}\n                    containerStyle={{ border: '1px' }}\n                    fieldClassName=\"input\"\n                />\n            </div>\n        )\n    }\n}\n\nexport default PaymentDetails;\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Form } from 'react-bootstrap';\nimport countryList from 'country-list';\n\nclass BillingDetails extends Component {\n\n    render() {\n        const { values, displayNameIsValid, countryIsValid, addressIsValid } = this.props;\n        const { formatMessage } = this.props.intl;\n        var displayName, country, address\n\n        if (values) {\n            displayName = values.displayName\n            country = values.country\n            address = values.address\n        }\n        return (\n            <Form noValidate>\n                <Form.Group>\n                    <Form.Label >\n                        <FormattedMessage id='Payment.Billing.Name' />\n                    </Form.Label>\n                    <Form.Control\n                        name=\"displayName\"\n                        type=\"text\"\n                        isInvalid={!displayNameIsValid}\n                        placeholder={formatMessage({ id: 'Payment.Billing.Name' })}\n                        value={displayName || ''}\n                        onChange={(e) => { this.props.handleValueChange('displayName', e.target.value) }}\n                        required\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        <FormattedMessage id='Payment.Feedback.nameSurname' />\n                    </Form.Control.Feedback>\n                </Form.Group>\n                <Form.Group>\n                    <Form.Label >\n                        <FormattedMessage id='Profile.Label.country' />\n                    </Form.Label>\n                    <Form.Control\n                        name='country'\n                        as='select'\n                        isInvalid={!countryIsValid}\n                        required\n                        onChange={(e) => { this.props.handleValueChange('country', e.target.value) }}\n                        value={country || ''}\n                    >\n                        <option />\n                        {\n                            _.map(countryList.getCodeList(), (value, key) => {\n                                return <option key={key} value={key}>{value}</option>\n                            })\n                        }\n                    </Form.Control>\n                    <Form.Control.Feedback type=\"invalid\">\n                        <FormattedMessage id='Profile.Feedback.country' />\n                    </Form.Control.Feedback>\n                </Form.Group>\n                <Form.Group className=\"d-flex flex-column\">\n                    <Form.Label>\n                        <FormattedMessage id='Payment.Billing.Address' />\n                    </Form.Label>\n                    <Form.Control\n                        name=\"address\"\n                        type=\"textarea\"\n                        placeholder={formatMessage({ id: 'Payment.Billing.Address' })}\n                        isInvalid={!addressIsValid}\n                        value={address || ''}\n                        onChange={(e) => { this.props.handleValueChange('address', e.target.value) }}\n                        required\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        <FormattedMessage id='Profile.Feedback.address' />\n                    </Form.Control.Feedback>\n                </Form.Group>\n                <br />\n            </Form>\n        )\n    }\n}\nexport default (injectIntl(BillingDetails));\n","import React, { Component } from 'react';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Container, Row, Col } from 'react-bootstrap';\n\nclass CheckOutInfo extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            cardNumber: '',\n            expiry: '',\n            cvc: '',\n        }\n    }\n\n    render() {\n        var { calculatedPrice, unitPrice, duration, durationType } = this.props\n        if (duration === 1) {\n            durationType = durationType.substring(0, durationType.length - 1);\n        }\n        return (\n            <div className=\"d-flex flex-column justify-content-center\">\n                <Container className='order-summary-container'>\n                    <h4 className='payment-modal-title'>\n                        <FormattedMessage id=\"Payment.Summary.Title\" />\n                    </h4>\n                    <Row>\n                        <Col lg=\"7\" md=\"7\" sm=\"6\" xs=\"6\" className='summary-label'>\n                            <FormattedMessage id={\"Payment.Summary.Total.Duration\"} />\n                        </Col>\n                        <Col lg=\"5\" md=\"5\" sm=\"6\" xs=\"6\" align='right'>\n                            {duration ? duration + \" \" + durationType : 0}\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col lg=\"7\" md=\"7\" sm=\"6\" xs=\"6\" className='summary-label'>\n                            <FormattedMessage id={\"Payment.Summary.pricePerHour\"} />\n                        </Col>\n                        <Col lg=\"5\" md=\"5\" sm=\"6\" xs=\"6\" align='right'>\n                            {'$ ' + (unitPrice ? unitPrice : 0)}\n                        </Col>\n                    </Row>\n                    <Row className='payment-total-container container'>\n                        <Col lg=\"7\" md=\"7\" sm=\"6\" xs=\"6\" className='summary-label'>\n                            <h4>\n                                <FormattedMessage id={\"Payment.Summary.Total.Price\"} />\n                            </h4>\n                        </Col>\n                        <Col lg=\"5\" md=\"5\" sm=\"6\" xs=\"6\" align='right'>\n                            <h4>\n                                {'$ ' + (calculatedPrice ? calculatedPrice : 0)}\n                            </h4>\n                        </Col>\n                    </Row>\n                </Container>\n            </div >\n        )\n    }\n}\n\nexport default (injectIntl(CheckOutInfo));\n","import React, { Component } from 'react';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\n\nimport { updateProfile } from '../../actions';\n\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { Container, Row, Col, Button, Spinner } from 'react-bootstrap';\nimport PaymentDetails from '../../components/payment-details';\nimport BillingDetails from '../../components/billing-details';\nimport CheckOutInfo from '../../components/check-out-info';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n    faCheckCircle, faTimesCircle\n} from '@fortawesome/free-solid-svg-icons';\nimport MasterVisaLogo from '../../assets/mastercard-visa-logo.png';\nimport '../../styles/dashboard.css';\nimport '../../styles/payment.css';\n\nclass CheckOutPage extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            cardNumber: '',\n            expiry: '',\n            cvc: '',\n            validationErrorMessage: '',\n            values: {},\n            displayNameIsValid: true,\n            countryIsValid: true,\n            addressIsValid: true\n        }\n    }\n\n    initializeValues = () => {\n        const { user } = this.props;\n        if (!_.isEmpty(user)) {\n            const { displayName, email, country, address } = user;\n            var values = { displayName, email, country, address };\n            this.setState({\n                values,\n                cardNumber: '',\n                expiry: '',\n                cvc: '',\n                validationErrorMessage: '',\n                displayNameIsValid: true,\n                countryIsValid: true,\n                addressIsValid: true\n            })\n        }\n    }\n\n    componentDidMount() {\n        this.initializeValues()\n    }\n    componentWillReceiveProps({ user, state }) {\n        if (!_.isEmpty(user) && state !== 'PAYMENT') {\n            this.initializeValues(user);\n        }\n    }\n\n    handleValueChange = (stateName, value) => {\n        this.props.toggleSubmit(false)\n\n        var { values } = this.state;\n        values[stateName] = value;\n        this.setState({ values });\n        if (value.length <= 0) {\n            let inputField = stateName + \"IsValid\";\n            this.setState(previousState => {\n                previousState[inputField] = false;\n                console.log(previousState)\n                return previousState\n            })\n        } else {\n            let inputField = stateName + \"IsValid\";\n            this.setState(previousState => {\n                previousState[inputField] = true;\n                return previousState\n            })\n        }\n    }\n\n    handleCardNumberChange = (cardNumberEvent) => {\n        this.props.toggleSubmit(false)\n        this.setState({\n            cardNumber: cardNumberEvent.target.value\n        })\n    }\n\n    handleCardExpiryChange = (expiryEvent) => {\n        this.props.toggleSubmit(false)\n        this.setState({\n            expiry: expiryEvent.target.value\n        })\n    }\n\n    handleCardCVCChange = (cvcEvent) => {\n        this.props.toggleSubmit(false)\n        this.setState({\n            cvc: cvcEvent.target.value\n        })\n    }\n\n    validateBillingDetails = () => {\n        const { displayNameIsValid, countryIsValid, addressIsValid } = this.state;\n        console.log(displayNameIsValid + '\\n' + countryIsValid + '\\n' + addressIsValid)\n        return displayNameIsValid && countryIsValid && addressIsValid;\n    }\n\n    startPayment = () => {\n        if (!this.props.validateInput()) return;\n        const { values, cardNumber, expiry, cvc, } = this.state\n        if (values && cardNumber && expiry && cvc.length === 3 && this.validateBillingDetails()) {\n            let paymentObj = {\n                values,\n                cardNumber,\n                expiry,\n                cvc\n            }\n            this.props.startPayment(paymentObj)\n        } else {\n            const { formatMessage } = this.props.intl;\n            this.props.showError(formatMessage({ id: 'Payment.Error.emptyFields' }))\n        }\n    }\n\n    renderCheckOutPage = () => {\n        const { calculatedPrice, unitPrice, duration, durationType, state, showSpinner, disabled, errorMessage } = this.props;\n        const { cardNumber, expiry, cvc, values } = this.state;\n        if (state && state.toUpperCase() === 'SUCCESS') {\n            return (\n                <Container>\n                    <Row className=\"justify-content-center\">\n                        <FontAwesomeIcon icon={faCheckCircle} size='4x' color={'green'} />\n                    </Row>\n\n                    <Row className=\"justify-content-center\">\n                        <h3>\n                            <FormattedMessage id='Payment.successMessage' />\n                        </h3>\n                    </Row>\n                </Container>\n            )\n        } else if (state && state.toUpperCase() === 'FAILURE') {\n            return (\n                <Container>\n                    <Row className=\"justify-content-center\">\n                        <FontAwesomeIcon icon={faTimesCircle} size='4x' color={'red'} />\n                    </Row>\n\n                    <Row className=\"justify-content-center\">\n                        <h3>{errorMessage}</h3>\n                    </Row>\n                </Container>\n            )\n        } else {\n            return (\n                <Container>\n                    <Row>\n                        <Col lg='5' md='5' sm='6'>\n                            <CheckOutInfo\n                                calculatedPrice={calculatedPrice}\n                                unitPrice={unitPrice}\n                                duration={duration}\n                                durationType={durationType}\n                                validationErrorMessage={this.state.validationErrorMessage}\n                            />\n                        </Col>\n                        <Col lg='7' md='7' sm='6' className='billing-detail-container'>\n                            <h4 className='payment-modal-title'>\n                                <FormattedMessage id=\"Payment.Billing.Title\" />\n                            </h4>\n                            <BillingDetails\n                                handleValueChange={this.handleValueChange}\n                                values={values}\n                                displayNameIsValid={this.state.displayNameIsValid}\n                                countryIsValid={this.state.countryIsValid}\n                                addressIsValid={this.state.addressIsValid}\n                            />\n                            <h4 style={{ marginTop: -20, color: '#086FA1' }}  >\n                                <FormattedMessage id={\"Payment.Card.Details\"} />\n                            </h4>\n                            <PaymentDetails\n                                cardNumber={cardNumber} expiry={expiry} cvc={cvc}\n                                handleCardNumberChange={this.handleCardNumberChange}\n                                handleCardExpiryChange={this.handleCardExpiryChange}\n                                handleCardCVCChange={this.handleCardCVCChange}\n                                toggleSubmit={this.props.toggleSubmit}\n                            />\n                        </Col>\n                    </Row>\n                    <div>\n                        <Button className=\"btn-lg checkout-button\" onClick={this.startPayment} disabled={disabled}>\n                            <FormattedMessage id='Payment.Summary.Pay' />\n                            {\n                                showSpinner && (\n                                    <Spinner animation=\"grow\" role=\"status\" />\n                                )\n                            }\n                        </Button>\n                        <img src={MasterVisaLogo} alt='Master Card' className='card-logo' />\n                    </div>\n                </Container>\n            )\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                {this.renderCheckOutPage()}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({ user }) => {\n    return {\n        user\n    }\n}\n\nexport default connect(mapStateToProps, { updateProfile })(injectIntl(CheckOutPage));\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Modal } from 'react-bootstrap';\nimport { getName } from 'country-list';\n\nclass SellingContract extends Component {\n    calculateAmount = () => {\n        const { duration, durationType } = this.props;\n        const { currentPlan } = this.props.user;\n        if(currentPlan.quota > 0) return `${currentPlan.quota} saat`;\n        let durationInMinutes = durationType === 'hours' ? duration * 60 : duration;\n        return `${durationInMinutes} saat`;\n    }\n\n    render() {\n        const { user } = this.props;\n        let date = new Date();\n        let formattedDate = `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;\n        let address = `${user.address} / ${getName(user.country)}`;\n        let displayName = user.displayName;\n        return (\n            <Modal\n                size=\"lg\"\n                show={this.props.show}\n                onHide={ this.props.handleVisibility }\n                dialogClassName='selling-contract-container'\n            >\n                <Modal.Header closeButton><b>MESAFELİ SATIŞ SÖZLEŞMESİ</b></Modal.Header>\n                <Modal.Body>\n                    <ol className='selling-contract-list'>\n                        <li>\n                            TARAFLAR\n                            <p>İşbu Sözleşme aşağıdaki taraflar arasında aşağıda belirtilen hüküm ve şartlar çerçevesinde imzalanmıştır.</p>\n                            <p>A.‘ALICI’ ; (sözleşmede bundan sonra \"ALICI\" olarak anılacaktır)</p>\n     \n                            <p>B.‘SATICI’ ; (sözleşmede bundan sonra \"SATICI\" olarak anılacaktır)</p>\n                            <p>UNVAN: Afacar Teknoloji<br />\n                            ADRES: ÜNIVERSITELER MAH. IHSAN DOGRAMACI BLV. ARGE VE EGITIM MERKEZI 13 ÇANKAYA/ ANKARA</p>\n                            \n                            <p>İş bu sözleşmeyi kabul etmekle ALICI, sözleşme konusu siparişi onayladığı takdirde sipariş konusu bedeli ve varsa kargo ücreti, vergi gibi belirtilen ek ücretleri ödeme yükümlülüğü altına gireceğini ve bu konuda bilgilendirildiğini peşinen kabul eder.</p>\n                        </li>\n                        <li>\n                            TANIMLAR\n                            <p>İşbu sözleşmenin uygulanmasında ve yorumlanmasında aşağıda yazılı terimler karşılarındaki yazılı açıklamaları ifade edeceklerdir.</p>\n                            <p>\n                                BAKAN: Gümrük ve Ticaret Bakanı’nı,<br />\n                                BAKANLIK: Gümrük ve Ticaret  Bakanlığı’nı,<br />\n                                KANUN: 6502 sayılı Tüketicinin Korunması Hakkında Kanun’u,<br />\n                                YÖNETMELİK: Mesafeli Sözleşmeler Yönetmeliği’ni (RG:27.11.2014/29188)<br />\n                                HİZMET: Bir ücret veya menfaat karşılığında yapılan ya da yapılması taahhüt edilen mal sağlama dışındaki her türlü tüketici işleminin konusunu ,<br />\n                                SATICI: Ticari veya mesleki faaliyetleri kapsamında tüketiciye mal sunan veya mal sunan adına veya hesabına hareket eden şirketi,<br />\n                                ALICI: Bir mal veya hizmeti ticari veya mesleki olmayan amaçlarla edinen, kullanan veya yararlanan gerçek ya da tüzel kişiyi,<br />\n                                SİTE: SATICI’ya ait internet sitesini,<br />\n                                SİPARİŞ VEREN: Bir mal veya hizmeti SATICI’ya ait internet sitesi üzerinden talep eden gerçek ya da tüzel kişiyi,<br />\n                                TARAFLAR: SATICI ve ALICI’yı,<br />\n                                SÖZLEŞME: SATICI ve ALICI arasında akdedilen işbu sözleşmeyi,<br />\n                                MAL: Alışverişe konu olan taşınır eşyayı ve elektronik ortamda kullanılmak üzere hazırlanan yazılım, ses, görüntü ve benzeri gayri maddi malları ifade eder.\n                            </p>\n                        </li>\n                        <li>\n                            KONU\n                            <p>\n                                İşbu Sözleşme, ALICI’nın, SATICI’ya ait internet sitesi üzerinden elektronik ortamda siparişini verdiği aşağıda nitelikleri ve satış fiyatı belirtilen ürünün satışı ve teslimi ile ilgili olarak 6502 sayılı Tüketicinin Korunması Hakkında Kanun ve Mesafeli Sözleşmelere Dair Yönetmelik hükümleri gereğince tarafların hak ve yükümlülüklerini düzenler.\n                                <br />\n                                Listelenen ve sitede ilan edilen fiyatlar satış fiyatıdır. İlan edilen fiyatlar ve vaatler güncelleme yapılana ve değiştirilene kadar geçerlidir. Süreli olarak ilan edilen fiyatlar ise belirtilen süre sonuna kadar geçerlidir.\n                            </p>\n                        </li>\n                        <li>\n                            SATICI BİLGİLERİ\n                            <p>\n                                Unvanı: Afacar Yazılım ve Teknoloji Çözümleri Ltd. Şti.<br />\n                                Adres: ÜNIVERSITELER MAH. IHSAN DOGRAMACI BLV. ARGE VE EGITIM MERKEZI 13 ÇANKAYA/ ANKARA<br />\n                                Telefon: +90 312 9631793<br />\n                                Eposta: support@speechtext.io<br />\n                            </p>\n                        </li>\n                        <li>\n                            ALICI BİLGİLERİ\n                            <p>\n                                Teslim edilecek kişi: { displayName }<br />\n                                Telefon: { user.phoneNumber }<br />\n                                E-posta: { user.email }<br />\n                            </p>\n                        </li>\n                        <li>\n                            SİPARİŞ VEREN KİŞİ BİLGİLERİ\n                            <p>\n                                Ad/Soyad/Unvan:  { displayName }<br />\n                                Telefon: { user.phoneNumber }<br />\n                                E-posta: { user.email }<br />\n                            </p>\n                        </li>\n                        <li>\n                            SÖZLEŞME KONUSU ÜRÜN/ÜRÜNLER BİLGİLERİ\n                            <ol className='selling-contract-list'>\n                                <li>\n                                    Malın /Ürün/Ürünlerin/ Hizmetin temel özelliklerini (türü, miktarı, marka/modeli, rengi, adedi) SATICI’ya ait internet sitesinde yayınlanmaktadır. Satıcı tarafından kampanya düzenlenmiş ise ilgili ürünün temel özelliklerini kampanya süresince inceleyebilirsiniz. Kampanya tarihine kadar geçerlidir.\n                                </li>\n                                <li>\n                                    Listelenen ve sitede ilan edilen fiyatlar satış fiyatıdır. İlan edilen fiyatlar ve vaatler güncelleme yapılana ve değiştirilene kadar geçerlidir. Süreli olarak ilan edilen fiyatlar ise belirtilen süre sonuna kadar geçerlidir.\n                                </li>\n                                <li>\n                                    Sözleşme konusu mal ya da hizmetin tüm vergiler dâhil satış fiyatı aşağıda gösterilmiştir.\n                                    <p>\n                                        Ürün Açıklaması: { user.currentPlan.planName }<br />\n                                        Adet: { this.calculateAmount() }<br />\n                                        Birim Fiyatı: ${ this.props.unitPrice }<br />\n                                        Toplam (KDV Dahil): ${ this.props.calculatedPrice }<br />\n                                        \n                                        Ödeme Şekli ve Planı: Online Kredi Kartı<br />\n                                        Teslimat Adresi: { user.email }<br />\n                                        Teslim Edilecek kişi: { displayName }<br />\n                                        Sipariş Tarihi: { formattedDate }<br />\n                                        Teslimat tarihi:  { formattedDate }<br />\n                                        Teslim şekli: Dijital\n                                    </p>\n                                </li>\n                            </ol>\n                        </li>\n                        <li>\n                            FATURA BİLGİLERİ\n                            <p>\n                                Ad/Soyad/Unvan: { displayName }<br />\n                                Adres: { address }<br />\n                                Telefon: { user.phoneNumber }<br />\n                                E-posta: { user.email }<br />\n                            </p>\n                        </li>\n                        <li>\n                            GENEL HÜKÜMLER\n                            <ol className='selling-contract-list'>\n                                <li>\n                                    ALICI, SATICI’ya ait internet sitesinde sözleşme konusu ürünün temel nitelikleri, satış fiyatı ve ödeme şekli ile teslimata ilişkin ön bilgileri okuyup, bilgi sahibi olduğunu, elektronik ortamda gerekli teyidi verdiğini kabul, beyan ve taahhüt eder. ALICI’nın; Ön Bilgilendirmeyi elektronik ortamda teyit etmesi, mesafeli satış sözleşmesinin kurulmasından evvel, SATICI tarafından ALICI' ya verilmesi gereken adresi, siparişi verilen ürünlere ait temel özellikleri, ürünlerin vergiler dâhil fiyatını, ödeme ve teslimat bilgilerini de doğru ve eksiksiz olarak edindiğini kabul, beyan ve taahhüt eder.\n                                </li>\n                                <li>\n                                    Sözleşme konusu her bir ürün, 30 günlük yasal süreyi aşmamak kaydı ile ALICI' nın yerleşim yeri uzaklığına bağlı olarak internet sitesindeki ön bilgiler kısmında belirtilen süre zarfında ALICI veya ALICI’nın gösterdiği adresteki kişi ve/veya kuruluşa teslim edilir. Bu süre içinde ürünün ALICI’ya teslim edilememesi durumunda, ALICI’nın sözleşmeyi feshetme hakkı saklıdır.\n                                </li>\n                                <li>\n                                    SATICI, Sözleşme konusu ürünü eksiksiz, siparişte belirtilen niteliklere uygun ve varsa garanti belgeleri, kullanım kılavuzları işin gereği olan bilgi ve belgeler ile teslim etmeyi, her türlü ayıptan arî olarak yasal mevzuat gereklerine göre sağlam, standartlara uygun bir şekilde işi doğruluk ve dürüstlük esasları dâhilinde ifa etmeyi, hizmet kalitesini koruyup yükseltmeyi, işin ifası sırasında gerekli dikkat ve özeni göstermeyi, ihtiyat ve öngörü ile hareket etmeyi kabul, beyan ve taahhüt eder.\n                                </li>\n                                <li>\n                                    SATICI, sözleşmeden doğan ifa yükümlülüğünün süresi dolmadan ALICI’yı bilgilendirmek ve açıkça onayını almak suretiyle eşit kalite ve fiyatta farklı bir ürün tedarik edebilir.\n                                </li>\n                                <li>\n                                    SATICI, sipariş konusu ürün veya hizmetin yerine getirilmesinin imkânsızlaşması halinde sözleşme konusu yükümlülüklerini yerine getiremezse, bu durumu, öğrendiği tarihten itibaren 3 gün içinde yazılı olarak tüketiciye bildireceğini, 14 günlük süre içinde toplam bedeli ALICI’ya iade edeceğini kabul, beyan ve taahhüt eder.\n                                </li>\n                                <li>\n                                    ALICI, Sözleşme konusu ürünün teslimatı için işbu Sözleşme’yi elektronik ortamda teyit edeceğini, herhangi bir nedenle sözleşme konusu ürün bedelinin ödenmemesi ve/veya banka kayıtlarında iptal edilmesi halinde, SATICI’nın sözleşme konusu ürünü teslim yükümlülüğünün sona ereceğini kabul, beyan ve taahhüt eder.\n                                </li>\n                                <li>\n                                    ALICI, Sözleşme konusu ürünün ALICI veya ALICI’nın gösterdiği adresteki kişi ve/veya kuruluşa tesliminden sonra ALICI'ya ait kredi kartının yetkisiz kişilerce haksız kullanılması sonucunda sözleşme konusu ürün bedelinin ilgili banka veya finans kuruluşu tarafından SATICI'ya ödenmemesi halinde, ALICI Sözleşme konusu ürünü 3 gün içerisinde nakliye gideri SATICI’ya ait olacak şekilde SATICI’ya iade edeceğini kabul, beyan ve taahhüt eder.\n                                </li>\n                                <li>\n                                    SATICI, tarafların iradesi dışında gelişen, önceden öngörülemeyen ve tarafların borçlarını yerine getirmesini engelleyici ve/veya geciktirici hallerin oluşması gibi mücbir sebepler halleri nedeni ile sözleşme konusu ürünü süresi içinde teslim edemez ise, durumu ALICI'ya bildireceğini kabul, beyan ve taahhüt eder. ALICI da siparişin iptal edilmesini, sözleşme konusu ürünün varsa emsali ile değiştirilmesini ve/veya teslimat süresinin engelleyici durumun ortadan kalkmasına kadar ertelenmesini SATICI’dan talep etme hakkını haizdir. ALICI tarafından siparişin iptal edilmesi halinde ALICI’nın nakit ile yaptığı ödemelerde, ürün tutarı 14 gün içinde kendisine nakden ve defaten ödenir. ALICI’nın kredi kartı ile yaptığı ödemelerde ise, ürün tutarı, siparişin ALICI tarafından iptal edilmesinden sonra 14 gün içerisinde ilgili bankaya iade edilir. ALICI, SATICI tarafından kredi kartına iade edilen tutarın banka tarafından ALICI hesabına yansıtılmasına ilişkin ortalama sürecin 2 ile 3 haftayı bulabileceğini, bu tutarın bankaya iadesinden sonra ALICI’nın hesaplarına yansıması halinin tamamen banka işlem süreci ile ilgili olduğundan, ALICI, olası gecikmeler için SATICI’yı sorumlu tutamayacağını kabul, beyan ve taahhüt eder.\n                                </li>\n                                <li>\n                                    SATICININ, ALICI tarafından siteye kayıt formunda belirtilen veya daha sonra kendisi tarafından güncellenen adresi, e-posta adresi, sabit ve mobil telefon hatları ve diğer iletişim bilgileri üzerinden mektup, e-posta, SMS, telefon görüşmesi ve diğer yollarla iletişim, pazarlama, bildirim ve diğer amaçlarla ALICI’ya ulaşma hakkı bulunmaktadır. ALICI, işbu sözleşmeyi kabul etmekle SATICI’nın kendisine yönelik yukarıda belirtilen iletişim faaliyetlerinde bulunabileceğini kabul ve beyan etmektedir.\n                                </li>\n                                <li>\n                                    ALICI, sözleşme konusu mal/hizmeti teslim almadan önce muayene edecek; ezik, kırık, ambalajı yırtılmış vb. hasarlı ve ayıplı mal/hizmeti kargo şirketinden teslim almayacaktır. Teslim alınan mal/hizmetin hasarsız ve sağlam olduğu kabul edilecektir. Teslimden sonra mal/hizmetin özenle korunması borcu, ALICI’ya aittir. Cayma hakkı kullanılacaksa mal/hizmet kullanılmamalıdır. Fatura iade edilmelidir.\n                                </li>\n                                <li>\n                                    ALICI ile sipariş esnasında kullanılan kredi kartı hamilinin aynı kişi olmaması veya ürünün ALICI’ya tesliminden evvel, siparişte kullanılan kredi kartına ilişkin güvenlik açığı tespit edilmesi halinde, SATICI, kredi kartı hamiline ilişkin kimlik ve iletişim bilgilerini, siparişte kullanılan kredi kartının bir önceki aya ait ekstresini yahut kart hamilinin bankasından kredi kartının kendisine ait olduğuna ilişkin yazıyı ibraz etmesini ALICI’dan talep edebilir. ALICI’nın talebe konu bilgi/belgeleri temin etmesine kadar geçecek sürede sipariş dondurulacak olup, mezkur taleplerin 24 saat içerisinde karşılanmaması halinde ise SATICI, siparişi iptal etme hakkını haizdir.\n                                </li>\n                                <li>\n                                    ALICI, SATICI’ya ait internet sitesine üye olurken verdiği kişisel ve diğer sair bilgilerin gerçeğe uygun olduğunu, SATICI’nın bu bilgilerin gerçeğe aykırılığı nedeniyle uğrayacağı tüm zararları, SATICI’nın ilk bildirimi üzerine derhal, nakden ve defaten tazmin edeceğini beyan ve taahhüt eder.\n                                </li>\n                                <li>\n                                    ALICI, SATICI’ya ait internet sitesini kullanırken yasal mevzuat hükümlerine riayet etmeyi ve bunları ihlal etmemeyi baştan kabul ve taahhüt eder. Aksi takdirde, doğacak tüm hukuki ve cezai yükümlülükler tamamen ve münhasıran ALICI’yı bağlayacaktır.\n                                </li>\n                                <li>\n                                    ALICI, SATICI’ya ait internet sitesini hiçbir şekilde kamu düzenini bozucu, genel ahlaka aykırı, başkalarını rahatsız ve taciz edici şekilde, yasalara aykırı bir amaç için, başkalarının maddi ve manevi haklarına tecavüz edecek şekilde kullanamaz. Ayrıca, üye başkalarının hizmetleri kullanmasını önleyici veya zorlaştırıcı faaliyet (spam, virus, truva atı, vb.) işlemlerde bulunamaz.\n                                </li>\n                                <li>\n                                    SATICI’ya ait internet sitesinin üzerinden, SATICI’nın kendi kontrolünde olmayan ve/veya başkaca üçüncü kişilerin sahip olduğu ve/veya işlettiği başka web sitelerine ve/veya başka içeriklere link verilebilir. Bu linkler ALICI’ya yönlenme kolaylığı sağlamak amacıyla konmuş olup herhangi bir web sitesini veya o siteyi işleten kişiyi desteklememekte ve Link verilen web sitesinin içerdiği bilgilere yönelik herhangi bir garanti niteliği taşımamaktadır.\n                                </li>\n                                <li>\n                                    İşbu sözleşme içerisinde sayılan maddelerden bir ya da birkaçını ihlal eden üye işbu ihlal nedeniyle cezai ve hukuki olarak şahsen sorumlu olup, SATICI’yı bu ihlallerin hukuki ve cezai sonuçlarından ari tutacaktır. Ayrıca; işbu ihlal nedeniyle, olayın hukuk alanına intikal ettirilmesi halinde, SATICI’nın üyeye karşı üyelik sözleşmesine uyulmamasından dolayı tazminat talebinde bulunma hakkı saklıdır.\n                                </li>\n                            </ol>\n                        </li>\n                        <li>\n                            CAYMA HAKKI\n                            <ol className='selling-contract-list'>\n                                <li>\n                                    ALICI; mesafeli sözleşmenin mal satışına ilişkin olması durumunda, ürünün kendisine veya gösterdiği adresteki kişi/kuruluşa teslim tarihinden itibaren 14 (on dört) gün içerisinde, SATICI’ya bildirmek şartıyla hiçbir hukuki ve cezai sorumluluk üstlenmeksizin ve hiçbir gerekçe göstermeksizin malı reddederek sözleşmeden cayma hakkını kullanabilir. Hizmet sunumuna ilişkin mesafeli sözleşmelerde ise, bu süre sözleşmenin imzalandığı tarihten itibaren başlar. Cayma hakkı süresi sona ermeden önce, tüketicinin onayı ile hizmetin ifasına başlanan hizmet sözleşmelerinde cayma hakkı kullanılamaz. Cayma hakkının kullanımından kaynaklanan masraflar SATICI’ ya aittir. ALICI, iş bu sözleşmeyi kabul etmekle, cayma hakkı konusunda bilgilendirildiğini peşinen kabul eder.\n                                </li>\n                                <li>\n                                    Cayma hakkının kullanılması için 14 (ondört) günlük süre içinde SATICI' ya iadeli taahhütlü posta, faks veya eposta ile yazılı bildirimde bulunulması ve ürünün işbu sözleşmede düzenlenen \"Cayma Hakkı Kullanılamayacak Ürünler\" hükümleri çerçevesinde kullanılmamış olması şarttır. Bu hakkın kullanılması halinde,\n                                    <ol type=\"a\">\n                                        <li>\n                                            3. kişiye veya ALICI’ ya teslim edilen ürünün faturası, (İade edilmek istenen ürünün faturası kurumsal ise, iade ederken kurumun düzenlemiş olduğu iade faturası ile birlikte gönderilmesi gerekmektedir. Faturası kurumlar adına düzenlenen sipariş iadeleri İADE FATURASI kesilmediği takdirde tamamlanamayacaktır.)\n                                        </li>\n                                        <li>\n                                            İade formu\n                                        </li>\n                                        <li>\n                                            İade edilecek ürünlerin kutusu, ambalajı, varsa standart aksesuarları ile birlikte eksiksiz ve hasarsız olarak teslim edilmesi gerekmektedir.\n                                        </li>\n                                        <li>\n                                            SATICI, cayma bildiriminin kendisine ulaşmasından itibaren en geç 10 günlük süre içerisinde toplam bedeli ve ALICI’yı borç altına sokan belgeleri ALICI’ ya iade etmek ve 20 günlük süre içerisinde malı iade almakla yükümlüdür.\n                                        </li>\n                                        <li>\n                                            ALICI’ nın kusurundan kaynaklanan bir nedenle malın değerinde bir azalma olursa veya iade imkânsızlaşırsa ALICI kusuru oranında SATICI’ nın zararlarını tazmin etmekle yükümlüdür. Ancak cayma hakkı süresi içinde malın veya ürünün usulüne uygun kullanılması sebebiyle meydana gelen değişiklik ve bozulmalardan ALICI sorumlu değildir.\n                                        </li>\n                                        <li>\n                                            Cayma hakkının kullanılması nedeniyle SATICI tarafından düzenlenen kampanya limit tutarının altına düşülmesi halinde kampanya kapsamında faydalanılan indirim miktarı iptal edilir.\n                                        </li>\n                                    </ol>\n                                </li>\n                            </ol>\n                        </li>\n                        <li>\n                            CAYMA HAKKI KULLANILAMAYACAK ÜRÜNLER\n                            <p>\n                                ALICI’nın isteği veya açıkça kişisel ihtiyaçları doğrultusunda hazırlanan ve geri gönderilmeye müsait olmayan, iç giyim alt parçaları, mayo ve bikini altları, makyaj malzemeleri, tek kullanımlık ürünler, çabuk bozulma tehlikesi olan veya son kullanma tarihi geçme ihtimali olan mallar, ALICI’ya teslim edilmesinin ardından ALICI tarafından ambalajı açıldığı takdirde iade edilmesi sağlık ve hijyen açısından uygun olmayan ürünler, teslim edildikten sonra başka ürünlerle karışan ve doğası gereği ayrıştırılması mümkün olmayan ürünler, Abonelik sözleşmesi kapsamında sağlananlar dışında, gazete ve dergi gibi süreli yayınlara ilişkin mallar, Elektronik ortamda anında ifa edilen hizmetler veya tüketiciye anında teslim edilen gayrimaddi mallar, ile ses veya görüntü kayıtlarının, kitap, dijital içerik, yazılım programlarının, veri kaydedebilme ve veri depolama cihazlarının,  bilgisayar sarf malzemelerinin, ambalajının ALICI tarafından açılmış olması halinde iadesi Yönetmelik gereği mümkün değildir. Ayrıca Cayma hakkı süresi sona ermeden önce, tüketicinin onayı ile ifasına başlanan hizmetlere ilişkin cayma hakkının kullanılması da Yönetmelik gereği mümkün değildir.\n                            </p>\n                            <p>\n                                Kozmetik ve kişisel bakım ürünleri, iç giyim ürünleri, mayo, bikini, kitap, kopyalanabilir yazılım ve programlar, DVD, VCD, CD ve kasetler ile kırtasiye sarf malzemeleri (toner, kartuş, şerit vb.) iade edilebilmesi için ambalajlarının açılmamış, denenmemiş, bozulmamış ve kullanılmamış olmaları gerekir.\n                            </p>\n                        </li>\n                        <li>\n                            TEMERRÜT HALİ VE HUKUKİ SONUÇLARI\n                            <p>\n                                ALICI, ödeme işlemlerini  kredi kartı ile yaptığı durumda temerrüde düştüğü takdirde, kart sahibi banka ile arasındaki kredi kartı sözleşmesi çerçevesinde faiz ödeyeceğini ve bankaya karşı sorumlu olacağını kabul, beyan ve taahhüt eder. Bu durumda ilgili banka hukuki yollara başvurabilir; doğacak masrafları ve vekâlet ücretini ALICI’dan talep edebilir ve her koşulda ALICI’nın borcundan dolayı temerrüde düşmesi halinde, ALICI, borcun gecikmeli ifasından dolayı SATICI’nın uğradığı zarar ve ziyanını ödeyeceğini kabul, beyan ve taahhüt eder.\n                            </p>\n                        </li>\n                        <li>\n                            YETKİLİ MAHKEME\n                            <p>\n                                İşbu sözleşmeden doğan uyuşmazlıklarda şikayet ve itirazlar, aşağıdaki kanunda belirtilen parasal sınırlar dâhilinde tüketicinin yerleşim yerinin bulunduğu veya tüketici işleminin yapıldığı yerdeki tüketici sorunları hakem heyetine veya tüketici mahkemesine yapılacaktır. Parasal sınıra ilişkin bilgiler aşağıdadır:\n                            </p>\n                            <div>\n                                01/01/2017 tarihinden itibaren geçerli olmak üzere, 2017 yılı için tüketici hakem heyetlerine yapılacak başvurularda değeri:\n                                <ol type='a'>\n                                    <li>\n                                        2.400 (iki bin dört yüz) Türk Lirasının altında bulunan uyuşmazlıklarda ilçe tüketici hakem heyetleri,\n                                    </li>\n                                    <li>\n                                        Büyükşehir statüsünde olan illerde 2.400 (iki bin dört yüz) Türk Lirası ile 3.610 (üç bin altı yüz on) Türk Lirası arasındaki uyuşmazlıklarda il tüketici hakem heyetleri,\n                                    </li>\n                                    <li>\n                                        Büyükşehir statüsünde olmayan illerin merkezlerinde 3.610 (üç bin altı yüz on) Türk Lirasının altında bulunan uyuşmazlıklarda il tüketici hakem heyetleri,\n                                    </li>\n                                    <li>\n                                        Büyükşehir statüsünde olmayan illere bağlı ilçelerde 2.400 (iki bin dört yüz) Türk Lirası ile 3.610 (üç bin altı yüz on) Türk Lirası arasındaki uyuşmazlıklarda il tüketici hakem heyetleri görevli kılınmışlardır.\n                                    </li>\n                                </ol>\n                                İşbu Sözleşme ticari amaçlarla yapılmaktadır.\n                            </div>\n                        </li>\n                        <li>\n                            YÜRÜRLÜK\n                            <p>\n                                ALICI, Site üzerinden verdiği siparişe ait ödemeyi gerçekleştirdiğinde işbu sözleşmenin tüm şartlarını kabul etmiş sayılır. SATICI, siparişin gerçekleşmesi öncesinde işbu sözleşmenin sitede ALICI tarafından okunup kabul edildiğine dair onay alacak şekilde gerekli yazılımsal düzenlemeleri yapmakla yükümlüdür.\n                            </p>\n                            <p>SATICI: Afacar Yazılım ve Teknoloji Çözümleri Ltd. Şti.</p>\n                            <p>ALICI: { displayName }</p>\n                            <p>TARİH: { formattedDate }</p>\n                        </li>\n                    </ol>\n                </Modal.Body>\n            </Modal>\n        )\n    }\n}\n\nconst mapStateToProps = ({ user }) => {\n    return {\n        user\n    }\n}\n\nexport default connect(mapStateToProps)(SellingContract);","import React from 'react';\nimport { Modal } from 'react-bootstrap';\n\nconst RefundContract = (props) => {\n    return (\n        <Modal\n            size=\"lg\"\n            show={ props.show }\n            onHide={ props.handleVisibility }\n            dialogClassName='refund-container'\n        >\n            <Modal.Header closeButton><b>İPTAL ve İADE KOŞULLARI</b></Modal.Header>\n            <Modal.Body>\n                <p>GENEL</p>\n                <p>\n                    Kullanmakta olduğunuz web sitesi üzerinden elektronik ortamda sipariş verdiğiniz takdirde, size sunulan ön bilgilendirme formunu ve mesafeli satış sözleşmesini kabul etmiş sayılırsınız.\n                </p>\n                <p>CAYMA HAKKI</p>\n                <p>\n                    ALICI; satın aldığı speechtext.io dakikalarını 24 saat içerisinde, hiç kullanmadığı takdirde SATICI’ya support@speechtect.io üzerinden bildirmek şartıyla hiçbir hukuki ve cezai sorumluluk üstlenmeksizin ve hiçbir gerekçe göstermeksizin sözleşmeden cayma hakkını kullanabilir ve ücret iadesi isteyebilir.\n                </p>\n                <p>İADE KOŞULLARI</p>\n                <ol>\n                    <li>\n                        SATICI, cayma bildiriminin kendisine ulaşmasından itibaren en geç 10 günlük süre içerisinde toplam bedeli ALICI’ ya iade etmekle yükümlüdür.\n                    </li>\n                    <li>\n                        ALICI eğer satın aldığı dakikaları kullanmışsa veya satın aldıktan sonra başka bir üyelik paketine geçmişse, SATICI iade ile yükümlü değildir. \n                    </li>\n                    <li>\n                        Cayma hakkının kullanılması nedeniyle SATICI tarafından düzenlenen kampanya limit tutarının altına düşülmesi halinde kampanya kapsamında faydalanılan indirim miktarı iptal edilir.\n                    </li>\n                </ol>\n                <p>TEMERRÜT HALİ VE HUKUKİ SONUÇLARI</p>\n                <p>\n                    ALICI, ödeme işlemlerini  kredi kartı ile yaptığı durumda temerrüde düştüğü takdirde, kart sahibi banka ile arasındaki kredi kartı sözleşmesi çerçevesinde faiz ödeyeceğini ve bankaya karşı sorumlu olacağını kabul, beyan ve taahhüt eder. Bu durumda ilgili banka hukuki yollara başvurabilir; doğacak masrafları ve vekâlet ücretini ALICI’dan talep edebilir ve her koşulda ALICI’nın borcundan dolayı temerrüde düşmesi halinde, ALICI, borcun gecikmeli ifasından dolayı SATICI’nın uğradığı zarar ve ziyanını ödeyeceğini kabul eder.\n                </p>\n            </Modal.Body>\n        </Modal>\n    )\n}\n\nexport default RefundContract","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link, withRouter } from 'react-router-dom';\nimport _ from 'lodash';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { Container, Button, Alert as BootstrapAlert, Row, Col, Form } from 'react-bootstrap';\nimport Alert from 'react-s-alert';\nimport publicIp from 'public-ip';\n\nimport { clearTrimmedFileInfo } from '../../actions';\nimport firebase from '../../utils/firebase';\nimport CheckOutPage from '../../containers/user/checkout-page';\nimport SellingContract from './selling-contract';\nimport RefundContract from './refund-contract';\nimport './../../styles/pricing.css';\n\n\nclass Payment extends Component {\n    constructor(props) {\n        super(props);\n        let fileId;\n        let minAmountToPay = undefined;\n        let duration = 1;\n        let durationType = 'hours';\n        if (props.location && props.location.hash) {\n            fileId = props.location.hash.substr('#payment?fileId='.length);\n            if (!_.isEmpty(props.trimmedFileInfo) && props.trimmedFileInfo.fileId === fileId) {\n                minAmountToPay = props.trimmedFileInfo.minutesToBePaid;\n                duration = props.trimmedFileInfo.minutesToBePaid;\n                durationType = 'minutes';\n            }\n        }\n        this.state = {\n            duration,\n            durationType,\n            minAmountToPay,\n            unitPrice: 6,\n            calculatedPrice: 6,\n            state: 'INITIAL',\n            selectedPlanType: undefined,\n            fileId,\n            showSellingContract: false,\n            showRefundContract: false\n        }\n    }\n\n    componentWillReceiveProps({ user }) {\n        if (_.isEmpty(this.props.user) && !_.isEmpty(user)) {\n            if (!_.isEmpty(user.currentPlan) && user.currentPlan.planId === 'custom') {\n                this.durationChanged(this.state.duration, user.currentPlan);\n            }\n        }\n    }\n\n    initializePage = () => {\n        this.setState({\n            duration: 1,\n            durationType: 'hours',\n            calculatedPrice: 6,\n            state: 'INITIAL',\n            basketId: undefined,\n            checkoutForm: undefined,\n            showSpinner: false,\n            spinnerText: '',\n            sellingContractAccepted: false,\n            refundContractAccepted: false,\n            showCheckOutForm: false, // new\n            errorMessage: '',\n            disabled: false,\n            showContactForm: false,\n        })\n    }\n\n    componentDidMount() {\n        const { plans, user, trimmedFileInfo } = this.props;\n        let calculatedPrice = 6;\n        let duration = 1;\n        let durationType = 'hours';\n        if (!_.isEmpty(trimmedFileInfo) && this.state.fileId === trimmedFileInfo.fileId) {\n            duration = trimmedFileInfo.minutesToBePaid;\n            durationType = 'minutes';\n        }\n        if (plans.standard) calculatedPrice = plans.standarddard.hourPrice;\n        if (user && user.currentPlan && user.currentPlan.planId === 'custom') calculatedPrice = user.currentPlan.pricePerHour;\n        if (!_.isEmpty(plans)) {\n            this.setState({\n                duration,\n                durationType,\n                calculatedPrice,\n                unitPrice: user.currentPlan.pricePerHour,\n                state: 'INITIAL',\n                basketId: undefined,\n                checkoutForm: undefined,\n                showSpinner: false,\n                spinnerText: '',\n                sellingContractAccepted: false,\n                refundContractAccepted: false\n            })\n            this.calculatePrice(duration);\n        }\n    }\n\n    durationChanged = (e, userPlan) => {\n        let duration;\n        if (!e.target) {\n            duration = e;\n            if (duration < 1) duration = 1;\n            this.setState({ duration });\n            this.calculatePrice(duration, userPlan);\n        } else {\n            duration = e.target.value;\n            if (duration < 1) duration = 1;\n            this.setState({ duration })\n            this.calculatePrice(duration)\n        }\n    }\n\n    durationTypeChanged = (e) => {\n        let duration = this.state.duration;\n        let durationType = e;\n        if (e.target) {\n            durationType = e.target.value;\n        }\n        this.setState({ durationType }, () => {\n            this.calculatePrice(duration)\n        })\n    }\n\n    calculatePrice = (duration, userPlan) => {\n        const { durationType } = this.state;\n        let calculatedPrice = 0;\n        let { currentPlan } = this.props.user;\n        if (_.isEmpty(currentPlan)) {\n            currentPlan = userPlan;\n        }\n        let durationInMinutes = durationType === 'minutes' ? duration : duration * 60;\n        let unitPrice = currentPlan.pricePerHour;\n        calculatedPrice = this.calculateStandardPrice(unitPrice, durationInMinutes);\n        this.setState({\n            calculatedPrice,\n            unitPrice,\n            state: 'INITIAL',\n            checkoutForm: undefined\n        })\n    }\n\n    calculateStandardPrice = (pricePerHour, minutes) => {\n        // Calculates unit price/hour based on base price and hours\n        if (minutes <= 0)\n            return 0;\n        return pricePerHour * minutes / 60\n    }\n\n    calculateCustomPrice = (pricePerHour, hours) => {\n        // Calculates unit price/hour based on base price and hours\n        if (hours <= 0)\n            return 0\n        return pricePerHour;\n    }\n\n    continueFileEdit = () => {\n        const { fileId } = this.state;\n        window.open(`/edit/${fileId}`, '_self');\n    }\n\n    renderSuccess = () => {\n        const { state, error, fileId } = this.state;\n        if (state !== 'SUCCESS' && state !== 'ERROR' && state !== 'FAILURE') return null;\n        if (state !== 'SUCCESS') {\n            const { formatMessage } = this.props.intl;\n            let errorKey = error ? error.key : undefined;\n            let errorDef = _.find(this.props.errorDefinitions, { key: errorKey });\n            let errorMessage = errorKey ? errorDef.value : formatMessage({ id: 'Payment.Message.error' });\n            return (\n                <div>\n                    <BootstrapAlert variant='danger'>\n                        {errorMessage}\n                    </BootstrapAlert>\n                    <Button variant='primary' onClick={this.initializePage}>\n                        <FormattedMessage id='Payment.Message.tryAgain' />\n                    </Button>\n                    <br />\n                    <Button variant='link'>\n                        <Link to='/dashboard'>\n                            <FormattedMessage id='Payment.Message.goToDashboard' />\n                        </Link>\n                    </Button>\n                </div>\n            )\n        };\n        return (\n            <div className='payment-success-message'>\n                {\n                    !_.isEmpty(fileId) &&\n                    <Button variant='link' onClick={this.continueFileEdit}>\n                        <FormattedMessage id='Payment.Button.continueEditing' />\n                    </Button>\n                }\n                <BootstrapAlert variant='success'>\n                    <FormattedMessage id='Payment.Message.success' />\n                </BootstrapAlert>\n                <Button variant='primary' onClick={this.initializePage}>\n                    <FormattedMessage id='Payment.Message.addMoreCredits' />\n                </Button>\n                <br />\n                <Button variant='link'>\n                    <Link to='/dashboard'>\n                        <FormattedMessage id='Payment.Message.goToDashboard' />\n                    </Link>\n                </Button>\n            </div>\n        )\n    }\n\n    sellingContractClicked = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.setState({ showSellingContract: true });\n    }\n\n    refundContractClicked = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        this.setState({ showRefundContract: true });\n    }\n\n    handleSellingContractVisibility = () => {\n        this.setState({\n            showSellingContract: !this.state.showSellingContract\n        })\n    }\n\n    handleRefundContractVisibility = () => {\n        this.setState({\n            showRefundContract: !this.state.showRefundContract\n        })\n    }\n\n    renderContract = () => {\n        return (\n            <div className='d-flex flex-row contract-text text-center' style={{ fontSize: 'small' }}>\n                <p>\n                    <span style={{ color: 'blue', textDecorationLine: 'underline', cursor: 'pointer' }} variant='link' onClick={this.sellingContractClicked}>\n                        {this.props.language === 'tr-TR' ? 'Satış Sözleşmesi' : 'Selling Contract'}\n                    </span>\n                    {this.props.language !== 'tr-TR' ? ' and ' : ' ve '}\n                    <span style={{ color: 'blue', textDecorationLine: 'underline', cursor: 'pointer' }} variant='link' onClick={this.refundContractClicked}>\n                        {this.props.language === 'tr-TR' ? 'İade Koşulları' : 'Refund Policy'}\n                    </span>\n                </p>\n            </div>\n        )\n    }\n\n    onHide = () => {\n        this.setState({ showCheckoutForm: false })\n    }\n\n    showForm = () => {\n        if (parseInt(this.state.duration) >= 50) {\n            this.setState({\n                showContactForm: true\n            })\n        }\n        else {\n            this.setState({\n                showCheckOutForm: true,\n                state: 'PAYMENT'\n            })\n        }\n    }\n\n    closeCheckOutForm = () => {\n        if (!this.state.showSpinner) {\n            this.setState({\n                showCheckOutForm: false\n            })\n        }\n    }\n\n    closeContactForm = () => {\n        this.setState({\n            showContactForm: false\n        })\n    }\n\n    validateInput = () => {\n        const { duration, durationType } = this.state;\n        const { trimmedFileInfo } = this.props;\n        let calculatedPrice = 0;\n        let { currentPlan } = this.props.user;\n        let durationInMinutes = durationType === 'minutes' ? duration : duration * 60;\n        let unitPrice = currentPlan.pricePerHour;\n        calculatedPrice = this.calculateStandardPrice(unitPrice, durationInMinutes);\n        if (!_.isEmpty(trimmedFileInfo) && durationInMinutes < trimmedFileInfo.minutesToBePaid) {\n            const { formatMessage } = this.props.intl;\n            Alert.error(formatMessage({ id: 'Payment.Error.minDurationLength' }, { minAmountToPay: trimmedFileInfo.minutesToBePaid }));\n            calculatedPrice = this.calculateStandardPrice(unitPrice, durationInMinutes);\n            this.setState({\n                duration: trimmedFileInfo.minutesToBePaid,\n                durationType: 'minutes',\n                calculatedPrice\n            });\n            return false;\n        }\n        return true;\n    }\n\n    startPayment = async (obj) => {\n        //TODO add payment function\n        const { values, cardNumber, expiry, cvc } = obj;\n        var card = {\n            cardHolderName: values.displayName,\n            cardNumber: cardNumber.replace(/\\s/g, ''),\n            expireMonth: expiry.substring(0, 2),\n            expireYear: expiry.substring(5, 7),\n            cvc\n        }\n        var that = this;\n        const { language } = this.props;\n        var { duration, durationType, basketId, fileId, state } = this.state;\n        // let durationInMinutes = undefined;\n        // if (selectedPlanType === 'PayAsYouGo')\n        // durationInMinutes = parseFloat(duration) * (durationType === 'hours' ? 60 : 1);\n        this.setState({\n            showSpinner: true,\n            disabled: true,\n            showCheckOutForm: true,\n        });\n        let ip = '';\n        try {\n            ip = await publicIp.v4();\n        } catch (error) {\n            console.log('Cannot get user IP adress')\n        }\n        var fncAddBasket = firebase.functions().httpsCallable('addToBasket');\n        fncAddBasket({\n            hours: durationType === 'hours' ? parseInt(duration) : undefined,\n            minutes: durationType === 'minutes' ? parseInt(duration) : undefined,\n            locale: language,\n            ip,\n            basketId,\n            card,\n            fileId\n        }).then(({ data }) => {\n            const { basketId, result, error } = data;\n            let errorMessage = '';\n            if (error)\n                errorMessage = error.errorMessage;\n            else if (result && result.status === 'failure') {\n                errorMessage = \"Bilinmedik Hata Oluştu\"\n            }\n            if (!_.isEmpty(errorMessage)) {\n                Alert.error(errorMessage);\n            }\n            that.setState({\n                basketId,\n                result,\n                state: _.isEmpty(errorMessage) ? 'SUCCESS' : state,\n                errorMessage,\n                showSpinner: false,\n                spinnerText: '',\n                disabled: false,\n            })\n            // setTimeout(() => {\n            //     this.initializePage();\n            // }, 2500)\n        })\n            .catch(error => {\n                // TODO: ADD_TO_BASKET_ERROR\n                // NOTE: This function need to thwrow an error on firebase to catch here!\n                console.log(\"Error burada\\n\" + error)\n                let errorMessage = 'Bilinmedik Hata Oluştu';\n                this.setState({\n                    errorMessage\n                })\n                Alert.error(errorMessage);\n                // setTimeout(() => {\n                //     this.initializePage();\n                // }, 2500)\n            })\n    }\n\n    toggleSubmit = (flag) => {\n        this.setState({\n            disabled: flag\n        })\n    }\n\n    showError = (message) => {\n        Alert.error(message);\n    }\n\n    renderTerms = () => {\n        return (\n            <div className='float-right' style={{ fontSize: 'small', width: '100%', marginTop: '25px' }}>\n                <p>\n                    <span style={{ color: 'blue', textDecorationLine: 'underline', cursor: 'pointer' }} variant='link' onClick={this.sellingContractClicked}>\n                        {this.props.language === 'tr-TR' ? 'Satış Sözleşmesi' : 'Selling Contract'}\n                    </span>\n                    {this.props.language !== 'tr-TR' ? ' and ' : ' ve '}\n                    <span style={{ color: 'blue', textDecorationLine: 'underline', cursor: 'pointer' }} variant='link' onClick={this.refundContractClicked}>\n                        {this.props.language === 'tr-TR' ? 'İade Koşulları' : 'Refund Policy'}\n                    </span>\n                </p>\n            </div>\n        )\n    }\n\n    render() {\n        const { duration, durationType, unitPrice, calculatedPrice, showSpinner, showSellingContract, showRefundContract, minAmountToPay, state } = this.state\n        const { user, intl } = this.props;\n        const { formatMessage } = intl;\n        return (\n            <Container>\n                <div className=\"d-flex justify-content-center\" style={{ width: \"100%\", height: \"100%\" }}>\n                    <div className=\"card-pricing text-center px-3 mb-2\" style={{ width: \"100%\", height: \"100%\" }}>\n                        <span className=\"h6 w-60 mx-auto px-4 py-3 rounded bg-primary text-white\">\n                            <FormattedMessage id=\"Pricing.Standard.title\" />\n                            <span className=\"price\">$ {unitPrice}</span>\n                            <span className=\"h6 ml-2\">/\n                                <FormattedMessage id=\"Pricing.Standard.timeText\" />\n                            </span>\n                        </span>\n                        {\n                            state === 'INITIAL' &&\n                            <div>\n                                <div className=\"card-body pt-0\">\n                                    <Container>\n                                        <Row className=\"d-flex justify-content-md-center buy-button-surrounding mb-3 mt-5 align-items-center\">\n                                            <Col className=\"d-flex justify-content-center\" md>\n                                                <h3>\n                                                    <FormattedMessage id='Payment.Label.totalSizeToBuy' />\n                                                </h3>\n                                                <Form.Control\n                                                    type='number'\n                                                    className='payment-amount-to-buy'\n                                                    value={duration || minAmountToPay}\n                                                    onChange={this.durationChanged}\n                                                />\n                                                <Form.Control as='select'\n                                                    defaultValue='minutes'\n                                                    required\n                                                    value={durationType}\n                                                    onChange={this.durationTypeChanged}\n                                                    className='payment-duration'>\n                                                    < option key='minutes' value='minutes'>\n                                                        {formatMessage({ id: 'Payment.DurationType.minutes' })}\n                                                    </option>\n                                                    <option key='hours' value='hours'>\n                                                        {formatMessage({ id: 'Payment.DurationType.hours' })}\n                                                    </option>\n                                                </Form.Control>\n                                                <h3>\n                                                    <div className=\"price\">{this.props.price}</div>\n                                                </h3>\n                                                <br />\n                                            </Col>\n                                        </Row>\n                                    </Container>\n                                </div>\n                                <CheckOutPage\n                                    duration={duration}\n                                    durationType={durationType}\n                                    unitPrice={unitPrice}\n                                    calculatedPrice={calculatedPrice}\n                                    durationChanged={this.durationChanged}\n                                    handleBuy={this.showForm}\n                                    showSpinner={showSpinner}\n                                    currentPlan={user.currentPlan}\n                                    state={this.state.state}\n                                    toggleSubmit={this.toggleSubmit}\n                                    startPayment={this.startPayment}\n                                    showError={this.showError}\n                                    validateInput={this.validateInput}\n                                />\n                                {this.renderTerms()}\n                            </div>\n                        }\n                        {\n                            state === 'SUCCESS' &&\n                            this.renderSuccess()\n                        }\n                        {\n                            showSellingContract &&\n                            <SellingContract\n                                show={showSellingContract}\n                                handleVisibility={this.handleSellingContractVisibility}\n                                duration={this.props.duration}\n                                durationType={this.props.durationType}\n                                calculatedPrice={this.props.price}\n                                unitPrice={this.props.unitPrice}\n                            />\n                        }\n                        {\n                            showRefundContract &&\n                            <RefundContract\n                                show={showRefundContract}\n                                handleVisibility={this.handleRefundContractVisibility}\n                            />\n                        }\n                    </div>\n                </div>\n            </Container >\n        )\n    }\n}\n\nconst mapStateToProps = ({ user, language, plans, errorDefinitions, trimmedFileInfo }) => {\n    return {\n        user,\n        language,\n        plans,\n        errorDefinitions,\n        trimmedFileInfo\n    }\n}\n\nexport default connect(mapStateToProps, { clearTrimmedFileInfo })(withRouter(injectIntl(Payment)));\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { Container, Table } from 'react-bootstrap';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport * as actions from '../../actions';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n    faCheckCircle, faTimesCircle\n} from '@fortawesome/free-solid-svg-icons';\n\n\nclass Transaction extends Component {\n\n    componentDidMount() {\n        if (!_.isEmpty(this.props.user)) {\n            this.props.getTransactions(this.props.user);\n        }\n    }\n\n    componentWillReceiveProps({ transactions, user }) {\n        if (_.isEmpty(this.props.user) && !_.isEmpty(user)) {\n            this.props.getTransactions(user);\n        } else if (!_.isEmpty(transactions)) {\n            var size = transactions.length || 0;\n            var sizeTmp = transactions.length || 0;\n            size = parseInt(size / 10);\n            if (sizeTmp % 10 !== 0)\n                size++;\n            this.props.setArraySize(size);\n        }\n    }\n\n    // 1 , 2 ,3 pages, also add to list on profile click\n\n    renderTransaction(transaction, index) {\n        return (\n            <tr key={index}>\n                <td className=\"text-center\">{transaction.date}</td>\n                <td className=\"text-center\">{transaction.amount + \" minutes\"}</td>\n                <td className=\"text-center\">{transaction.currency + \" \" + transaction.price}</td>\n                <td className=\"text-center\">{transaction.card}</td>\n                <td className=\"text-center\">\n                    {\n                        transaction.status === 'success' ?\n                            <FontAwesomeIcon icon={faCheckCircle} color={'green'} />\n                            :\n                            <FontAwesomeIcon icon={faTimesCircle} color={'red'} />\n                    }\n                </td>\n            </tr>\n        )\n    }\n    render() {\n        var { transactions, activePage } = this.props;\n        if (transactions) {\n            transactions = transactions.slice((activePage - 1) * 10, activePage * 10)\n        }\n        return (\n            <Container className={this.props.className}>\n                <Table responsive striped bordered hover >\n                    <thead>\n                        <tr>\n                            <th className=\"text-center\">\n                                <FormattedMessage id={\"User.Tab.Transaction.Header.date\"} />\n                            </th>\n                            <th className=\"text-center\">\n                                <FormattedMessage id={\"User.Tab.Transaction.Header.amount\"} />\n                            </th>\n                            <th className=\"text-center\">\n                                <FormattedMessage id={\"User.Tab.Transaction.Header.price\"} />\n                            </th>\n                            <th className=\"text-center\">\n                                <FormattedMessage id={\"User.Tab.Transaction.Header.card\"} />\n                            </th>\n                            <th className=\"text-center\">\n                                <FormattedMessage id={\"User.Tab.Transaction.Header.status\"} />\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {transactions.map(this.renderTransaction)}\n                    </tbody>\n                </Table>\n            </Container>\n        )\n    }\n}\nconst mapStateToProps = ({ user, transactions }) => {\n    return {\n        user,\n        transactions\n    }\n}\n\nexport default connect(mapStateToProps, actions)(injectIntl(Transaction));","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport { Container, Tab, Row, Col, Nav, Pagination } from 'react-bootstrap';\nimport { FormattedMessage } from 'react-intl';\n\nimport DashboardHeader from '../dashboard-header';\nimport Profile from './profile';\nimport Payment from './payment';\nimport TransactionHistory from './transaction-history';\n\nclass User extends Component {\n    constructor(props) {\n        super(props);\n\n        let { hashValue, fileId } = this.calculateHashValue(props);\n        this.state = {\n            activeTabKey: hashValue ? hashValue : 'profile',\n            transactionHistory: [],\n            activePage: 1,\n            pageItems: [],\n            fileId\n        }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let { hashValue } = this.calculateHashValue(nextProps);\n        this.setState({\n            activeTabKey: hashValue\n        });\n    }\n\n    calculateHashValue = (props) => {\n        let hashValue = props.location.hash ? props.location.hash.substr(1) : '';\n        let hashSplit = hashValue.split('?');\n        hashValue = hashSplit[0];\n        let queryParam = hashSplit[1];\n        let fileId = undefined;\n        if (queryParam) {\n            queryParam = queryParam.substr(1);\n            fileId = queryParam.split('=')[1];\n        }\n        return {\n            hashValue, fileId\n        }\n    }\n\n    changeTab = (tabName) => {\n        this.setState({\n            activeTabKey: tabName\n        });\n        this.props.history.push('#' + tabName)\n    }\n\n    onSelectTab = (key) => {\n        this.setState({\n            activeTabKey: key\n        })\n    }\n\n    changeTransactionPage = (e) => {\n        this.setState({\n            activePage: parseInt(e.target.text) || this.state.activePage\n        })\n    }\n\n    setArraySize = (size) => {\n        var items = [];\n        for (let number = 1; number < size + 1; number++) {\n            items.push(\n                <Pagination.Item key={number} active={number === this.state.activePage}>\n                    {number}\n                </Pagination.Item>,\n            );\n        }\n        this.setState({\n            arraySize: size,\n            pageItems: items\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <DashboardHeader />\n                <Container className='profile-container'>\n                    <Tab.Container id=\"left-tabs-example\" activeKey={this.state.activeTabKey} onSelect={this.onSelectTab}>\n                        <Row>\n                            <Col sm={3} className='user-tabs'>\n                                <Nav variant=\"pills\" className=\"flex-column\">\n                                    <Nav.Item>\n                                        <Nav.Link href='#profile' eventKey=\"profile\">\n                                            <FormattedMessage id='User.Tabs.profile' />\n                                        </Nav.Link>\n                                    </Nav.Item>\n                                    <Nav.Item>\n                                        <Nav.Link href='#payment' eventKey=\"payment\">\n                                            <FormattedMessage id='User.Tabs.payment' />\n                                        </Nav.Link>\n                                    </Nav.Item>\n                                    <Nav.Item>\n                                        <Nav.Link href='#transaction' eventKey=\"transaction\" onClick={() => this.setState({ activeTabKey: 'transaction' })}>\n                                            <FormattedMessage id=\"User.Tabs.transaction\" />\n                                        </Nav.Link>\n                                    </Nav.Item>\n                                </Nav>\n                            </Col>\n                            <Col sm={9} className='user-tab-content-container'>\n                                <Tab.Content>\n                                    <Tab.Pane eventKey=\"profile\">\n                                        <Profile />\n                                    </Tab.Pane>\n                                    <Tab.Pane eventKey=\"payment\">\n                                        <Payment changeTab={this.changeTab} />\n                                    </Tab.Pane>\n                                    <Tab.Pane eventKey=\"transaction\">\n                                        <TransactionHistory className=\"user-tab-transaction-history\"\n                                            setArraySize={this.setArraySize} activePage={this.state.activePage} />\n                                        {\n                                            this.state.arraySize > 1 && (\n                                                <Container className=\"user-tab-transaction-history-paging d-flex justify-content-end\" >\n                                                    <Pagination onClick={this.changeTransactionPage}>{this.state.pageItems}</Pagination>\n                                                </Container>\n                                            )\n                                        }\n                                    </Tab.Pane>\n                                </Tab.Content>\n                            </Col>\n                        </Row>\n                    </Tab.Container>\n                </Container>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = ({ user }) => {\n    return {\n        user\n    }\n}\n\nexport default connect(mapStateToProps)(withRouter(User));","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { Player, BigPlayButton, PlayToggle, ReplayControl, ForwardControl, VolumeMenuButton, PlaybackRateMenuButton, ControlBar , PosterImage} from 'video-react';\nimport 'video-react/dist/video-react.css'; // import css\n\nclass VideoPlayer extends Component {\n  componentDidMount() {\n    // this.video.addEventListener('play', () => this.startInterval());\n    // this.video.addEventListener('pause', () => this.stopInterval());\n    // this.video.addEventListener('seeked', () => this.updateTime());\n    this.player.subscribeToStateChange(this.handleStateChange.bind(this));\n  }\n  handleStateChange(state, prevState) {\n    // copy player state to this component's state\n    this.props.onTimeUpdate(state.currentTime)\n  }\n  startInterval() {\n    this.interval = setInterval(() => {\n      this.updateTime();\n    }, 100);\n  }\n\n  stopInterval() {\n    clearInterval(this.interval);\n  }\n\n  updateTime() {\n    if (this.props.onTimeUpdate) {\n      this.props.onTimeUpdate(this.video.currentTime);\n    }\n  }\n\n  render() {\n    /* eslint-disable jsx-a11y/media-has-caption */\n    return (\n      <div>\n        <Player\n          ref={(c) => { this.player = c; }}\n          src={this.props.src}\n          controls\n          style={{ width: '100%' }}\n          //poster=\"this.props.poster ||'../assets/audio_thumbnail.png'\"\n        >\n          <BigPlayButton position=\"center\" />\n          <ControlBar>\n            <PlayToggle />\n            <ReplayControl seconds={5} order={2.1} />\n            <ForwardControl seconds={5} order={3.1} />\n            <VolumeMenuButton vertical />\n            <PlaybackRateMenuButton rates={[2, 1.5, 1, 0.5, 0.1]} />\n          </ControlBar>\n        </Player>\n      </div>\n    );\n    /* eslint-enable */\n  }\n}\n\nVideoPlayer.propTypes = {\n  src: PropTypes.string.isRequired,\n  onTimeUpdate: PropTypes.func,\n};\n\nPosterImage.propTypes = {\n  // The poster image url\n  poster: PropTypes.string,\n\n}\n\nVideoPlayer.defaultProps = {\n  onTimeUpdate: null,\n};\n\nexport default VideoPlayer;\n","import Immutable from 'immutable';\nimport { CharacterMetadata } from 'draft-js';\n\nimport { TRANSCRIPT_SPACE } from './transcript-entities';\n\nconst updateBlock = (contentBlock, contentState) =>\n  contentBlock.characterList.reduce(\n    ({ characterList, text }, character, index) => {\n      // Is this the first character?\n      if (!characterList.isEmpty()) {\n        const previousCharacter = characterList.last();\n        // Does the previous character have an entity?\n        if (previousCharacter.entity) {\n          // Does the previous character have a different entity?\n          if (character.entity) {\n            const entity = contentState.getEntity(character.entity);\n            const previousEntity = contentState.getEntity(previousCharacter.entity);\n            // Does the different entity have the same type?\n            if (entity.type === previousEntity.type && entity !== previousEntity) {\n              // Merge the entities\n              contentState.mergeEntityData(previousCharacter.entity, { end: entity.data.end });\n              return {\n                characterList: characterList.push(CharacterMetadata.applyEntity(\n                  character,\n                  previousCharacter.entity,\n                )),\n                text: text + contentBlock.text[index],\n              };\n            } else if (\n              entity.type === TRANSCRIPT_SPACE &&\n              previousEntity.type === TRANSCRIPT_SPACE\n            ) {\n              return {\n                characterList,\n                text,\n              };\n            }\n          }\n        } else {\n          // Is this character a space?\n          if (contentState.getEntity(character.entity).type === TRANSCRIPT_SPACE) {\n            // Set previous character's entity to that of the character before it\n            return {\n              characterList: characterList\n                .set(-1, CharacterMetadata.applyEntity(\n                  previousCharacter,\n                  characterList.get(-2).entity,\n                ))\n                .push(character),\n              text: text + contentBlock.text[index],\n            };\n          }\n          // Otherwise set previous character's entity to this character's\n          return {\n            characterList: characterList\n              .set(-1, CharacterMetadata.applyEntity(previousCharacter, character.entity))\n              .push(character),\n            text: text + contentBlock.text[index],\n          };\n        }\n      }\n      return {\n        characterList: characterList.push(character),\n        text: text + contentBlock.text[index],\n      };\n    },\n    { characterList: new Immutable.List(), text: '' },\n  );\n\nexport default updateBlock;\n","export const TRANSCRIPT_SPACE = 'TRANSCRIPT_SPACE';\nexport const TRANSCRIPT_WORD = 'TRANSCRIPT_WORD';\n","import React, { Component } from 'react';\nimport { injectIntl } from 'react-intl';\nimport { Button, Overlay } from 'react-bootstrap';\nimport { Popover } from 'react-bootstrap';\nimport { connect } from 'react-redux';\nimport { setCurrentSpeakerBox } from '../actions';\nimport { ListGroup } from 'react-bootstrap';\nimport '../styles/speaker-box.css';\n\n\nclass SpeakerBox extends Component {\n    state = {\n        speakers: undefined,\n        speakerTag: '',\n        show: false,\n        useState: false,\n    }\n\n    ref = null;\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.speakerList) {\n            this.setState({\n                speakers: nextProps.speakerList,\n                useState: false\n            })\n        }\n    }\n\n    addNew = (e, addButton) => {\n        // console.log('New speaker submit', e)\n        if (e.key !== 'Enter' && !addButton) {\n            console.log('Not Enter')\n            return\n        }\n        const { speakerTag } = this.state;\n        if (speakerTag && !this.state.speakers.includes(speakerTag)) {\n            this.setState({\n                speakerTag: ''\n            })\n            this.props.addNewSpeaker(speakerTag)\n        }\n    }\n\n    editLocalSpeaker = (e, index) => {\n        var { speakers } = this.state;\n        speakers = speakers.update(index, (item) => {\n            return item.set('name', e.target.value);\n        })\n        this.setState({\n            speakers,\n            useState: true\n        })\n    }\n\n    checkSubmit = (e, index) => {\n        if (e.key === 'Enter') {\n            this.props.editSpeaker(e.target.value, index)\n            this.props.setCurrentSpeakerBox(-1);\n            return\n        }\n    }\n\n    setSpeaker = (blockIndex, speakerIndex) => {\n        this.props.setSpeaker(blockIndex, speakerIndex);\n        this.props.setCurrentSpeakerBox(-1);\n    }\n\n    render() {\n        var { openedIndex, index, speaker, speakerList, setCurrentSpeakerBox } = this.props;\n        const { speakers, useState } = this.state;\n        if (speaker >= speakerList.toJS().length) {\n            speaker = 0;\n        }\n        var speakerName = speakerList.toJS()[speaker].name;\n        if (!speakerName)\n            speakerName = '>';\n\n        if (speakerName.length > 3)\n            speakerName = speakerName.substring(0, 3);\n\n        if (openedIndex === index) {\n            return (\n                <div>\n                    <Button variant=\"primary\" className=\"btn-circle\" ref={c => this.refButton = c} onClick={() => setCurrentSpeakerBox(-1)}>\n                        {speakerName.toUpperCase()}\n                    </Button>\n                    <Overlay target={this.refButton} show={true} placement=\"right\" rootClose={true} onHide={ () => setCurrentSpeakerBox(-1)}>\n                        <div>\n                            <Popover id=\"popover-basic\">\n                                <Popover.Title as=\"h3\">\n                                    <Button variant=\"primary\"\n                                        className=\"btn-circle list-btn-circle\"\n                                        onClick={() => this.addNew(index, true)}>\n                                        +\n                                    </Button>\n                                    <input\n                                        id={'speakerTag'}\n                                        type=\"text\"\n                                        className=\"speaker-input\"\n                                        contentEditable={false}\n                                        onChange={(e) => this.setState({ speakerTag: e.target.value })}\n                                        onKeyDown={this.addNew}\n                                        value={this.state.speakerTag}\n                                        placeholder={this.props.intl.formatMessage({ id: \"Editor.Speaker.Input\" })}\n                                    />\n                                </Popover.Title>\n                                <Popover.Content>\n                                    <ListGroup>\n                                        {speakerList.map((speaker, speakerIndex) => {\n                                            var speakerName = speaker.get('name');\n                                            if (!speakerName)\n                                                speakerName = '>';\n\n                                            if (speakerName.length > 3)\n                                                speakerName = speakerName.substring(0, 3);\n                                            return (\n                                                <ListGroup.Item key={speakerIndex}>\n                                                    <div className=\"list-item\">\n                                                        <Button variant=\"primary\" className=\"btn-circle speaker-tag-button list-btn-circle\" onClick={() => this.setSpeaker(index, speakerIndex)}>\n                                                            {speakerName.toUpperCase()}\n                                                        </Button>\n                                                        <input\n                                                            id={speakerIndex}\n                                                            className={speakerIndex === 0 ? \"no-speaker-input\": \"speaker-input\"}\n                                                            type=\"text\"\n                                                            placeholder={'No speaker'}\n                                                            disabled={speakerIndex === 0 ? true : false}\n                                                            onKeyDown={(e) => this.checkSubmit(e, speakerIndex)}\n                                                            onChange={(e) => this.editLocalSpeaker(e, speakerIndex)}\n                                                            value={useState ? speakers.toJS()[speakerIndex].name : speaker.get('name')}\n                                                        />\n                                                    </div>\n                                                </ListGroup.Item>\n                                            )\n                                        }\n                                        )\n                                        }\n                                    </ListGroup>\n                                </Popover.Content>\n                            </Popover>\n                        </div>\n                    </Overlay>\n                </div>\n            );\n        }\n        return (\n            <div>\n                <Button variant=\"primary\" className=\"btn-circle\" ref={c => this.refButton = c} onClick={() => setCurrentSpeakerBox(index)}>\n                    {speakerName.toUpperCase()}\n                </Button>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({ selectedSpeakerBox }) => {\n    return ({\n        openedIndex: selectedSpeakerBox.index\n    })\n}\n\nexport default connect(mapStateToProps, { setCurrentSpeakerBox })(injectIntl(SpeakerBox));\n","import React, { useState } from 'react';\nimport { EditorBlock } from 'draft-js';\nimport PropTypes from 'prop-types';\n\nimport SpeakerBox from '../speaker-box';\nimport Utils from '../../utils';\n\nconst TranscriptEditorBlock = (props) => {\n  const { openedEditable } = useState(false);\n  /*   const { contentState } = props;\n    const entity = contentState.getEntity(entityKey);\n    const titleString = `${entity.data.start.toFixed(2)} - ${entity.data.end.toFixed(2)}`; */\n  const characterList = props.block.getCharacterList();\n  const contentState = props.contentState;\n  let start = 0;\n\n  if (characterList && characterList.first()) {\n    start = contentState.getEntity(characterList.first().entity).data.start;\n  } else {\n    return <div></div>;\n  }\n\n  return (\n    <div className=\"transcript-editor-block row\">\n      <div className=\"transcript-editor-speaker\" contentEditable={false}>\n        <SpeakerBox\n          index={props.block.get('key')}\n          openedEditable={openedEditable}\n          speaker={props.block.data.get('speaker')}\n          speakerList={props.blockProps.speakers}\n          editSpeaker={props.blockProps.editSpeaker}\n          addNewSpeaker={props.blockProps.addNewSpeaker}\n          setSpeaker={props.blockProps.setSpeaker}\n        />\n        <div contentEditable={false}>{Utils.formatTime(start)}</div>\n      </div>\n      <div className=\"transcript-editor-text\">\n        <EditorBlock {...props} />\n      </div>\n    </div>\n  );\n};\n\nTranscriptEditorBlock.propTypes = {\n  block: PropTypes.node.isRequired,\n  blockProps: PropTypes.shape({\n    showSpeakers: PropTypes.bool,\n  }).isRequired,\n};\n\nexport default TranscriptEditorBlock;\n","import React, { Component } from 'react';\nimport { Editor, EditorState, CharacterMetadata, getDefaultKeyBinding } from 'draft-js';\nimport { connect } from 'react-redux';\nimport Immutable from 'immutable';\nimport PropTypes from 'prop-types';\n\nimport updateBlock from '../../utils/transcription/updateBlock';\nimport TranscriptEditorBlock from './transcript-editor-block';\nimport { TRANSCRIPT_WORD, TRANSCRIPT_SPACE } from '../../utils/transcription/transcript-entities';\n\nclass TranscriptEditor extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n    this.handleBeforeInput = this.handleBeforeInput.bind(this);\n    this.handleReturn = this.handleReturn.bind(this);\n    this.blockRenderer = this.blockRenderer.bind(this);\n    this.handleKeyboardEvent = this.handleKeyboardEvent.bind(this);\n  }\n\n  onChange(editorState) {\n    if (this.props.disabled) {\n      return;\n    }\n\n    const previousEditorState = this.props.editorState;\n    const lastChangeType = editorState.getLastChangeType();\n\n    const selectionState = editorState.getSelection();\n    const previousSelectionState = previousEditorState.getSelection();\n\n    let contentState = editorState.getCurrentContent();\n\n    if (this.props.onSelectionChange && selectionState !== previousSelectionState) {\n      this.sendSelectionChange(contentState, selectionState);\n    }\n\n    if (lastChangeType !== 'undo' && contentState !== previousEditorState.getCurrentContent()) {\n      const startKey = selectionState.getStartKey();\n      const previousStartKey = previousSelectionState.getStartKey();\n\n      const blockMap = contentState.getBlockMap();\n\n      const newBlockMap = blockMap.reduce((_newBlockMap, contentBlock, blockKey) => {\n        let newContentBlock = contentBlock;\n\n        // Is this the block currently being edited?\n        if (blockKey === startKey) {\n          // Has everything been deleted from the block?\n          if (newContentBlock.characterList.isEmpty()) {\n            // Remove it\n            return _newBlockMap;\n          }\n\n          const startOffset = selectionState.getStartOffset();\n          // Have we merged blocks?\n          if (blockMap.size < previousEditorState.getCurrentContent().getBlockMap().size) {\n            // Do we have two adjacent words?\n            if (\n              contentState.getEntity(newContentBlock.characterList.get(startOffset).entity).type ===\n              TRANSCRIPT_WORD &&\n              contentState.getEntity(newContentBlock.characterList.get(startOffset - 1).entity)\n                .type === TRANSCRIPT_WORD\n            ) {\n              // Add a space\n              newContentBlock = newContentBlock\n                .set(\n                  'characterList',\n                  newContentBlock.characterList.insert(\n                    startOffset,\n                    CharacterMetadata.applyEntity(\n                      CharacterMetadata.create(),\n                      (() => {\n                        contentState = contentState.createEntity(\n                          'TRANSCRIPT_SPACE',\n                          'IMMUTABLE',\n                          null,\n                        );\n                        return contentState.getLastCreatedEntityKey();\n                      })(),\n                    ),\n                  ),\n                )\n                .set(\n                  'text',\n                  `${newContentBlock.text.slice(0, startOffset)}` +\n                  ` ${newContentBlock.text.slice(startOffset)}`,\n                );\n            }\n          }\n\n          // Update the entities\n          newContentBlock = newContentBlock.merge(updateBlock(newContentBlock, contentState));\n\n          // Have we created a leading space? (e.g. when splitting a block)\n          if (\n            contentState.getEntity(newContentBlock.characterList.first().entity).type ===\n            TRANSCRIPT_SPACE\n          ) {\n            // Remove the leading space\n            newContentBlock = newContentBlock\n              .set('characterList', newContentBlock.characterList.shift())\n              .set('text', newContentBlock.text.substring(1));\n          }\n\n          // Is this block missing data? (e.g. it's been split)\n          if (newContentBlock.data.isEmpty()) {\n            // Copy the previous block's data\n            newContentBlock = newContentBlock.set('data', _newBlockMap.last().data);\n          }\n          // Otherwise is this the block previously being edited? (e.g. that was split)\n        } else if (blockKey === previousStartKey) {\n          // Have we created a trailing space?\n          if (\n            contentState.getEntity(newContentBlock.characterList.last().entity).type ===\n            TRANSCRIPT_SPACE\n          ) {\n            // Remove the trailing space\n            newContentBlock = newContentBlock\n              .set('characterList', newContentBlock.characterList.pop())\n              .set('text', newContentBlock.text.substring(0, newContentBlock.text.length - 1));\n          }\n        }\n\n        return _newBlockMap.set(blockKey, newContentBlock);\n      }, new Immutable.OrderedMap());\n\n      contentState = contentState.set('blockMap', newBlockMap);\n\n      this.props.onChange({\n        editorState: EditorState.push(previousEditorState, contentState, lastChangeType),\n        speakers: this.props.speakers,\n      });\n      return;\n    }\n    this.props.onChange({\n      editorState,\n      speakers: this.props.speakers,\n    });\n  }\n\n  handleBeforeInput(chars) {\n    // Don't allow inserting additional spaces between words\n    if (chars === ' ') {\n      const { editorState } = this.props;\n      const contentState = editorState.getCurrentContent();\n      const selectionState = editorState.getSelection();\n      const startKey = selectionState.getStartKey();\n      const startOffset = selectionState.getStartOffset();\n      const selectedBlock = editorState.getCurrentContent().getBlockForKey(startKey);\n      const entityKeyBefore = selectedBlock.getEntityAt(startOffset - 1);\n      if (entityKeyBefore && contentState.getEntity(entityKeyBefore).type === TRANSCRIPT_SPACE) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  handleKeyboardEvent(e) {\n    if (getDefaultKeyBinding(e)) {\n      return getDefaultKeyBinding(e);\n    }\n    if (this.props.onKeyboardEvent) {\n      this.props.onKeyboardEvent(e);\n    }\n    return null;\n  }\n\n  blockRenderer(map) {\n    return {\n      component: TranscriptEditorBlock,\n      props: {\n        speakers: this.props.speakers,\n        showSpeakers: this.props.showSpeakers,\n        index: map.key,\n        addNewSpeaker: this.props.addNewSpeaker,\n        editSpeaker: this.props.editSpeaker,\n        setSpeaker: this.props.setSpeaker\n      },\n    };\n  }\n\n  focus() {\n    this.editor.focus();\n  }\n\n  sendSelectionChange(contentState, selectionState) {\n    const startKey = selectionState.isBackward ? selectionState.focusKey : selectionState.anchorKey;\n    const startOffset = selectionState.isBackward\n      ? selectionState.focusOffset\n      : selectionState.anchorOffset;\n    const endKey = selectionState.isBackward ? selectionState.anchorKey : selectionState.focusKey;\n    const endOffset = selectionState.isBackward\n      ? selectionState.anchorOffset\n      : selectionState.focusOffset;\n\n    const startEntityKey = contentState.getBlockForKey(startKey).getEntityAt(startOffset);\n    const endEntityKey = contentState.getBlockForKey(endKey).getEntityAt(endOffset);\n\n    const startEntity = startEntityKey && contentState.getEntity(startEntityKey);\n    const endEntity = endEntityKey && contentState.getEntity(endEntityKey);\n\n    this.props.onSelectionChange({\n      startTime: startEntity && startEntity.data.start,\n      startWordID: startEntity && startEntity.data.id,\n      startBlockKey: startKey,\n      startCharacterOffset: startOffset,\n      endTime: endEntity && endEntity.data.end,\n      endID: endEntity && endEntity.data.id,\n      endBlockKey: endKey,\n      endCharacterOffset: endOffset,\n    });\n  }\n\n  handleReturn() {\n    const { editorState } = this.props;\n    const contentState = editorState.getCurrentContent();\n    const selectionState = editorState.getSelection();\n    const startKey = selectionState.getStartKey();\n    const startOffset = selectionState.getStartOffset();\n    const selectedBlock = editorState.getCurrentContent().getBlockForKey(startKey);\n    const entityKeyBefore = selectedBlock.getEntityAt(startOffset - 1);\n    const entityKeyAfter = selectedBlock.getEntityAt(startOffset);\n    if (\n      (entityKeyBefore && contentState.getEntity(entityKeyBefore).type === TRANSCRIPT_SPACE) ||\n      (entityKeyAfter && contentState.getEntity(entityKeyAfter).type === TRANSCRIPT_SPACE)\n    ) {\n      return false;\n    }\n    return false;\n  }\n\n  // eslint-disable-next-line\n  handlePastedText() {\n    return true;\n  }\n\n  render() {\n    const { editorState, openedIndex } = this.props;\n    return (\n      <div className=\"transcript-editor\">\n        <Editor\n          ref={(editor) => {\n            this.editor = editor;\n          }}\n          editorState={editorState}\n          onChange={this.onChange}\n          handleReturn={this.handleReturn}\n          handleBeforeInput={this.handleBeforeInput}\n          keyBindingFn={this.handleKeyboardEvent}\n          handlePastedText={this.handlePastedText}\n          blockRendererFn={this.blockRenderer}\n          readOnly={(openedIndex && openedIndex !== -1) ? true : false}\n        />\n      </div>\n    );\n  }\n}\n\nTranscriptEditor.propTypes = {\n  editorState: PropTypes.instanceOf(EditorState),\n  speakers: PropTypes.instanceOf(Immutable.List),\n  onChange: PropTypes.func.isRequired,\n  onSelectionChange: PropTypes.func,\n  onKeyboardEvent: PropTypes.func,\n  disabled: PropTypes.bool,\n  showSpeakers: PropTypes.bool,\n};\n\nTranscriptEditor.defaultProps = {\n  editorState: EditorState.createEmpty(),\n  speakers: new Immutable.List(),\n  onSelectionChange: null,\n  onKeyboardEvent: null,\n  disabled: false,\n  showSpeakers: false,\n};\n\nconst mapStateToProps = ({ selectedSpeakerBox }) => {\n  return ({\n    openedIndex: selectedSpeakerBox.index\n  })\n}\n\nexport default connect(mapStateToProps, null)(TranscriptEditor);\n","import React from 'react';\nimport { ContentState } from 'draft-js';\nimport PropTypes from 'prop-types';\n\nconst TranscriptEditorWord = ({ entityKey, children, contentState }) => {\n  const entity = contentState.getEntity(entityKey);\n  const titleString = `${entity.data.start.toFixed(2)} - ${entity.data.end.toFixed(2)}`;\n  return (\n    <span\n      title={titleString}\n      data-start={entity.data.start}\n      data-end={entity.data.end}\n      className=\"transcript-editor-entity__word\"\n    >\n      {children}\n    </span>\n  );\n};\n\nTranscriptEditorWord.propTypes = {\n  entityKey: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  contentState: PropTypes.instanceOf(ContentState).isRequired,\n};\n\nexport default TranscriptEditorWord;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TranscriptEditorSpace = ({ children }) => (\n  <span className=\"transcript-editor-entity__space\">\n    {children}\n  </span>\n);\n\nTranscriptEditorSpace.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default TranscriptEditorSpace;\n","import {\n  EditorState,\n  ContentBlock,\n  CharacterMetadata,\n  ContentState,\n  SelectionState,\n  BlockMapBuilder,\n} from 'draft-js';\nimport Immutable from 'immutable';\n\nconst convertFromTranscript = (transcript) => {\n  let contentState = new ContentState();\n\n  const contentBlocks = transcript.get('segments').map((segment, segmentIndex) =>\n    new ContentBlock({\n      key: segmentIndex.toString(),\n      characterList: segment\n        .get('words')\n        .map((word) => {\n          contentState = contentState.createEntity('TRANSCRIPT_WORD', 'MUTABLE', {\n            start: word.get('start'),\n            end: word.get('end'),\n          });\n\n          const entityKey = contentState.getLastCreatedEntityKey();\n\n          return new Immutable.List(word\n            .get('text')\n            .split('')\n            .map(() => CharacterMetadata.applyEntity(CharacterMetadata.create(), entityKey)));\n        })\n        .interpose(new Immutable.List([\n          CharacterMetadata.applyEntity(\n            CharacterMetadata.create(),\n            (() => {\n              contentState = contentState.createEntity('TRANSCRIPT_SPACE', 'IMMUTABLE', null);\n              return contentState.getLastCreatedEntityKey();\n            })(),\n          ),\n        ]))\n        .flatten(1),\n      text: segment\n        .get('words')\n        .map(w => w.get('text'))\n        .join(' '),\n      data: new Immutable.Map({ speaker: segment.get('speaker') }),\n    }));\n\n  const selectionState = SelectionState.createEmpty(contentBlocks.first().getKey());\n\n  const blockMap = BlockMapBuilder.createFromArray(contentBlocks);\n\n  contentState = contentState.merge({\n    blockMap,\n    selectionBefore: selectionState,\n    selectionAfter: selectionState,\n  });\n\n  const speakers = transcript.get('speakers');\n\n  const editorState = EditorState.createWithContent(contentState);\n  return { editorState, speakers };\n};\n\nexport default convertFromTranscript;\n","import Immutable from 'immutable';\n\nimport { Transcript, TranscriptSegment, TranscriptWord } from 'transcript-model';\n\nconst convertToTranscript = (contentState, speakers) => {\n  const segments = contentState.getBlockMap().toArray().map((block) => {\n    const words = [];\n\n    block.findEntityRanges(\n      (character) => {\n        const entityKey = character.getEntity();\n        if (entityKey === null) {\n          return false;\n        }\n        return contentState.getEntity(entityKey).getType() === 'TRANSCRIPT_WORD';\n      },\n      (start, end) => {\n        const entity = contentState.getEntity(block.getEntityAt(start));\n        const text = block.getText().substring(start, end);\n        words.push(new TranscriptWord({\n          start: entity.data.start,\n          end: entity.data.end,\n          id: entity.data.id,\n          text,\n        }));\n      },\n    );\n\n    return new TranscriptSegment({\n      words: new Immutable.List(words),\n      speaker: block.data.get('speaker'),\n    });\n  });\n\n  return new Transcript({\n    segments: new Immutable.List(segments),\n    speakers,\n  });\n};\n\nexport default convertToTranscript;\n","\nconst convertToJSON = (transcript) => {\n  let newJson = { speakers: [], segments: [] }\n\n  if (transcript.segments) return transcript;\n  console.log('transcript', transcript)\n\n  for (let i = 0; i < transcript.length; i++) {\n    var { alternatives } = transcript[i];\n    var { words } = alternatives[0];\n    if (words) {\n      let speaker = words[0].speakerTag\n      let newWords = words.map((word, ind) => {\n        return {\n          start: parseFloat(word.startTime.seconds + '.' + word.startTime.nanos / 100),\n          end: parseFloat(word.endTime.seconds + '.' + word.endTime.nanos / 100),\n          text: word.word\n        }\n      })\n      newJson.speakers.push({ name: '' })\n      newJson.segments.push({ words: newWords, speaker })\n\n    }\n  }\n\n  return newJson\n}\n\nexport default convertToJSON;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TranscriptEditorSpanUnplayed = ({ children }) => (\n  <span className=\"transcript-editor-span transcript-editor-span__unplayed\">\n    {children}\n  </span>\n);\n\nTranscriptEditorSpanUnplayed.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default TranscriptEditorSpanUnplayed;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TranscriptEditorSpanPlayed = ({ children }) => (\n  <span className=\"transcript-editor-span transcript-editor-span__played\">\n    {children}\n  </span>\n);\n\nTranscriptEditorSpanPlayed.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default TranscriptEditorSpanPlayed;\n","import Immutable from 'immutable';\nimport { CompositeDecorator, EditorState } from 'draft-js';\n\nimport TranscriptEditorWord from '../../components/transcription/transcript-editor-word';\nimport TranscriptEditorSpace from '../../components/transcription/transcript-editor-space';\nimport TranscriptEditorSpanUnplayed from '../../components/transcription/transcript-editor-span-unplayed';\nimport TranscriptEditorSpanPlayed from '../../components/transcription/transcript-editor-span-played';\nimport { TRANSCRIPT_WORD, TRANSCRIPT_SPACE } from './transcript-entities';\n\nconst wordsDecorator = new CompositeDecorator([\n  {\n    strategy: (contentBlock, callback, contentState) => {\n      contentBlock.findEntityRanges((character) => {\n        const entityKey = character.getEntity();\n        if (entityKey === null) {\n          return false;\n        }\n        const entityType = contentState.getEntity(entityKey).getType();\n        return entityType === TRANSCRIPT_WORD;\n      }, callback);\n    },\n    component: TranscriptEditorWord,\n  },\n  {\n    strategy: (contentBlock, callback, contentState) => {\n      contentBlock.findEntityRanges((character) => {\n        const entityKey = character.getEntity();\n        if (entityKey === null) {\n          return false;\n        }\n        const entityType = contentState.getEntity(entityKey).getType();\n        return entityType === TRANSCRIPT_SPACE;\n      }, callback);\n    },\n    component: TranscriptEditorSpace,\n  },\n]);\n\nexport const withWords = editorState => EditorState.set(editorState, { decorator: wordsDecorator });\n\nconst PLAYED = 'PLAYED';\nconst UNPLAYED = 'UNPLAYED';\n\nclass TimeDecorator {\n  constructor(time) {\n    this.time = time;\n    this.components = {\n      [PLAYED]: TranscriptEditorSpanPlayed,\n      [UNPLAYED]: TranscriptEditorSpanUnplayed,\n    };\n  }\n\n  getDecorations(contentBlock, contentState) {\n    const characterList = contentBlock.getCharacterList();\n\n    if (\n      !characterList.first().entity ||\n      contentState.getEntity(characterList.last().entity).data.end < this.time\n    ) {\n      return new Immutable.List(new Array(characterList.size).fill(PLAYED));\n    }\n\n    if (contentState.getEntity(characterList.first().entity).data.start > this.time) {\n      return new Immutable.List(new Array(characterList.size).fill(UNPLAYED));\n    }\n\n    const index = characterList.findIndex(character =>\n      contentState.getEntity(character.entity).data.start > this.time);\n\n    if (index === -1) {\n      return new Immutable.List(new Array(characterList.size).fill(PLAYED));\n    }\n\n    /* eslint-disable function-paren-newline */\n    return new Immutable.List(\n      new Array(characterList.size).fill(PLAYED, 0, index - 1).fill(UNPLAYED, index - 1),\n    );\n    /* eslint-enable */\n  }\n\n  getComponentForKey(key) {\n    return this.components[key];\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  getPropsForKey() {\n    return null;\n  }\n}\n\nexport const withTime = (editorState, time) =>\n  EditorState.set(editorState, { decorator: new TimeDecorator(time) });\n","import TranscriptEditor from './transcript-editor';\nimport TranscriptEditorBlock from './transcript-editor-block';\nimport TranscriptEditorWord from './transcript-editor-word';\nimport TranscriptEditorSpace from './transcript-editor-space';\nimport { TRANSCRIPT_WORD, TRANSCRIPT_SPACE } from '../../utils/transcription/transcript-entities';\nimport convertFromTranscript from '../../utils/transcription/convertFromTranscript';\nimport convertToTranscript from '../../utils/transcription/convertToTranscript';\nimport convertToJSON from '../../utils/transcription/convertToJSON';\nimport { withWords, withTime } from '../../utils/transcription/decorators';\n\nexport default TranscriptEditor;\nexport {\n  TranscriptEditorBlock,\n  TranscriptEditorWord,\n  TranscriptEditorSpace,\n  TRANSCRIPT_WORD,\n  TRANSCRIPT_SPACE,\n  convertFromTranscript,\n  convertToTranscript,\n  convertToJSON,\n  withWords,\n  withTime,\n};\n","import React, { Component } from 'react';\nimport _ from 'lodash';\n\nimport TranscriptEditor, {\n  withTime\n} from '../transcription';\n\nimport '../../styles/transcript-editor.css';\n\nclass EditorView extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      decorator: 'withTime',\n      decorators: {\n        withTime: editorStateToBeDecorated =>\n        withTime(editorStateToBeDecorated, props.currentTime)\n      }\n    };\n  }\n\n  componentWillReceiveProps({ currentTime }) {\n    this.setState({\n      decorators: {\n        withTime: editorStateToBeDecorated =>\n        withTime(editorStateToBeDecorated, currentTime)\n      }\n    })\n  }\n\n  componentDidMount() {\n    if(!_.isEmpty(this.editor)) {\n      this.editor.focus();\n    }\n  }\n\n  handleChange = ({ editorState, speakers }) => {\n    this.setState({\n      editorState,\n      speakers\n    });\n    this.props.onTextChange(editorState);\n  }\n\n  // saveTranscript() {\n  //   const transcript = convertToTranscript(\n  //     this.state.editorState.getCurrentContent(),\n  //     this.state.speakers\n  //   );\n\n  //   const blob = new Blob([JSON.stringify(transcript.toJSON(), null, 2)], {\n  //     type: 'application/json;charset=utf-8',\n  //   });\n\n  //   window.open(URL.createObjectURL(blob));\n  // }\n\n  render() {\n    if(_.isEmpty(this.props.editorState)) return <div></div>;\n    return (\n      <div>\n            <TranscriptEditor\n              ref={(editor) => {\n                this.editor = editor;\n              }}\n              // editorState={this.props.editorState}\n              speakers={this.props.speakers}\n              onChange={this.handleChange}\n              showSpeakers\n              editSpeaker={this.props.editSpeaker}\n              addNewSpeaker={this.props.addNewSpeaker}\n              setSpeaker={this.props.setSpeaker}\n              editorState={this.state.decorators[this.state.decorator](this.props.editorState)}\n            />\n      </div>\n    );\n  }\n}\n\nexport default EditorView;\n","import React, { Component } from 'react';\nimport { DropdownButton, Dropdown, Button, Spinner } from 'react-bootstrap';\nimport { FormattedMessage, injectIntl } from 'react-intl';\n\nimport \"../styles/editor.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSave } from '@fortawesome/free-solid-svg-icons';\n\nclass Export extends Component {\n\n    renderSavingText() {\n        const { savingState } = this.props;\n        if (savingState === 0) {\n            return (\n                <p className=\"saving-state-text\">\n                </p>\n            )\n        } else if (savingState === 2) {\n            return (\n                <p className=\"saving-state-text saving\">\n                    <FormattedMessage id=\"Editor.SavingState.Saving\" />\n                </p>\n            )\n        } else if (savingState === 1) {\n            return (\n                <p className=\"saving-state-text saved\">\n                    <FormattedMessage id=\"Editor.SavingState.Saved\" />\n                </p>\n            )\n        } else if (savingState === -1) {\n            return (\n                <p className=\"saving-state-text unsaved\">\n                    <FormattedMessage id=\"Editor.SavingState.Unsaved\" />\n                </p>\n            )\n        } else if (savingState === -2) {\n            return (\n                <p className=\"saving-state-text error\">\n                    <FormattedMessage id=\"Editor.SavingState.Error\" />\n                </p>\n            )\n        }\n    }\n\n    render() {\n        const { intl, savingState, showDownloadSpinner } = this.props;\n        const { formatMessage } = intl;\n        return (\n            <div className='export'>\n                <DropdownButton id=\"dropdown-item-button\"\n                    title={\n                        <span>\n                            {formatMessage({ id: 'Transcription.Download.text' }) + '  '}\n                            <i className=\"fa fa-download\"> </i>\n                            {showDownloadSpinner && <Spinner size='sm' animation=\"grow\" role=\"status\" />}\n                        </span>\n                    }\n                >\n                    <Dropdown.Item as=\"button\" onClick={this.props.downloadAsTxt}>\n                        <FormattedMessage id='Transcription.Download.option1' />\n                    </Dropdown.Item>\n                    <Dropdown.Item as=\"button\" onClick={this.props.downloadAsDocx}>\n                        <FormattedMessage id='Transcription.Download.option2' />\n                    </Dropdown.Item>\n                    <Dropdown.Item as=\"button\" onClick={this.props.downloadAsSrt}>\n                        <FormattedMessage id='Transcription.Download.option3' />\n                    </Dropdown.Item>\n                </DropdownButton>\n                <Button className=\"save-button\" onClick={this.props.onSave} disabled={savingState !== -1 || savingState === 1 || savingState === 0}>\n                    {formatMessage({ id: 'Transcription.Save.text' }) + '  '}\n                    <FontAwesomeIcon icon={faSave} color=\"white\" size=\"1x\" />\n                    {savingState === 2 && <Spinner size='sm' animation=\"grow\" role=\"status\" />}\n                </Button>\n            </div>\n        )\n    }\n}\n\nexport default (injectIntl)(Export);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, Prompt } from 'react-router';\nimport _ from 'lodash';\nimport { fromJS } from 'immutable';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport Axios from 'axios';\nimport { Transcript } from 'transcript-model';\nimport { convertToRaw, convertFromRaw, EditorState } from 'draft-js';\nimport { Button, Spinner } from 'react-bootstrap';\n\nimport firebase from '../../utils/firebase';\nimport VideoPlayer from '../../components/editor/video-player';\nimport SpeechTextEditor from '../../components/editor/editor-view';\nimport {\n    convertFromTranscript,\n    convertToTranscript,\n    convertToJSON\n} from '../../components/transcription';\nimport Export from '../../components/editor-export';\nimport { handleTimeChange, isPlaying, setEditorFocus, getFile, setTrimmedFileInfo } from \"../../actions\";\nimport Dashboard from '../dashboard-header';\nimport Utils from '../../utils';\nimport \"../../styles/user.css\";\n\nclass TranscriptionResult extends Component {\n    constructor(props) {\n        super(props);\n\n        let fileId;\n        if (props.location && props.location.pathname) {\n            fileId = props.location.pathname.substr('/edit/'.length);\n        }\n\n        if (_.isEmpty(fileId)) {\n            props.history.push('/dashboard');\n        }\n\n        this.state = {\n            editorData: null,\n            editorState: null,\n            speakers: null,\n            numOfWords: '',\n            intervalHolder: undefined,\n            fileId,\n            savingState: 0, // 0-initial, 1-saved, -1: not saved, -2: error\n            blockNavigation: false,\n            currentTime: 0,\n            showReduceCreditsSpinner: false\n        }\n    }\n\n    componentDidMount() {\n        this.updateInterval = setInterval(this.updateTranscribedFile, 60000);\n    }\n\n    componentWillUnmount = async () => {\n        await this.updateTranscribedFile();\n        if (this.state.intervalHolder) {\n            clearInterval(this.state.intervalHolder);\n        }\n        clearInterval(this.updateInterval)\n    }\n\n    componentWillReceiveProps = ({ user, selectedFile }) => {\n        if (_.isEmpty(this.props.user) && !_.isEmpty(user)) {\n            this.props.getFile(this.state.fileId);\n        }\n        if (_.isEmpty(this.props.selectedFile) && !_.isEmpty(selectedFile)) {\n            this.getTranscriptionResult(selectedFile);\n        }\n    }\n\n    getTranscriptionResult = async (selectedFile) => {\n        var that = this;\n        if (!selectedFile) {\n            selectedFile = this.props.selectedFile;\n        }\n\n        var { intervalHolder } = this.state;\n        this.props.isPlaying(false)\n        clearInterval(intervalHolder);\n        if (!_.isEmpty(selectedFile) && selectedFile.status === 'DONE') {\n            this.setState({\n                showSpinner: true\n            })\n            let { data } = await firebase.functions().httpsCallable('getTranscriptionResult')({\n                fileId: selectedFile.id\n            });\n            console.log('fileData : ' + data);\n            let editorData = data.data;\n            var { editorState, speakers } = that.formatDataForEditor(editorData);\n            speakers = this.removeEmptySpeakers(speakers);\n            that.setState({\n                editorData,\n                editorState,\n                speakers,\n                showSpinner: false,\n                trimmed: data.trimmed,\n                minutesToShow: data.minutesToShow,\n                minutesToBePaid: data.minutesToBePaid\n            });\n        } else {\n            this.setState({\n                editorData: null,\n                editorState: null,\n                speakers: null,\n                prevEditorData: {},\n                intervalHolder: undefined,\n                showSpinner: false\n            })\n        }\n\n        let fileSrc = selectedFile.originalFile && selectedFile.originalFile.url ? selectedFile.originalFile.url : '';\n        if (selectedFile.resizedFile) {\n            var ref = firebase.storage().ref(selectedFile.resizedFile.filePath);\n            ref.getDownloadURL().then((downloadUrl) => {\n                Axios.get(downloadUrl)\n                    .then((url) => {\n                        fileSrc = url.config.url;\n                        that.setState({\n                            fileSrc\n                        })\n                    });\n            })\n                .catch(error => {\n                    // TODO: GET_DOWNLOAD_URL_ERROR\n                    console.log(error);\n                    this.setState({\n                        fileSrc\n                    })\n                })\n        } else {\n            this.setState({\n                fileSrc\n            })\n        }\n    }\n\n    removeEmptySpeakers(speakers) {\n        var filtered = speakers.toJS().filter(function (speaker) {\n            return speaker.name !== '';\n        });\n        // console.log(\"Not Filtered \", speakers)\n        // console.log(\"Filtered \", fromJS(filtered))\n        // return speakers\n        if (filtered.length === 0) {\n            filtered.push({ name: '' })\n        } else {\n            if (filtered[0].name !== '')\n                filtered.unshift({ name: '' })\n        }\n        return fromJS(filtered)\n    }\n\n    formatDataForEditor = (data) => {\n        if (data) {\n            const transcriptJson2 = convertToJSON(data)\n            const transcript = Transcript.fromJson(transcriptJson2);\n            return convertFromTranscript(transcript);\n        }\n        return {};\n    }\n\n    componentDidUpdate() {\n        const { savingState } = this.state;\n        if (!this.state.blockNavigation && savingState < 0) {\n            this.setState({\n                blockNavigation: true\n            });\n            window.addEventListener('beforeunload', this.beforeUnload);\n        } else if (this.state.blockNavigation && savingState >= 0) {\n            this.setState({\n                blockNavigation: false\n            });\n            window.removeEventListener('beforeunload', this.beforeUnload);\n        }\n    }\n\n    beforeUnload = e => {\n        const { intl } = this.props;\n        e.preventDefault();\n        let message = intl.formatMessage({ id: \"Editor.leaveMessage\" });\n        e.returnValue = message;\n        return message;\n    }\n\n    updateTranscribedFile = async () => {\n        const { editorState, isSaved, savingState } = this.state;\n        const { selectedFile } = this.props;\n        console.log('updateTranscribedFile called')\n        if (!_.isEmpty(editorState) && !isSaved && savingState === -1) {\n            this.setState({ savingState: 2 })\n            var storageRef = firebase.storage().ref(selectedFile.transcribedFile.filePath);\n            var currentUser = firebase.auth().currentUser;\n            firebase.firestore().collection('userfiles').doc(currentUser.uid).collection('files').doc(selectedFile.id).update({ lastEdit: new Date() });\n\n            const transcript = convertToTranscript(\n                this.state.editorState.getCurrentContent(),\n                this.state.speakers\n            );\n            const blob = new Blob([JSON.stringify(transcript.toJSON(), null, 2)], {\n                type: 'application/json;charset=utf-8',\n            });\n            await storageRef.put(blob)\n                .then(snapshot => {\n                    this.setState({ isSaved: true, savingState: 1 })\n                    this.clearSavingState();\n                })\n                .catch(error => {\n                    // TODO: UPDATE_TRANSCRIBED_FILE_ERROR\n                    this.setState({ savingState: -2 })\n                    this.clearSavingState();\n                    console.log(error);\n                });\n        }\n    }\n\n    clearSavingState = () => {\n        setTimeout(() => {\n            this.setState({\n                savingState: 0\n            })\n        }, 1250)\n    }\n\n    downloadAsTxt = async () => {\n        this.setState({ showDownloadSpinner: true });\n\n        await this.updateTranscribedFile();\n        const { selectedFile } = this.props;\n\n        var getTxtFile = firebase.functions().httpsCallable('getTxtFile');\n        getTxtFile({\n            fileId: selectedFile.id\n        }).then(({ data }) => {\n            var storageRef = firebase.storage().ref(data.filePath);\n            var fileName = selectedFile.name.replace(/,/g, '').replace(/'/g, '').replace(/ /g, '_');\n            fileName = fileName.substr(0, fileName.lastIndexOf('.')) + '.txt';\n            var newMetadata = {\n                contentDisposition: `attachment;filename=${fileName}`\n            }\n            storageRef.updateMetadata(newMetadata)\n                .then((metadata) => {\n                    storageRef.getDownloadURL().then((downloadUrl) => {\n                        const element = document.createElement(\"a\");\n                        element.href = downloadUrl;\n                        element.click();\n                        this.setState({ showDownloadSpinner: false });\n                    });\n                })\n        }).catch((err) => {\n            // TODO: GET_SRT_FILE_ERROR\n            console.log(err);\n        });\n    }\n\n    downloadAsDocx = async () => {\n        this.setState({ showDownloadSpinner: true });\n\n        await this.updateTranscribedFile();\n\n        var { selectedFile } = this.props;\n\n        var getDocxFile = firebase.functions().httpsCallable('getDocxFile');\n        getDocxFile({\n            fileId: selectedFile.id\n        })\n            .then(({ data }) => {\n                var storageRef = firebase.storage().ref(data.filePath);\n                var fileName = selectedFile.name.replace(/,/g, '').replace(/'/g, '').replace(/ /g, '_');\n                fileName = fileName.substr(0, fileName.lastIndexOf('.')) + '.docx';\n                var newMetadata = {\n                    contentDisposition: `attachment;filename=${fileName}`\n                }\n                storageRef.updateMetadata(newMetadata)\n                    .then(() => {\n                        storageRef.getDownloadURL().then((downloadUrl) => {\n                            const element = document.createElement(\"a\");\n                            element.href = downloadUrl;\n                            element.click();\n                            this.setState({ showDownloadSpinner: false });\n                        });\n                    })\n            }).catch((err) => {\n                // TODO: GET_DOCX_FILE_ERROR\n                console.log(err);\n            });\n    }\n\n    downloadAsSrt = async () => {\n        await this.updateTranscribedFile();\n\n        var { selectedFile } = this.props;\n        this.setState({ showDownloadSpinner: true });\n\n        var getSrtFile = firebase.functions().httpsCallable('getSrtFile');\n        getSrtFile({\n            fileId: selectedFile.id\n        })\n            .then(({ data }) => {\n                var storageRef = firebase.storage().ref(data.filePath);\n                var fileName = selectedFile.name.replace(/,/g, '').replace(/'/g, '').replace(/ /g, '_');\n                fileName = fileName.substr(0, fileName.lastIndexOf('.')) + '.srt';\n                var newMetadata = {\n                    contentDisposition: `attachment;filename=${fileName}`\n                }\n                storageRef.updateMetadata(newMetadata)\n                    .then(() => {\n                        storageRef.getDownloadURL().then((downloadUrl) => {\n                            const element = document.createElement(\"a\");\n                            element.href = downloadUrl;\n                            element.click();\n                            this.setState({ showDownloadSpinner: false });\n                        });\n                    })\n            }).catch((err) => {\n                // TODO: GET_SRT_FILE_ERROR\n                console.log(err);\n            });\n    }\n\n    speakerTagChanged = () => {\n        this.setState({\n            isSaved: false,\n            savingState: -1\n        })\n    }\n\n    handleTimeUpdate = (time) => {\n        this.setState({ currentTime: time });\n    }\n\n    onTextChange = (editorState) => {\n        if (this.state.editorState !== editorState) {\n            this.setState({\n                editorState,\n                isSaved: false,\n                savingState: -1\n            })\n        }\n    }\n\n    editSpeaker = (newSpeaker, index) => {\n        var { speakers } = this.state;\n        speakers = speakers.update(index, (item) => {\n            return item.set('name', newSpeaker);\n        })\n        speakers = this.removeEmptySpeakers(speakers);\n        this.setState({\n            speakers\n        })\n    }\n\n    addNewSpeaker = (newSpeaker) => {\n        var { speakers } = this.state;\n        var speakersJSON = speakers.toJS();\n        speakersJSON[speakersJSON.length] = { name: newSpeaker };\n        speakers = fromJS(speakersJSON);\n        this.setState({\n            speakers\n        })\n    }\n\n    setSpeaker = (blockIndex, speakerIndex) => {\n        var contentState = this.state.editorState.getCurrentContent()\n        var contentStateJSON = convertToRaw(contentState);\n        if (!contentStateJSON.blocks[blockIndex])\n            contentStateJSON.blocks[blockIndex] = {};\n        if (!contentStateJSON.blocks[blockIndex].data)\n            contentStateJSON.blocks[blockIndex].data = {};\n        contentStateJSON.blocks[blockIndex].data.speaker = speakerIndex;\n        contentState = convertFromRaw(contentStateJSON);\n        this.setState({\n            editorState: EditorState.createWithContent(contentState)\n        })\n    }\n\n    goToPayment = () => {\n        const { fileId, minutesToBePaid } = this.state;\n\n        this.props.setTrimmedFileInfo(fileId, minutesToBePaid);\n        this.props.history.push(`/user#payment?fileId=${fileId}`);\n    }\n\n    reduceCredits = () => {\n        const { user } = this.props;\n        const { fileId, minutesToBePaid } = this.state;\n        this.setState({\n            showReduceCreditsSpinner: true\n        })\n        var fncReduceCredits = firebase.functions().httpsCallable('reduceCredits');\n        fncReduceCredits({\n            uid: user.uid,\n            fileId,\n            minutesToReduce: minutesToBePaid\n        }).then(({ data }) => {\n            if (data === 'SUCCESS') {\n                this.setState({\n                    showReduceCreditsSpinner: false\n                })\n                this.getTranscriptionResult();\n            }\n        })\n    }\n\n    render() {\n        var { selectedFile, intl, user } = this.props;\n        const { editorData, editorState, speakers, fileSrc, currentTime, trimmed, minutesToShow, minutesToBePaid, showReduceCreditsSpinner } = this.state;\n        if (_.isEmpty(selectedFile)) selectedFile = {};\n        let remainingMinutes = user && user.currentPlan ? user.currentPlan.remainingMinutes : 0;\n        let amountToBePaid = (0.1 * minutesToBePaid).toFixed(2);\n        return (\n            <div>\n                <Dashboard />\n                <div className='transcription-container'>{/* TODO: change this!!!!!!!!!!!!!!!!!!!!!!*/}\n                    {\n                        this.state.showSpinner &&\n                        <div className=\"d-flex justify-content-center mt-5\">\n                            <div className=\"spinner-border\" role=\"status\">\n                                <span className=\"sr-only\">Loading...</span>\n                            </div>\n                        </div>\n                    }\n                    {\n                        !this.state.showSpinner && (\n                            <div className='transcription p-2 flex-fill'>\n                                <div>\n                                    <div className=\"d-flex flex-col\">\n                                        <div className=\"p-2 flex-fill\">\n                                            <div className='row'>\n                                                <div className='col-4 text-center' >\n                                                    <span className='result-file-name' title={selectedFile.name}>{selectedFile.name}</span>\n                                                    <VideoPlayer\n                                                        //thumbnail TODO Put Thumbnail of video, undefined for audio\n                                                        src={fileSrc}\n                                                        onTimeUpdate={this.handleTimeUpdate}\n                                                    />\n                                                    {\n                                                        !this.state.showSpinner && !_.isEmpty(editorData) &&\n                                                        <Export\n                                                            downloadAsDocx={this.downloadAsDocx}\n                                                            downloadAsTxt={this.downloadAsTxt}\n                                                            downloadAsSrt={this.downloadAsSrt}\n                                                            onSave={this.updateTranscribedFile}\n                                                            savingState={this.state.savingState}\n                                                            fileType={selectedFile.options ? selectedFile.options.type : ''}\n                                                            showDownloadSpinner={this.state.showDownloadSpinner}\n                                                        />\n                                                    }\n                                                    {\n                                                        trimmed &&\n                                                        (\n                                                            <div className='missing-credits-container'>\n                                                                {\n                                                                    remainingMinutes >= minutesToBePaid ?\n                                                                        <div>\n                                                                            <FormattedMessage id='Editor.trimmedReduceCreditMessage' values={{ minutesToShow, minutesToBePaid }} />\n                                                                            <br />\n                                                                            <Button onClick={this.reduceCredits}>\n                                                                                <FormattedMessage id='Editor.reduceCredits' />\n                                                                                {\n                                                                                    showReduceCreditsSpinner && (\n                                                                                        <Spinner animation=\"grow\" role=\"status\" size='sm' />\n                                                                                    )\n                                                                                }\n                                                                            </Button>\n                                                                        </div>\n                                                                        :\n                                                                        <div>\n                                                                            <FormattedMessage id='Editor.trimmedPaymentMessage' values={{ minutesToShow, minutesToBePaid, amountToBePaid: '$' + amountToBePaid }} />\n                                                                            < br />\n                                                                            <Button onClick={this.goToPayment}>\n                                                                                <FormattedMessage id='Editor.goToPayment' />\n                                                                            </Button>\n                                                                        </div>\n                                                                }\n                                                            </div>\n                                                        )\n                                                    }\n                                                </div>\n                                                <div className='col-8 editor-container'>\n                                                    <SpeechTextEditor\n                                                        editorState={editorState}\n                                                        speakers={speakers}\n                                                        currentTime={currentTime}\n                                                        onTextChange={this.onTextChange}\n                                                        editSpeaker={this.editSpeaker}\n                                                        addNewSpeaker={this.addNewSpeaker}\n                                                        setSpeaker={this.setSpeaker}\n                                                    />\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <React.Fragment>\n                                        <Prompt\n                                            when={this.state.blockNavigation}\n                                            message={intl.formatMessage({ id: \"Editor.leaveMessage\" })}\n                                        />\n                                    </React.Fragment>\n                                </div>\n                            </div>\n                        )\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = ({ user, selectedFile }) => {\n    return { user, selectedFile };\n}\n\nexport default connect(mapStateToProps, { handleTimeChange, isPlaying, setEditorFocus, getFile, setTrimmedFileInfo })(injectIntl(withRouter(TranscriptionResult)));","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { Modal, Form, Row, Col, Button } from 'react-bootstrap';\nimport Rating from 'react-rating';\n\nimport './../styles/evaluation.css';\nimport { saveEvaluation } from './../actions';\n\nclass EvaluationPopup extends Component {\n    constructor(props) {\n        super(props);\n\n        console.log(props)\n        let fileInfo = props.match.params.fileInfo;\n        if(_.isEmpty(props.match.params) || _.isEmpty(props.match.params.fileInfo)) {\n            this.props.history.push('/');\n        } else {\n            fileInfo = fileInfo.split('_');\n            let userId = fileInfo[0];\n            let fileId = fileInfo[1];\n            \n            this.state = {\n                transcriptionRating: 0,\n                editorRating: 0,\n                thoughts: '',\n                userId,\n                fileId\n            }\n        }\n    }\n    \n    transcriptionRatingClicked = (value) => {\n        this.setState({\n            transcriptionRating: value\n        })\n    }\n\n    editorRatingClicked = (value) => {\n        this.setState({\n            editorRating: value\n        })\n    }\n\n    handleThoughtsChange = (e) => {\n        this.setState({\n            thoughts: e.target.value\n        })\n    }\n\n    handleSuccess = () => {\n        var that = this;\n        this.props.saveEvaluation(this.state);\n        this.setState({\n            evaluationSaved: true\n        }, () => {\n            setTimeout(() => {\n                that.props.history.push('/')\n            }, 5000)\n        })\n    }\n\n    handleCancel = () => {\n        this.props.history.push('/');\n    }\n\n    renderSuccess = () => {\n        return (\n            <Modal show={true}>\n                <Modal.Header>\n                    Thank you for your feedback!\n                </Modal.Header>\n                <Modal.Body>\n                    <i>You will be redirected to SpeechText.io soon...</i>\n                </Modal.Body>\n            </Modal>\n        )\n    }\n\n    render() {\n        if(_.isEmpty(this.state)) return null;\n        if(this.state.evaluationSaved) {\n            return this.renderSuccess();\n        }\n        return (\n            <div>\n                <Modal show={true} size=\"lg\">\n                    <Modal.Header>\n                        <b>\n                            Please give us feedback for the service given by SpeechText.io\n                        </b>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <div>\n                            <Row>\n                                <Col lg='8'>\n                                    Rate your experience with uploading / transcription process\n                                </Col>\n                                <Col lg='4'>\n                                    <Rating\n                                        emptySymbol=\"fa fa-star-o fa-2x\"\n                                        fullSymbol=\"fa fa-star fa-2x\"\n                                        fractions={2}\n                                        className='rating m-auto'\n                                        initialRating={ this.state.transcriptionRating }\n                                        onClick={ this.transcriptionRatingClicked }\n                                    />\n                                </Col>\n                            </Row>\n                            <br />\n                            <Row>\n                                <Col lg='8'>\n                                    Rate your experience with our online editor\n                                </Col>\n                                <Col lg='4'>\n                                    <Rating\n                                        emptySymbol=\"fa fa-star-o fa-2x\"\n                                        fullSymbol=\"fa fa-star fa-2x\"\n                                        fractions={2}\n                                        className='rating m-auto'\n                                        initialRating={ this.state.editorRating }\n                                        onClick={ this.editorRatingClicked }\n                                    />\n                                </Col>\n                            </Row>\n                            <br />\n                            <div>\n                                <p>Any other comments about SpeechText.io? Let us know</p>\n                                <Form.Control\n                                    required\n                                    type=\"text\"\n                                    as=\"textarea\"\n                                    rows=\"6\"\n                                    value={this.state.thoughts || ''}\n                                    onChange={ this.handleThoughtsChange }\n                                />                            \n                            </div>\n                        </div>\n                    </Modal.Body>\n                    <Modal.Footer>\n                        <Button variant='danger' onClick={ this.handleCancel }>\n                            Cancel\n                        </Button>\n                        <Button variant='success' onClick={ this.handleSuccess }>\n                            Submit\n                        </Button>\n                    </Modal.Footer>\n                </Modal>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({ language }) => {\n    return {\n        language\n    }\n}\n\nexport default connect(mapStateToProps, { saveEvaluation })(EvaluationPopup);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Row, Col } from 'react-bootstrap';\nimport FirebaseUIAuth from \"react-firebaseui-localized\";\nimport { withRouter } from 'react-router';\n\nimport { login } from '../actions';\nimport Utils from '../utils';\nimport LogoContainer from './logo-container';\nimport '../styles/auth.css';\n\nconst { firebase } = Utils;\nconst uiConfig = {\n    // Popup signin flow rather than redirect flow.\n    signInFlow: 'redirect',\n    // Redirect to /signedIn after sign in is successful. Alternatively you can provide a callbacks.signInSuccess function.\n    signInSuccessUrl: '/',\n    credentialHelper: 'none',\n    // We will display Google and Facebook as auth providers.\n    signInOptions: [\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n        firebase.auth.FacebookAuthProvider.PROVIDER_ID,\n        firebase.auth.EmailAuthProvider.PROVIDER_ID\n    ],\n    tosUrl: \"https://speechtext.io/terms-of-service/\",\n    privacyPolicyUrl: \"https://speechtext.io/privacy-policy/\"\n};\n\nclass Auth extends Component {\n    componentDidMount() {\n        this.unsubscribe = firebase.auth().onAuthStateChanged(currentUser => {\n            console.log('authDidMount currentUser', currentUser)\n            if (currentUser) {\n                this.props.history.push('/')\n            }\n        })\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe()\n    }\n\n    render() {\n        console.log('Auth Renders', this.props)\n        console.log('Auth Renders currentUser', firebase.auth().currentUser)\n        return (\n            <div className=\"container auth-container\">\n                <Row>\n                    <Col className='login-container'>\n                        <LogoContainer />\n                        <FirebaseUIAuth\n                            lang={this.props.language ? this.props.language.split(/[-_]/)[0] : 'en'}\n                            config={uiConfig}\n                            auth={firebase.auth()}\n                            firebase={firebase}\n                        />\n                    </Col>\n                </Row>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({ user }) => {\n    return { user }\n}\n\nexport default connect(mapStateToProps, { login })(withRouter(Auth));","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport _ from 'lodash';\nimport { bake_cookie } from 'sfcookies';\n\nimport { login } from '../actions';\nimport LogoEn from '../assets/logo-en.png';\nimport LogoTr from '../assets/logo-tr.png';\nimport Utils from '../utils';\nimport '../styles/splash.css';\n\nconst { auth } = Utils.firebase;\n\nclass Splash extends Component {\n    componentDidMount() {\n        setTimeout(this.checkUser, 1000)\n        //this.checkEmailVerified();\n        if (!_.isEmpty(this.props.user)) this.props.getFileList();\n    }\n\n    checkUser = async () => {\n        const { history } = this.props\n        var that = this;\n        auth().onAuthStateChanged(user => {\n            const currentUser = user ? user : '';\n            that.setState({ user: currentUser });\n            if (currentUser) {\n                const { uid, displayName, email, emailVerified, metadata } = currentUser;\n                const { lastSignInTime, creationTime } = metadata;\n                const isNewUser = creationTime === lastSignInTime\n                const loginInfo = {\n                    uid,\n                    displayName,\n                    email,\n                    isNewUser,\n                    emailVerified,\n                    creationTime: new Date(creationTime),\n                };\n                that.props.login(loginInfo);\n                bake_cookie(process.env.REACT_APP_LOGIN_INFO_NAME, loginInfo);\n                history.push('/dashboard')\n            } else {\n                history.push('/auth')\n            }\n        });\n    }\n\n    render() {\n        const { language } = this.props;\n        return (\n            <div className='splash-container'>\n                <img\n                    alt='Online Audio/Video Transcripton Logo'\n                    src={language === 'tr-TR' ? LogoTr : LogoEn}\n                    className='logo-style'\n                />\n                <span className='spinner-border text-dark'></span>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = ({ language }) => {\n    return { language };\n}\n\nexport default connect(mapStateToProps, { login })(Splash);","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport Alert from 'react-s-alert';\n\nimport { setLanguage, setSupportedLanguages, getPlans, getErrorDefinitions } from '../actions';\nimport Dashboard from './dashboard/dashboard';\nimport User from './user/user';\nimport TranscriptionResult from './dashboard/transcription-result'\nimport Evaluate from './../components/evaluation-popup';\nimport Auth from '../components/auth';\nimport Splash from '../components/splash';\n\nimport 'react-s-alert/dist/s-alert-default.css';\nimport 'react-s-alert/dist/s-alert-css-effects/slide.css';\n\nclass App extends Component {\n    componentDidMount() {\n        this.props.setLanguage(this.props.language);\n        this.props.setSupportedLanguages(this.props.supportedLanguages);\n        this.props.getPlans();\n        this.props.getErrorDefinitions(this.props.language);\n    }\n\n    render() {\n        return (\n            <div className='app-container'>\n                <BrowserRouter>\n                    <Switch>\n                        <Route exact path='/' component={Splash} /> />\n                        <Route path='/dashboard' component={Dashboard} /> />\n                        <Route path='/auth' component={Auth} />\n                        <Route path='/user' component={User} />\n                        <Route path='/edit' component={TranscriptionResult} />\n                        <Route path='/feedback/:fileInfo' component={Evaluate} />\n                        <Route exact path='/feedback' component={Evaluate} />\n                    </Switch>\n                </BrowserRouter>\n                <Alert stack={{ limit: 3 }} timeout={5000} html={true} effect={'slide'} position={'top-right'} />\n            </div>\n        )\n    }\n}\n\nexport default connect(null, { setLanguage, setSupportedLanguages, getPlans, getErrorDefinitions })(App);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport { IntlProvider } from 'react-intl';\n\nimport reducers from './reducers';\nimport Utils from './utils';\nimport App from './containers/app';\n\nimport './styles/app.css';\n\nconst { supportedLanguages, currentLanguage, messages } = Utils.Localization;\nUtils.initGoogleAnalytics();\nUtils.initSentry();\n\nconst composeEnhancers = compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunk)\n));\n\nconst Root = () => (\n    <Provider store={store}>\n        <IntlProvider locale={currentLanguage} messages={messages[currentLanguage]} >\n            <App language={currentLanguage} supportedLanguages={supportedLanguages} />\n        </IntlProvider>\n    </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));"],"sourceRoot":""}